window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AdItem_drawer:[function(t,e,o){"use strict";cc._RF.push(e,"e5067M/qmdBwoWTGHSYPzXY","AdItem_drawer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e._frames=[],e._framesindex=0,e._framestime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setData=function(t,e,o){var n=this;this.data=t,this.ad_type=o;var i=this.node.getChildByName("boxMask");if(this.image=i.getChildByName("mask").getChildByName("img").getComponents(cc.Sprite)[0],i.getChildByName("text").getComponents(cc.Label)[0].string=t.appname,i.getChildByName("bgColor").color=e%2==0?new cc.Color(218,24,88):new cc.Color(225,166,39),"0"!=this.data.heat)for(var r=Number(this.data.heat),a=1;a<=4;a++)this.node.getChildByName("icon"+a).active=a==r;else for(a=1;a<5;a++)this.node.getChildByName("icon"+a).active=!1;cc.loader.load(t.image,function(e,o){for(var i=[],r=0;r<3;r++)for(var a=0;a<3;a++)i.length<Number(t.frame)&&i.push([160*a,160*r]);for(r=0;r<i.length;r++){var c=new cc.SpriteFrame(o,new cc.Rect(i[r][0],i[r][1],160,160),!1,cc.Vec2.ZERO,new cc.Size(1080,1e3));n._frames.push(c)}n.image.spriteFrame=n._frames[0]}),this.node.on(cc.Node.EventType.TOUCH_END,this.ontap,this)},e.prototype.update=function(){this._framestime++,this._framestime>8&&(this._framestime=0,this._framesindex++,this._framesindex>=this._frames.length&&(this._framesindex=0),this.image.spriteFrame=this._frames[this._framesindex])},e.prototype.ontap=function(){a.default.prototype.openGame(this.data,this.ad_type,window.drawerPrefab.getComponent("CDrawerAd"))},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"text",void 0),r([l],e.prototype,"data",void 0),r([l],e.prototype,"_frames",void 0),r([l],e.prototype,"_framesindex",void 0),r([l],e.prototype,"_framestime",void 0),r([l],e.prototype,"image",void 0),r([l],e.prototype,"ad_type",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkui":"zzsdkui"}],AdItem_inter_full:[function(t,e,o){"use strict";cc._RF.push(e,"6963eoImA1GZIfzJgdFplv/","AdItem_inter_full");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e._frames=[],e._framesindex=0,e._framestime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setData=function(t,e,o){var n=this;this.data=t,this.ad_type=o;var i=this.node.getChildByName("boxMask");this.image=i.getChildByName("mask").getChildByName("img").getComponents(cc.Sprite)[0];var r=i.getChildByName("name").getComponents(cc.Label)[0];if(r.string=t.appname,t.appname.length>5&&(r.fontSize=20),this.node.getChildByName("playNum")){this.playNum=this.node.getChildByName("playNum").getComponent(cc.Label),this.score=this.node.getChildByName("score").getComponent(cc.Label);var a=Math.floor(201*Math.random()+200);this.playNum.string=a+"\u4e07\u4eba\u5728\u73a9";var c=void 0;cc.sys.localStorage.getItem(t.appname)?c=cc.sys.localStorage.getItem(t.appname):(c=(4+Number(Math.random().toFixed(1))-.1).toFixed(1),cc.sys.localStorage.setItem(t.appname,c)),this.score.string="\u8bc4\u5206\uff1a"+c+"\u5206"}cc.loader.load(t.image,function(e,o){for(var i=[],r=0;r<3;r++)for(var a=0;a<3;a++)i.length<Number(t.frame)&&i.push([160*a,160*r]);for(r=0;r<i.length;r++){var c=new cc.SpriteFrame(o,new cc.Rect(i[r][0],i[r][1],160,160),!1,cc.Vec2.ZERO,new cc.Size(1080,1e3));c&&n._frames.push(c)}n.image.spriteFrame=n._frames[0]}),this.node.on(cc.Node.EventType.TOUCH_END,this.ontap,this)},e.prototype.update=function(){this._framestime++,this._framestime>8&&(this._framestime=0,this._framesindex++,this._framesindex>=this._frames.length&&(this._framesindex=0),this.image.spriteFrame=this._frames[this._framesindex])},e.prototype.ontap=function(){a.default.prototype.openGame(this.data,this.ad_type,window.interFullPrefab.getComponent("CInter_full"),function(t,e){cc.game.emit("zzsdkui.openGame",t,e)})},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"data",void 0),r([l],e.prototype,"_frames",void 0),r([l],e.prototype,"_framesindex",void 0),r([l],e.prototype,"_framestime",void 0),r([l],e.prototype,"image",void 0),r([l],e.prototype,"playNum",void 0),r([l],e.prototype,"score",void 0),r([l],e.prototype,"ad_type",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkui":"zzsdkui"}],AdItem_inter_over:[function(t,e,o){"use strict";cc._RF.push(e,"2746b0Ai1xHNLeRTA2OFh7G","AdItem_inter_over");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e._frames=[],e._framesindex=0,e._framestime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setData=function(t,e,o){var n=this;this.data=t,this.ad_type=o;var i=this.node.getChildByName("boxMask");this.image=i.getChildByName("img").getComponents(cc.Sprite)[0];var r=i.getChildByName("text").getComponents(cc.Label)[0];r.string=t.appname,t.appname.length>5&&(r.fontSize=20),i.getChildByName("bgColor").color=e%2==0?new cc.Color(218,24,88):new cc.Color(225,166,39),cc.loader.load(t.image,function(e,o){for(var i=[],r=0;r<3;r++)for(var a=0;a<3;a++)i.length<Number(t.frame)&&i.push([160*a,160*r]);for(r=0;r<i.length;r++){var c=new cc.SpriteFrame(o,new cc.Rect(i[r][0],i[r][1],160,160),!1,cc.Vec2.ZERO,new cc.Size(1080,1e3));c&&n._frames.push(c)}n.image.spriteFrame=n._frames[0]}),this.node.on(cc.Node.EventType.TOUCH_END,this.ontap,this)},e.prototype.update=function(){this._framestime++,this._framestime>8&&(this._framestime=0,this._framesindex++,this._framesindex>=this._frames.length&&(this._framesindex=0),this.image.spriteFrame=this._frames[this._framesindex])},e.prototype.ontap=function(){a.default.prototype.openGame(this.data,this.ad_type,window.interOverPrefab.getComponent("CInterAd_over"),function(t,e){cc.game.emit("zzsdkui.openGame",t,e)})},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"text",void 0),r([l],e.prototype,"data",void 0),r([l],e.prototype,"_frames",void 0),r([l],e.prototype,"_framesindex",void 0),r([l],e.prototype,"_framestime",void 0),r([l],e.prototype,"image",void 0),r([l],e.prototype,"ad_type",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkui":"zzsdkui"}],AdItem_inter:[function(t,e,o){"use strict";cc._RF.push(e,"44c16rK5ZFDf5C2o2ZdiGMY","AdItem_inter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e._frames=[],e._framesindex=0,e._framestime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setData=function(t,e,o){var n=this;this.data=t,this.ad_type=o;var i=this.node.getChildByName("boxMask");this.image=i.getChildByName("mask").getChildByName("img").getComponents(cc.Sprite)[0];var r=i.getChildByName("text").getComponents(cc.Label)[0];if(r.string=t.appname,t.appname.length>5&&(r.fontSize=22),i.getChildByName("bgColor").color=e%2==0?new cc.Color(218,24,88):new cc.Color(225,166,39),"0"!=this.data.heat)for(var a=Number(this.data.heat),c=1;c<=4;c++)this.node.getChildByName("icon"+c).active=c==a;else for(c=1;c<5;c++)this.node.getChildByName("icon"+c).active=!1;cc.loader.load(t.image,function(e,o){for(var i=[],r=0;r<3;r++)for(var a=0;a<3;a++)i.length<Number(t.frame)&&i.push([160*a,160*r]);for(r=0;r<i.length;r++){var c=new cc.SpriteFrame(o,new cc.Rect(i[r][0],i[r][1],160,160),!1,cc.Vec2.ZERO,new cc.Size(1080,1e3));n._frames.push(c)}n.image.spriteFrame=n._frames[0]}),this.node.on(cc.Node.EventType.TOUCH_START,this.ontap,this)},e.prototype.update=function(){this._framestime++,this._framestime>8&&(this._framestime=0,this._framesindex++,this._framesindex>=this._frames.length&&(this._framesindex=0),this.image.spriteFrame=this._frames[this._framesindex])},e.prototype.ontap=function(){a.default.prototype.openGame(this.data,this.ad_type,window.interPrefab.getComponent("CInterAd"))},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"text",void 0),r([l],e.prototype,"data",void 0),r([l],e.prototype,"_frames",void 0),r([l],e.prototype,"_framesindex",void 0),r([l],e.prototype,"_framestime",void 0),r([l],e.prototype,"image",void 0),r([l],e.prototype,"ad_type",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkui":"zzsdkui"}],AdItem_youlike_roll:[function(t,e,o){"use strict";cc._RF.push(e,"5ed73C5VllBprf6j5Wj1DH9","AdItem_youlike_roll");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._frames=[],e._framesindex=0,e._framestime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setData=function(t,e){var o=this;this.data=t,this.ad_type=e,this.image=this.node.getChildByName("mask").getChildByName("img").getComponent(cc.Sprite),this.node.getChildByName("text").getComponent(cc.Label).string=t.appname,cc.loader.load(t.image,function(e,n){for(var i=[],r=0;r<3;r++)for(var a=0;a<3;a++)i.length<Number(t.frame)&&i.push([160*a,160*r]);for(r=0;r<i.length;r++){var c=new cc.SpriteFrame(n,new cc.Rect(i[r][0],i[r][1],160,160),!1,cc.Vec2.ZERO,new cc.Size(1080,1e3));c&&o._frames.push(c)}o.image.spriteFrame=o._frames[0]}),this.node.on(cc.Node.EventType.TOUCH_END,this.ontap,this)},e.prototype.update=function(){this._framestime++,this._framestime>8&&(this._framestime=0,this._framesindex++,this._framesindex>=this._frames.length&&(this._framesindex=0),this.image.spriteFrame=this._frames[this._framesindex])},e.prototype.ontap=function(){a.default.prototype.openGame(this.data,this.ad_type,window.youlikePrefab_roll.getComponent("CYouLikeAd_roll"))},r([l],e.prototype,"data",void 0),r([l],e.prototype,"_frames",void 0),r([l],e.prototype,"_framesindex",void 0),r([l],e.prototype,"_framestime",void 0),r([l],e.prototype,"image",void 0),r([l],e.prototype,"ad_type",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkui":"zzsdkui"}],AdItem_youlike:[function(t,e,o){"use strict";cc._RF.push(e,"91c48n8ntJFwor1EvH08dbx","AdItem_youlike");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e._frames=[],e._framesindex=0,e._framestime=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setData=function(t,e){var o=this;this.data=t,this.ad_type=e,this.image=this.node.getChildByName("mask").getChildByName("img").getComponents(cc.Sprite)[0],this.node.getChildByName("text").getComponents(cc.Label)[0].string=t.appname,cc.loader.load(t.image,function(e,n){for(var i=[],r=0;r<3;r++)for(var a=0;a<3;a++)i.length<t.frame&&i.push([160*a,160*r]);for(r=0;r<i.length;r++){var c=new cc.SpriteFrame(n,new cc.Rect(i[r][0],i[r][1],160,160),!1,cc.Vec2.ZERO,new cc.Size(1080,1e3));o._frames.push(c)}o.image.spriteFrame=o._frames[0]}),this.node.on(cc.Node.EventType.TOUCH_START,this.ontap,this)},e.prototype.update=function(){this._framestime++,this._framestime>8&&(this._framestime=0,this._framesindex++,this._framesindex>=this._frames.length&&(this._framesindex=0),this.image.spriteFrame=this._frames[this._framesindex])},e.prototype.ontap=function(){a.default.prototype.openGame(this.data,this.ad_type,window.youlikePrefab.getComponent("CYouLikeAd"))},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"data",void 0),r([l],e.prototype,"_frames",void 0),r([l],e.prototype,"_framesindex",void 0),r([l],e.prototype,"_framestime",void 0),r([l],e.prototype,"image",void 0),r([l],e.prototype,"ad_type",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkui":"zzsdkui"}],AddToMyFav:[function(t,e,o){"use strict";cc._RF.push(e,"b7431S0vqlPiqNKDpwvWLTc","AddToMyFav");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../Platform"),s=cc._decorator,l=s.ccclass,u=s.property;(function(t){t[t.left=0]="left",t[t.bottom=1]="bottom",t[t.auto=2]="auto"})(a||(a={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pointer=null,e.posType=a.auto,e.hideAfterSec=30,e.widget=null,e}return i(e,t),e.prototype.onLoad=function(){this.widget=this.getComponent(cc.Widget)},e.prototype.start=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var t=c.default.getLaunchOptions();if(console.log("\u573a\u666f\u503c :",t),1001==t.scene||1089==t.scene)return void(this.node.active=!1)}this.posType==a.auto?cc.winSize.height/cc.winSize.width>1.98?this.showStyle2():this.showStyle1():this.posType==a.bottom?this.showStyle1():this.posType==a.left&&this.showStyle2(),this.scheduleOnce(this.click_hide,this.hideAfterSec)},e.prototype.click_hide=function(){this.node.active=!1},e.prototype.showStyle1=function(){this.pointer.rotation=0,this.widget.top=128,this.widget.right=140,this.widget.updateAlignment()},e.prototype.showStyle2=function(){this.pointer.rotation=90,this.widget.top=40,this.widget.right=300,this.widget.updateAlignment()},r([u(cc.Node)],e.prototype,"pointer",void 0),r([u({type:cc.Enum(a)})],e.prototype,"posType",void 0),r([u()],e.prototype,"hideAfterSec",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Platform":"Platform"}],BKTool:[function(t,e,o){"use strict";cc._RF.push(e,"313f56eFUNNW6GE0RObNSkH","BKTool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.PUIN="2896237320",t.headUrl="",t.nickName="",t.videoAd=void 0,t.bannerAd=void 0,t.videoAdLoadCount=0,t.viewAdLoadCount=0,t.bannerAdLoadCount=0,t}(),i=function(){function t(){}return t.skipGame=function(t){BK.QQ.skipGame(t,"IJPay")},t.versionCompare=function(t,e){return(t=parseInt(t.replace(/\./g,"").substring(0,3)))>=parseInt(e.replace(/\./g,"").substring(0,3))},t.shareToArk=function(){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",isToFriend:!0,summary:"\u5355\u6e20\u9053\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(t){console.log("\u5206\u4eab\u6210\u529f",t.code,JSON.stringify(t.data))},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t.code,JSON.stringify(t.msg))},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210\uff0c\b\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},t.share=function(t){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",socialPicPath:"GameRes://qrcode.png",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"\u591a\u6e20\u9053\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(e){console.log("\u5206\u4eab\u6210\u529f",e.code,JSON.stringify(e.data)),0==e.data.ret?t&&t("success",e.data):t&&t("fail",e.data)},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25",e.code,JSON.stringify(e.msg)),t&&t("fail")},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210\uff0c\b\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},t.shareLink=function(){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",msgUrl:"https://gitee.com/javen205/Brickengine_Guide?",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"H5\u94fe\u63a5\u5206\u4eab-By Javen"})},t.screenShotShare=function(){var t=BK.Director.screenPixelSize,e=t.width,o=t.height;BK.Share.share({range:{x:e/2,y:o/2,width:e,height:o},qqImgUrl:"",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"\u622a\u56fe\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(t){console.log("\u5206\u4eab\u6210\u529f",t.code,JSON.stringify(t.data))},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t.code,JSON.stringify(t.msg))},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210,\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},t.follow=function(){console.log("Global.PUIN>"+n.PUIN),BK.QQ.enterPubAccountCard(n.PUIN)},t.getNick=function(){return n.nickName},t.createShortCut=function(){BK.QQ.createShortCut("")},t.getHead=function(){return n.headUrl},t.prototype.openUrl=function(t){BK.MQQ.Webview.open(t)},t.prototype.saveGameData=function(t){return new Promise(function(e){BK.QQ.saveGameData(t,function(t,o,n){BK.Console.log(1,1,"saveGameData : "+t+", "+o+", "+n),e({errCode:t,cmd:o,data:n})})})},t.prototype.loadGameData=function(){return new Promise(function(t){BK.QQ.loadGameData(function(e,o,n){BK.Console.log(1,1,"loadGameData : "+e+", "+o+", "+n),t({errCode:e,cmd:o,data:n})})})},t.prototype.sendB2CRedPacket=function(t){return new Promise(function(e){BK.QQ.sendB2CRedPacket(t,function(t,o,n){BK.Script.log(1,1,"sendB2CRedPacket : "+t+", "+o+", "+JSON.stringify(n)),e({errCode:t,cmd:o,data:n})})})},t.login=function(){BK.MQQ.Account.getHead(GameStatusInfo.openId,function(t,e){n.headUrl=e}),BK.MQQ.Account.getNick(GameStatusInfo.openId,function(t,e){n.nickName=e})},t.test=function(){var t=GameStatusInfo.openId;console.log("openId:",t);var e=BK.getSystemInfoSync();BK.Console.log("\u6e38\u620f\u7248\u672c\u53f7:"+e.gameVersion),BK.Console.log("\u662f\u5426\u623f\u4e3b:"+e.isMaster),BK.Console.log("\u623f\u95f4\u53f7:"+e.roomId),BK.Console.log("\u7cfb\u7edf\u7248\u672c:"+e.osVersion),BK.Console.log("\u7f51\u7edc\u7c7b\u578b:"+e.networkType),BK.Console.log("\u5e73\u53f0:"+e.platform),BK.Console.log("\u5f53\u524d\u7528\u6237\u7684\u6807\u8bc6:"+e.openId),BK.Console.log("\u624b\u673aqq\u7248\u672c:"+e.QQVer),BK.Console.log("\u662f\u5426\u9996\u6b21\u5b89\u88c5:"+e.isFirstInstall),BK.Console.log("\u5f53\u524d\u804a\u5929\u7a97\u7c7b\u578b:"+e.aioType),BK.Console.log("\u6e38\u620f\u542f\u52a8\u5165\u53e3:"+e.src),BK.Console.log("\u662f\u5426\u4e3a\u7ba1\u7406\u8d26\u53f7:"+e.isWhiteUser),BK.Console.log("\u6e38\u620f\u7c7b\u578b:"+e.gameType),BK.Console.log("\u5177\u4f53\u673a\u578b:"+e.model),BK.Console.log("\u6027\u522b:"+e.sex)},t.uploadScore=function(t,e){var o={userData:[{openId:GameStatusInfo.openId,startMs:((new Date).getTime()-3e5).toString(),endMs:(new Date).getTime().toString(),scoreInfo:{score:t}}],attr:{score:{type:"rank",order:1}}};BK.QQ.uploadScoreWithoutRoom(1,o,function(t,o,n){console.log("-------------uploadScoreWithoutRoom callback  cmd"+o+" errCode:"+t+"  data:"+JSON.stringify(n)),e&&e(t,n)})},t.getRankList=function(t){BK.QQ.getRankListWithoutRoom("score",1,0,function(e,o,n){if(console.log("--------------------getRankListWithoutRoom callback  cmd"+o+" errCode:"+e),0==e){if(n){var i=n.data.ranking_list;console.log("=====data not null "+i.length),console.log(JSON.stringify(n)),t&&t(e,i)}}else t&&t(e)})},t.loadVideoAd=function(e){console.log("============BKTOOl.loadVideoAD",n.videoAd);var o=BK.Advertisement.createVideoAd();o.onError(function(o){console.log(">>>>>>>>>BKTools onError code:"+o.code+" msg:"+o.msg),n.viewAdLoadCount+=1,n.viewAdLoadCount<4&&t.loadVideoAd(e),e&&e("error")}),o.onPlayFinish(function(){console.log("BKTools onPlayFinish..."),n.videoAd=void 0,e&&e("finish")}),o.onClose(function(){console.log("BKTools onClose..."),e&&e("close"),n.videoAd=void 0}),o.onLoad(function(){console.log("BKTools onLoad"),n.videoAd=o,n.videoAdLoadCount=0,e&&e("load",o)})},t.loadBannerAd=function(e,o){if(!o){var i=BK.getSystemInfoSync().QQVer;console.log("\u5f53\u524d\u624bQ\u7248\u672c:"+i);var r=t.versionCompare(i,"7.8.5");console.log("\u5f53\u524d\u7248\u672c\u5927\u4e8e7.8.5:"+r),o=r?1003:1002}console.log("loadBannerAd viewId:"+o);var a=BK.Advertisement.createBannerAd({viewId:o});a.onError(function(i){console.log("BKTools onError code:"+i.code+" msg:"+i.msg),n.bannerAdLoadCount+=1,n.bannerAdLoadCount<4&&t.loadBannerAd(e,o),e&&e("error")}),a.onLoad(function(){console.log("BKTools onLoad"),n.bannerAd=a,n.viewAdLoadCount=0,e&&e("load",a)})},t.showBannerAd=function(){console.log("BKTools \u663e\u793abanner\u5e7f\u544a"),n.bannerAd?n.bannerAd.show():(console.log("BKTools \u4e0d\u5b58\u5728banner\u8d44\u6e90...."),t.loadBannerAd(function(e){"load"==e&&t.showBannerAd()}))},t.hideBannerAd=function(){n.bannerAd?(n.bannerAd.hide(),n.bannerAd=void 0):console.log("BKTools \u4e0d\u5b58\u5728banner\u8d44\u6e90\u65e0\u6cd5\u5173\u95ed....")},t.showToast=function(t,e){e||(e=3e3),cc.sys.platform==cc.sys.QQ_PLAY&&BK.UI.showToast({title:t,duration:e,complete:function(){console.log("BKTools showToast complete:"+t)}})},t.keepScreenOn=function(){BK.Device.keepScreenOn({isKeepOn:!0})},t.cancelKeepScreenOn=function(){BK.Device.keepScreenOn({isKeepOn:!1})},t}();o.default=i,cc._RF.pop()},{}],BirdFront:[function(t,e,o){"use strict";cc._RF.push(e,"0713empCpJJ2LySN9/5WI/v","BirdFront");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Tag"),c=t("./BirdManager"),s=t("./Bird"),l=cc._decorator,u=l.ccclass,p=(l.property,l.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.once=!0,e.offset=null,e}return i(e,t),e.prototype.start=function(){this.body=this.getComponent(cc.RigidBody),this.bird=this.getComponentInParent(s.default),this.offset=this.node.position},e.prototype.update=function(){this.bird.isdead||(this.node.position=this.offset,this.body.syncPosition(!1))},e.prototype.revive=function(){this.once=!0},e.prototype.onBeginContact=function(t){if(this.once)switch((t.colliderA.node==this.node?t.colliderB:t.colliderA).node.groupIndex){case a.Tag.InvincibleBlock:this.bird.BirdDead(),this.once=!1;break;case a.Tag.Block:case a.Tag.BottomBlock:if(c.bm.IsPowerActive())return;this.bird.BirdDead(),this.once=!1}},r([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./Bird":"Bird","./BirdManager":"BirdManager","./Tag":"Tag"}],BirdManager:[function(t,e,o){"use strict";cc._RF.push(e,"6bc61Rn6opEFo5Gam9/SSXl","BirdManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.bm=void 0;var s=t("./Bird"),l=t("../Logic/PlayerInfo"),u=t("../../../framework/plugin_boosts/misc/Device"),p=t("../../../framework/plugin_boosts/components/PsSpawner"),f=t("./Egg"),d=t("../../../framework/plugin_boosts/misc/BoostsAction"),h=t("../Logic/LocalUser"),y=t("../../../framework/buff_system/BuffManager"),_=t("./Hud"),v=t("../../../framework/plugin_boosts/components/DynamicMap"),m=t("../../../framework/plugin_boosts/utils/Common"),b=t("../Module/model_manager"),w=t("../Module/LevelInfo"),P=t("./CheckPoint"),k=t("./InfiniteMap"),C=t("../../../framework/aldsdk/StatHelper"),S=t("../Module/SkinInfo"),O=t("../Logic/Util"),I=t("../../../framework/plugin_boosts/utils/EventManager"),x=cc._decorator,R=x.ccclass,A=x.property,M=x.menu;o.bm=null,cc.color(180,255,255,255),cc.color(98,184,255,255),cc.color(255,255,141,255),cc.color(255,0,255,255);var j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.birdTemplate=null,e.eggTemplate=null,e.battleLayer=null,e.blockLayer=null,e.iswin=!1,e.ispowerup=!1,e.eggsounds=[],e.soundinc=0,e.psfxPlayer=null,e._paused=!1,e.hud=null,e.eggContainer=null,e.map=null,e.homeNodes=[],e.landsprites=[],e.bg2=null,e.sceneId=0,e.GateLength=0,e.updateDeltaTime=1/15,e}return i(e,t),e.prototype.onLoad=function(){o.bm=this,this.hud.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.map.signal.add(this.onMapSignal,this),g.setGlobalInstance(this,"bm")},e.prototype.start=function(){l.PlayerInfo.initData(),vm.show("UI/UIBirdTip","begin"),this.onEnterGame(),this.selectedbird=l.PlayerInfo.sel_char;var t=this.birdTemplate;if(this.eggTemplate.active=!1,this.topbird=t,this.topbird.position=cc.v2(0,100),this.bb=this.topbird.getComponent(s.default),this.init(),l.PlayerInfo.playinglevel>=0){var e=b.default.get(w.default,l.PlayerInfo.playinglevel);this.map.outOfCamaraRemovePolicy=v.RemovePolicy.Remove,e.isValid&&this.loadMap(e.content)}else this.addComponent(k.default);C.default.startLevel(l.PlayerInfo.playinglevel,cc.js.formatStr("\u7b2c%d\u5173",l.PlayerInfo.playinglevel)),this.pauseGame()},e.prototype.onEnterGame=function(){1==l.PlayerInfo.playinglevel&&vm.show("UI/UIGuide")},e.prototype.loadMap=function(t,e){var n=this;this.landsprites.forEach(function(t){return O.default.setBrickStyle(t,n.sceneId)}),C.default.setLevelEndEvent(C.LevelEndEventType.Exit),console.log("load segments:",t);var i=t.filter(function(t){return 0!=t}).map(function(t){return"Prefab/lv/"+t});cc.loader.loadResArray(i,cc.Prefab,function(t,o){var i;if(t)return console.error(t);(i=n.map).addSements.apply(i,o),n.map.preloadAll(),n.map.begin(e),n.resumeGame(),n.hud.hideLoading(),n.onStartLevel()}),o.bm.map.signal.add(this.nextMapSignal,this),this.GateLength=1e3*i.length},e.prototype.onStartLevel=function(){this.node.runAction(d.ValueChangeAction.create(2,1,.67,function(t){cc.Camera.main.zoomRatio=t}).easing(cc.easeSineOut()))},e.prototype.replaceTheme=function(t,e){t.getComponentsInChildren(cc.Sprite).forEach(function(t){O.default.setBrickStyle(t,e)})},e.prototype.nextMapSignal=function(t,e){"newSegCreated"==t?this.replaceTheme(e,this.sceneId):"removeSeg"==t&&(l.PlayerInfo.tmpscore+=l.PlayerInfo.playinglevel,l.PlayerInfo.playinglevel>0&&o.bm.hud.playWithText("Prefab/fx/add_score",cc.Vec2.ZERO,"+"+l.PlayerInfo.playinglevel))},e.prototype.init=function(){if(l.PlayerInfo.playinglevel>0){var t=b.default.get(w.default,l.PlayerInfo.playinglevel);this.sceneId=t.scene}else this.sceneId=g.randomInt(1,6);cc.Camera.main.node.x=this.bb.node.x+cc.visibleRect.width/3;var e=l.PlayerInfo.lastStates,o=e[0],n=e[1],i=e[2];if(o==l.PlayerInfo.playinglevel&&0!=n&&0!=i){var r=new cc.Node,a=r.addComponent(cc.Sprite),c=b.default.get(S.default,l.PlayerInfo.birdID).birdId;m.default.setDisplay(a,"Texture/deadbird/dead"+c),r.parent=this.node,r.rotation=-45,r.opacity=120,r.x=n,r.y=i}this.hud.onLevelStart()},e.prototype.onMapSignal=function(t,e){"end"==t&&(console.log("\u8bbe\u7f6e\u7ed3\u675f\u6bb5"),this.homeNodes.forEach(function(t){t.x=e-cc.visibleRect.width/2,t.getComponentsInChildren(cc.RigidBody).forEach(function(t){return t.syncPosition(!1)})}))},e.prototype.onTouchBegan=function(){this.layEgg()},e.prototype.layEgg=function(){if(this.isrun&&!this.iswin&&!this.bb.checkTop()){if(!this.topbird)return;var t=this.topbird.position,e=this.topbird.y+this.topbird.height/2;this.topbird.y=e;var o=cc.instantiate(this.eggTemplate);if(o.active=!0,o.position=t,o.scale=.1,o.runAction(cc.scaleTo(.2,1).easing(cc.easeBackOut())),o.parent=this.eggContainer,h.LocalUser.vibrate&&u.default.vibrate(10),h.LocalUser.effect){var n=this.eggsounds[this.soundinc];u.default.playEffect(n,!1),4==this.soundinc?this.soundinc=0:this.soundinc++}}},e.prototype.pauseGame=function(){this._paused=!0,this.hud.enableMoveParticles(!1)},e.prototype.resumeGame=function(){this._paused=!1,this.hud.enableMoveParticles(!0)},e.prototype.IsPowerActive=function(){return this.ispowerup},e.prototype.UpdateMusicSetting=function(){},e.prototype.onEnable=function(){this.schedule(this.onUpdate,this.updateDeltaTime)},e.prototype.onDisable=function(){this.unschedule(this.onUpdate)},e.prototype.update=function(t){this._paused?this.bb.stoplandsmoke():(this.bb.isdead?this.isrun=!1:(this.isrun=!0,this.bb.move(t)),this.bb._moveEnabled&&(cc.Camera.main.node.x=this.bb.node.x+cc.visibleRect.width/3))},e.prototype.onUpdate=function(){var t=this.bb.worldPos;t.x-375<0?l.PlayerInfo.distance=0:l.PlayerInfo.distance=Math.floor(t.x/100-3.75),this.hud.updateDistance(t.x)},e.prototype.openWin=function(){vm.show("UI/UIWin")},e.prototype.revive=function(){var t=this;this.bb.revive(),null==this.bb.node.parent&&this.node.addChild(this.bb.node),l.PlayerInfo.isRevive=!0,this.destroyEggs();var e=null;if(1==this.blockLayer.children.length?e=this.blockLayer.children[0]:this.blockLayer.children.some(function(o,n){var i=o.getBoundingBoxToWorld(),r=l.PlayerInfo.lastStates,a=(r[0],r[1]),c=r[2],s=t.battleLayer.convertToWorldSpaceAR(cc.v2(a,c));return 0==n&&i.xMin>s.x?(e=o,!0):i.xMin<s.x&&i.xMax>s.x?(e=o,!0):void 0}),null==e&&(e=this.blockLayer.children[this.blockLayer.childrenCount-1]),e){var o=e.getComponentInChildren(P.default);o.activate();var n=this.node.convertToNodeSpaceAR(o.node.getBoundingBoxToWorld().center);n.addSelf(cc.v2(0,110)),this.bb.node.position=n,this.bb.body.syncPosition(!1),console.warn("\u5f53\u524d\u590d\u6d3b\u6bb5:",e.name)}},e.prototype.destroyEggs=function(t){return a(this,void 0,void 0,function(){var e,o,n,i,r,a;return c(this,function(c){switch(c.label){case 0:for(n in e=this.eggContainer.children.map(function(t){return t.getComponent(f.default)}),o=[],e)o.push(n);i=0,c.label=1;case 1:return i<o.length?(r=o[i],(a=e[r]).destroySelf("Prefab/fx/egg_bomb"),t&&(this.hud.flyCoin(a.node),l.PlayerInfo.lv_coin+=1),[4,I.event.sleep(.1)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.Win=function(){this.iswin||(u.default.playSfx("win",!1),l.PlayerInfo.lv_coin+=csv.Config.Lv_Pass_Coin,l.PlayerInfo.coin+=csv.Config.Lv_Pass_Coin,l.PlayerInfo.tmpscore>l.PlayerInfo.best&&(l.PlayerInfo.best=l.PlayerInfo.tmpscore,l.PlayerInfo.save("best")),h.LocalUser.setScore(l.PlayerInfo.level,l.PlayerInfo.best),-1==l.PlayerInfo.playinglevel&&(l.PlayerInfo.distance>l.PlayerInfo.bestdistance&&(l.PlayerInfo.bestdistance=l.PlayerInfo.distance),l.PlayerInfo.save("bestdistance")),l.PlayerInfo.upRank(),l.PlayerInfo.save(null,!0),y.buff_mgr.stop("Power"),this.iswin=!0,this.destroyEggs(!0),l.PlayerInfo.playinglevel==l.PlayerInfo.level&&(l.PlayerInfo.level=l.PlayerInfo.playinglevel+1,l.PlayerInfo.level>100&&(l.PlayerInfo.level=100),l.PlayerInfo.save("level")),this.hud.enableMoveParticles(!1),C.default.setLevelEndEvent(C.LevelEndEventType.Win),vm.show("UI/UIBirdTip","win"),this.scheduleOnce(this.openWin,1.5),this.node.runAction(d.ValueChangeAction.create(2,.67,1,function(t){cc.Camera.main.zoomRatio=t}).easing(cc.easeSineInOut())))},e.prototype.onBirdDead=function(){y.buff_mgr.stop("Power"),this.hud.enableMoveParticles(!1),cc.Camera.main.node.runAction(d.Shake.create(.4,30,30)),h.LocalUser.vibrate&&u.default.vibrate(80)},e.prototype.resetPerfect=function(){this.hud.removeBirds()},e.prototype.Perfect=function(){l.PlayerInfo.perfect++,l.PlayerInfo.perfectcount++,this.hud.addBird(),u.default.playSfx("perfect",!1),this.hud.play("Prefab/fx/perfect",cc.Vec2.ZERO)},e.prototype.ActivePowerUpMode=function(){this.ispowerup=!0,this.bb.speedScale=1.4,l.PlayerInfo.perfectcount=0,this.bb.activeGun=!0,this.bg2.runAction(cc.fadeIn(3)),this.hud.powerOn(this.bb.node),h.LocalUser.vibrate&&u.default.vibrate(30)},e.prototype.DeActivePowerUpMode=function(){this.ispowerup=!1,this.bb.activeGun=!1,this.bb.speedScale=1,this.bg2.runAction(cc.fadeOut(3)),this.hud.powerOff()},e.prototype.play=function(t,e){this.psfxPlayer.play(t,e)},r([A(cc.Node)],e.prototype,"birdTemplate",void 0),r([A(cc.Node)],e.prototype,"eggTemplate",void 0),r([A(cc.Node)],e.prototype,"battleLayer",void 0),r([A(cc.Node)],e.prototype,"blockLayer",void 0),r([A({type:[cc.AudioClip]})],e.prototype,"eggsounds",void 0),r([A(p.default)],e.prototype,"psfxPlayer",void 0),r([A(_.default)],e.prototype,"hud",void 0),r([A(cc.Node)],e.prototype,"eggContainer",void 0),r([A(v.default)],e.prototype,"map",void 0),r([A([cc.Node])],e.prototype,"homeNodes",void 0),r([A([cc.Sprite])],e.prototype,"landsprites",void 0),r([A(cc.Node)],e.prototype,"bg2",void 0),r([R,M("game/birdmanager")],e)}(cc.Component);o.default=j,cc._RF.pop()},{"../../../framework/aldsdk/StatHelper":"StatHelper","../../../framework/buff_system/BuffManager":"BuffManager","../../../framework/plugin_boosts/components/DynamicMap":"DynamicMap","../../../framework/plugin_boosts/components/PsSpawner":"PsSpawner","../../../framework/plugin_boosts/misc/BoostsAction":"BoostsAction","../../../framework/plugin_boosts/misc/Device":"Device","../../../framework/plugin_boosts/utils/Common":"Common","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../Logic/LocalUser":"LocalUser","../Logic/PlayerInfo":"PlayerInfo","../Logic/Util":"Util","../Module/LevelInfo":"LevelInfo","../Module/SkinInfo":"SkinInfo","../Module/model_manager":"model_manager","./Bird":"Bird","./CheckPoint":"CheckPoint","./Egg":"Egg","./Hud":"Hud","./InfiniteMap":"InfiniteMap"}],Bird:[function(t,e,o){"use strict";cc._RF.push(e,"65f98v5FvJPRJt0ILrC5wvD","Bird");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s,l=t("./Unity"),u=t("./Tag"),p=t("../../../framework/plugin_boosts/misc/Device"),f=t("./BirdManager"),d=t("../../../framework/plugin_boosts/utils/EventManager"),h=t("../../../framework/plugin_shootgame/SFireAgent"),y=t("../../../framework/buff_system/BuffManager"),_=t("../../../framework/plugin_boosts/components/PsFxPlayer"),g=t("../Logic/PlayerInfo"),v=t("./BirdFront"),m=t("../../../framework/plugin_boosts/misc/SpriteFrameCache"),b=t("../Module/model_manager"),w=t("../Module/SkinInfo"),P=cc._decorator,k=P.ccclass,C=P.property,S=P.menu;(function(t){t[t.HitWall=0]="HitWall",t[t.FallOff=1]="FallOff",t[t.Spike=2]="Spike"})(s||(s={}));var O=500,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isdead=!1,e.birdidleframe=[],e.avatar=null,e.streak=null,e.speed=O,e.deadReason=0,e._moveEnabled=!0,e.gun=null,e.fx_thunder=null,e.frames=null,e._worldPos=cc.v2(),e}return i(e,t),Object.defineProperty(e.prototype,"speedScale",{set:function(t){this.speed=O*t},enumerable:!1,configurable:!0}),e.prototype.changeStreak=function(t){var e=b.default.get(w.default,t).color,o=e[0],n=e[1],i=e[2];this.streak.color=cc.color(o,n,i)},e.prototype.stopFly=function(){this.node.getComponentInChildren(cc.Animation).stop("bird_fly")},e.prototype.resumeFly=function(){this.node.getComponentInChildren(cc.Animation).play("bird_fly")},e.prototype.birdFly=function(t){var e=this.node.getComponentInChildren(cc.Animation),o=cc.AnimationClip.createWithSpriteFrames(t,3);o.name="bird_fly",o.wrapMode=cc.WrapMode.Loop,e.addClip(o),e.play("bird_fly").speed*=2},e.prototype.getBirdFrames=function(t){return a(this,void 0,void 0,function(){var e;return c(this,function(){return console.log(t),e=["Texture/birds/start_"+t,"Texture/birds/mid_"+t,"Texture/birds/end_"+t,"Texture/deadbird/dead"+t].map(function(t){return m.default.instance.getSpriteFrame(t)}),[2,Promise.all(e)]})})},e.prototype.setSkin=function(t){return a(this,void 0,void 0,function(){var e,o,n;return c(this,function(i){switch(i.label){case 0:return e=t>9?t:"0"+t,o=this,[4,this.getBirdFrames(e)];case 1:return o.birdidleframe=i.sent(),n=this.birdidleframe.slice(0,3),this.birdFly(n),[2]}})})},Object.defineProperty(e.prototype,"isdead",{get:function(){return this._isdead},set:function(t){t&&0==this.isdead&&(console.log("bird dead ",t),f.bm.onBirdDead(),d.event.emit("BirdDead",this)),this._isdead=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.fx_thunder=this.addComponent(_.default),this.fx_thunder.prefabPath="Prefab/fx/thunderbolt",this.speedScale=1,this.setSkin(g.PlayerInfo.birdID)},e.prototype.start=function(){this.avatar=this.getComponentInChildren(cc.Sprite),this.streak=this.getComponentInChildren(cc.MotionStreak),this.body=this.getComponent(cc.RigidBody),this.gun=this.getComponentInChildren(h.default),this.activeGun=!1,this.changeStreak(g.PlayerInfo.birdID),g.PlayerInfo.birdID>23&&(this.avatar.node.x=-5)},Object.defineProperty(e.prototype,"activeGun",{set:function(t){this.gun.node.active=t,t&&this.fx_thunder.play()},enumerable:!1,configurable:!0}),e.prototype.landsmoke=function(){0==this.groundparticle.active&&this.groundparticle.resetSystem()},e.prototype.stoplandsmoke=function(){this.groundparticle.active&&this.groundparticle.stopSystem()},e.prototype.onEnable=function(){this.schedule(this.onUpdate,f.bm.updateDeltaTime)},e.prototype.onDisable=function(){this.unschedule(this.onUpdate)},e.prototype.checkTop=function(){if(this.uphit=l.default.rayCast(this.worldPos,cc.v2(0,this.node.height+5)),null==this.uphit)this.istouchtop=!1;else{var t=this.uphit.collider.node.groupIndex;t==u.Tag.TopBlock||t==u.Tag.Block||t==u.Tag.InvincibleBlock?this.istouchtop=!0:this.istouchtop=!1}return this.istouchtop},e.prototype.onUpdate=function(){if(!f.bm._paused&&!this.isdead){var t=this.worldPos;if(this.downhit=l.default.rayCast(t,cc.v2(0,-this.node.height-5)),null==this.downhit)this.body.gravityScale=2,this.stoplandsmoke();else{this.body.gravityScale=1;var e=this.downhit.collider.node.groupIndex;e==u.Tag.BottomBlock||e==u.Tag.Block||e==u.Tag.InvincibleBlock?this.isdead||this.landsmoke():(this.stoplandsmoke(),this.body.gravityScale=2)}(this.node.y<-cc.visibleRect.height/2||this.node.y>cc.visibleRect.height)&&(this.deadReason=s.FallOff,this.isdead=!0)}},e.prototype.revive=function(){this.isdead=!1,this.deadReason=-1,this.body.fixedRotation=!0,this.node.rotation=0,this.streak.reset(),this.getComponentInChildren(v.default).revive(),this.avatar.spriteFrame=this.birdidleframe[0],this.resumeFly(),y.buff_mgr.startBuff("Power",2)},e.prototype.BirdDead=function(){f.bm.play("Prefab/fx/bird_hitwall",this.node.position),this.deadReason=s.HitWall,this.isdead=!0,this.stoplandsmoke(),this.stopFly(),p.default.playSfx("DeadBird",!1),this.body.fixedRotation=!1,this.body.applyLinearImpulse(cc.v2(-800,2e3),this.body.getWorldCenter().add(cc.v2(90,80)),!0),this.avatar.spriteFrame=this.birdidleframe[3],g.PlayerInfo.lastStates[0]=g.PlayerInfo.playinglevel,g.PlayerInfo.lastStates[1]=this.node.x,g.PlayerInfo.lastStates[2]=this.node.y},e.prototype.startMove=function(){this._moveEnabled=!0},e.prototype.stopMove=function(){this._moveEnabled=!1},Object.defineProperty(e.prototype,"worldPos",{get:function(){return this._worldPos},enumerable:!1,configurable:!0}),e.prototype.move=function(t){if(this._moveEnabled){var e=t*this.speed;this.node.x+=e,this.body.syncPosition(!0),this._worldPos.y=this.node.y+cc.visibleRect.center.y,this._worldPos.x=this.node.x+cc.visibleRect.center.x}},e.prototype.onBeginContact=function(t){var e=t.colliderA.node==this.node?t.colliderB:t.colliderA,o=e.node.groupIndex;if(o==u.Tag.Star)console.log("\u5403\u9053\u5177");else if(o==u.Tag.BottomBlock);else if(o==u.Tag.Spike){this.deadReason=s.Spike,this.isdead=!0,this.node.removeFromParent();var n=this.node.position;f.bm.play("Prefab/fx/bird_bomb",n)}else if(o==u.Tag.Win)f.bm.Win();else if(o!=u.Tag.Perfect||f.bm.IsPowerActive()){if(o==u.Tag.Finish)this.stopMove();else if(o==u.Tag.Block&&f.bm.IsPowerActive()){if(t.getManifold().localNormal.y<0)return;e.node.destroy();var i=e.node.getBoundingBoxToWorld().center;i=f.bm.node.convertToNodeSpaceAR(i),f.bm.play("Prefab/fx/block_bomb",i),g.PlayerInfo.tmpscore+=g.PlayerInfo.playinglevel,g.PlayerInfo.playinglevel>0&&f.bm.hud.playWithText("Prefab/fx/add_score",cc.Vec2.ZERO,"+"+g.PlayerInfo.playinglevel)}}else f.bm.Perfect(),g.PlayerInfo.perfectcount==csv.Config.PerfectPower_Require&&y.buff_mgr.startBuff("Power",csv.Config.PerfectPower_Dur),e.node.destroy(),t.disabled=!0},r([C(cc.ParticleSystem)],e.prototype,"groundparticle",void 0),r([C([cc.SpriteFrame])],e.prototype,"birdidleframe",void 0),r([k,S("game/bird")],e)}(cc.Component);o.default=I,cc._RF.pop()},{"../../../framework/buff_system/BuffManager":"BuffManager","../../../framework/plugin_boosts/components/PsFxPlayer":"PsFxPlayer","../../../framework/plugin_boosts/misc/Device":"Device","../../../framework/plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../../framework/plugin_shootgame/SFireAgent":"SFireAgent","../Logic/PlayerInfo":"PlayerInfo","../Module/SkinInfo":"SkinInfo","../Module/model_manager":"model_manager","./BirdFront":"BirdFront","./BirdManager":"BirdManager","./Tag":"Tag","./Unity":"Unity"}],Block:[function(t,e,o){"use strict";cc._RF.push(e,"ab28dH/+21Ds56zgqy3DJis","Block");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Tag"),c=cc._decorator,s=c.ccclass,l=(c.property,c.menu,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){if(this.node.groupIndex==a.Tag.TopBlock){this.topcover=cc.instantiate(cc.find("TopCover"));var t=this.node.position,e=t.y,o=this.getComponent(cc.BoxCollider).size;t.y=e-o.height/2,this.topcover.position=t,this.topcover.scaleY=2,this.topcover.scaleX=o.width}},e.prototype.BlastBlock=function(){},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./Tag":"Tag"}],BoostsAction:[function(t,e,o){"use strict";cc._RF.push(e,"47da3PXgqdE55aSvY0ox9B4","BoostsAction");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(e,o,n,i,r){var a=t.call(this)||this;return a.delta=a.sub(n,o),a.setDuration(e),a.callback=i,a.start=o,a.end=n,a.callbackTarget=r,a}return i(e,t),e.prototype.sub=function(t,e){return t-e},e.prototype.add=function(t,e){return t+e},e.prototype.mul=function(t,e){return t*e},e.prototype.update=function(t){t=this._computeEaseTime(t);var e=this.add(this.start,this.mul(this.delta,t));this.callback.call(this.callbackTarget,e)},e.create=function(t,o,n,i,r){return new e(t,o,n,i,r)},e}(cc.ActionInterval);o.ValueChangeAction=r;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.sub=function(t,e){return t.sub(t,e)},e.prototype.add=function(t,e){return t.add(t,e)},e.prototype.mul=function(t,e){return t.mul(t,e)},e}(r);o.V2ChangeAction=a;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}return i(e,t),e.create=function(t,o,n){var i=new e;return i.initWithDuration(t,o,n),i},e.prototype.initWithDuration=function(t,e,o){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=o,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},e}(cc.ActionInterval);o.Shake=c,o.changeTo=function(t,e,o,n){return r.create(t,e,o,function(t){return n(t)})},cc._RF.pop()},{}],BuffBase:[function(t,e,o){"use strict";cc._RF.push(e,"9cd1cwrGdVLs7WhHeCEmJOe","BuffBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.duration=10,this.timeLeft=0,this._inner_timer=0,this.finished=!0,this.name="",this.can_add=!1,this.max_duration=0,this.interval=1}return Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.timeLeft>0},enumerable:!0,configurable:!0}),t.prototype.onEnabled=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.onDisabled=function(){},t.prototype.onReset=function(){},t.prototype.onLeftTimeChanged=function(){},t.prototype.updateTimeLeft=function(){},t.prototype.addLife=function(t){this.duration+t<this.max_duration&&(this.duration+=t,this.timeLeft+=t,this.onLeftTimeChanged())},t.prototype.resetLife=function(){this.timeLeft=this.duration,this.onReset()},t.prototype.enable=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.finished=!1,this.duration=parseInt(t)||this.duration,this.timeLeft=this.duration,console.warn.apply(console,["\u5f00\u542fbuff",this.duration].concat(e)),this.onEnabled.apply(this,e),this.updateTimeLeft()},t.prototype.pause=function(){},t.prototype.resume=function(){},t.prototype.disable=function(){this.finished=!0,this.timeLeft=0,this.onDisabled(),this.updateTimeLeft(),console.warn("\u5173\u95edbuff")},t.prototype.step=function(){},t.prototype.update=function(){this.finished||this.timeLeft>0&&(this.timeLeft-=1,this.step(),this.updateTimeLeft())},t}();o.default=n,cc._RF.pop()},{}],BuffManager:[function(t,e,o){"use strict";cc._RF.push(e,"93c8c7NyvlJR4eJNw05Xk/R","BuffManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buffs={},e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){o.buff_mgr=this},e.prototype.onEnable=function(){this.schedule(this.step,1)},e.prototype.onDisable=function(){this.unschedule(this.step)},e.prototype.step=function(){for(var t in this.buffs){var e=this.buffs[t];e.isEnabled&&(e.update(),e.isEnabled||e.disable())}},e.register=function(t,e){this.buff_cls[t]=e},e.prototype._create=function(t){return new n.buff_cls[t]},e.prototype.getBuff=function(t){var e=this.buffs[t];return e||((e=this._create(t)).name=t,this.buffs[t]=e),e},e.prototype.startBuff=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.getBuff(t);n.isEnabled?n.can_add?n.addLife(e[0]):n.resetLife():n.enable.apply(n,e)},e.prototype.stop=function(t){this.getBuff(t).disable()},e.buff_cls={},n=r([c],e)}(cc.Component));o.default=s,o.buff_mgr=new s,g.setGlobalInstance(o.buff_mgr,"buff_mgr"),cc._RF.pop()},{}],CDrawerAd:[function(t,e,o){"use strict";cc._RF.push(e,"dd4a0r3Er1HrJ351rcjujQg","CDrawerAd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkConfig"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e.status="off",e}return i(e,t),e.prototype.onLoad=function(){this.node.scaleX=a.default.offsetX,this.node.scaleY=a.default.offsetY,this.adBox=this.node.getChildByName("adBox"),this.adBox.active=!1,this.adBox.y=.5*-(this.node.height-this.adBox.height),this.box=this.adBox.getChildByName("ScrollView").getChildByName("view").getChildByName("content"),this.addItem(),this.btn_show=this.node.getChildByName("btn_drawer");var t=cc.scaleTo(.6,1),e=cc.scaleTo(.6,1.2),o=cc.sequence([t,e]),n=cc.repeatForever(o);this.btn_show.runAction(n);var i=this.btn_show.getChildByName("icon"),r=cc.rotateTo(.2,-20),c=cc.rotateTo(.2,20),s=cc.rotateTo(.2,0),l=cc.rotateTo(1,0),u=cc.sequence([r,c,r,s,l]),p=cc.repeatForever(u);i.runAction(p),this.bgColor=this.node.getChildByName("bgColor"),this.bgColor.active=!1,this.adBox.getChildByName("close").on(cc.Node.EventType.TOUCH_START,this.onClose,this)},e.prototype.clickBg=function(){},e.prototype.onClose=function(){this.status="off",this.bgColor.active=!1,this.adBox.active=!1,this.btn_show.active=!1},e.prototype.change=function(){this.addItem()},e.prototype.addItem=function(){if(this.adData=window.ad_Data,null!=this.adData){this.box.removeAllChildren();var t=this;cc.loader.loadRes("./zzsdkui/adItem_drawer",function(e,o){for(var n=0;n<t.adData.length;n++){var i=cc.instantiate(o);t.box.addChild(i),i.getComponent("AdItem_drawer").setData(t.adData[n],n,t.adType)}})}},e.prototype.start=function(){},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"text",void 0),r([l],e.prototype,"adData",void 0),r([l],e.prototype,"indexArr",void 0),r([l],e.prototype,"listArr",void 0),r([l],e.prototype,"box",void 0),r([l],e.prototype,"status",void 0),r([l],e.prototype,"bgColor",void 0),r([l],e.prototype,"adBox",void 0),r([l],e.prototype,"btn_show",void 0),r([l],e.prototype,"adType",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkConfig":"zzsdkConfig"}],CFloatAd:[function(t,e,o){"use strict";cc._RF.push(e,"2a8d8nNxI5HjZvvxGx04HED","CFloatAd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.image=null,e._frames=[],e._framesindex=0,e._framestime=0,e.index=0,e}return i(e,t),e.prototype.onLoad=function(){this.init(),this.image=this.node.getChildByName("mask").getChildByName("img").getComponents(cc.Sprite)[0],this.title=this.node.getChildByName("text").getComponents(cc.Label)[0],this.unschedule(this.init),this.schedule(this.init,5)},e.prototype.onDisable=function(){this.unschedule(this.init)},e.prototype.onDestroy=function(){this.unschedule(this.init)},e.prototype.init=function(){var t=this;this.index=g.randomInt(0,window.ad_Data.length),this.data=window.ad_Data[this.index],null!=this.data&&(this._frames=[],this._framesindex=0,this._framestime=0,this.title.string=this.data.appname,this.data.appname.length>5&&(this.title.fontSize=18),cc.loader.load(t.data.image,function(e,o){for(var n=[],i=0;i<3;i++)for(var r=0;r<3;r++)n.length<t.data.frame&&n.push([160*r,160*i]);for(i=0;i<n.length;i++){var a=new cc.SpriteFrame(o,new cc.Rect(n[i][0],n[i][1],160,160),!1,cc.Vec2.ZERO,new cc.Size(1080,1e3));a&&t._frames.push(a)}t.image.spriteFrame=t._frames[this._framesindex]}),this.node.on(cc.Node.EventType.TOUCH_END,this.ontap,this))},e.prototype.start=function(){},e.prototype.update=function(){this._framestime++,this._framestime>8&&(this._framestime=0,this._framesindex++,this._framesindex>=this._frames.length&&(this._framesindex=0),this.image.spriteFrame=this._frames[this._framesindex])},e.prototype.ontap=function(){a.default.prototype.openGame(this.data,this.adType,null,function(t,e){cc.game.emit("zzsdkui.openGame",t,e)})},r([l(cc.Label)],e.prototype,"title",void 0),r([l(cc.Sprite)],e.prototype,"image",void 0),r([l],e.prototype,"data",void 0),r([l],e.prototype,"_frames",void 0),r([l],e.prototype,"_framesindex",void 0),r([l],e.prototype,"_framestime",void 0),r([l],e.prototype,"index",void 0),r([l],e.prototype,"adType",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./zzsdkui":"zzsdkui"}],CInterAd_over:[function(t,e,o){"use strict";cc._RF.push(e,"7d843CTHzRNY7sd77+ClHni","CInterAd_over");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=t("./zzsdkConfig"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.create_localData="create_localData",e.create_localNum="create_localNum",e.data_chain_youlike="data_chain_youlike",e}return i(e,t),e.prototype.onLoad=function(){this.node.scaleX=c.default.offsetX,this.node.scaleY=c.default.offsetY,this.box=this.node.getChildByName("bg"),this.box.width=600,this.addItem("init")},e.prototype.addItem=function(t){if("init"==t)localStorage.getItem(this.create_localData)?(this.adData=a.default.prototype.getData_local_others(localStorage.getItem(this.create_localData)),this.adData.length>6&&(this.adData=a.default.prototype.getData(0,6,this.create_localNum))):(this.adData=a.default.prototype.getData(0,6,this.create_localNum),localStorage.setItem(this.create_localNum,"6"));else if("refresh"==t){var e=6;localStorage.getItem(this.create_localNum)&&(e=Number(localStorage.getItem(this.create_localNum))+6),localStorage.setItem(this.create_localNum,e.toString()),this.adData=a.default.prototype.getData(e-6,e,this.create_localNum)}for(var o="",n=0;n<this.adData.length;n++)o+=this.adData[n].appname+"&";localStorage.setItem(this.create_localData,o),localStorage.setItem(this.data_chain_youlike,o),this.box.removeAllChildren();var i=this;cc.loader.loadRes("./zzsdkui/adItem_inter_over",function(t,e){for(var o=0;o<i.adData.length;o++){var n=cc.instantiate(e);i.box.addChild(n),n.getComponent("AdItem_inter_over").setData(i.adData[o],o,i.adType)}})},e.prototype.close=function(){this.node.destroy()},r([u(cc.Label)],e.prototype,"label",void 0),r([u],e.prototype,"create_localData",void 0),r([u],e.prototype,"create_localNum",void 0),r([u],e.prototype,"data_chain_youlike",void 0),r([u],e.prototype,"adData",void 0),r([u,u,u],e.prototype,"box",void 0),r([u],e.prototype,"adType",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./zzsdkConfig":"zzsdkConfig","./zzsdkui":"zzsdkui"}],CInterAd:[function(t,e,o){"use strict";cc._RF.push(e,"34c8b6gQ2BBrK7ZpgpV+Mbn","CInterAd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkConfig"),c=t("./zzsdk"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.onLoad=function(){this.node.scaleX=a.default.offsetX,this.node.scaleY=a.default.offsetY,this.box=this.node.getChildByName("bg"),this.addItem(),this.node.getChildByName("btn_change").on(cc.Node.EventType.TOUCH_START,this.change,this)},e.prototype.addItem=function(){this.adData=window.ad_Data;var t=c.default.AccordingWeight(this.adData,9);if(null!=t){this.indexArr=t.index,this.listArr=t.arr;var e=this.node.getChildByName("bg");this.box.removeAllChildren();var o=this,n=(this.node,e.width/3-30),i=e.height/3-30,r=(this.box.width-3*n-10)/4;cc.loader.loadRes("./zzsdkui/adItem_inter",function(t,e){for(var a=0;a<o.indexArr.length;a++){var c=cc.instantiate(e);c.width=n,c.height=i,c.x=r*(a+1-3*Math.floor(a/3))+(a-3*Math.floor(a/3))*c.width,c.y=-(20*(Math.floor(a/3)+1)+c.height*Math.floor(a/3)),o.box.addChild(c),c.getComponent("AdItem_inter").setData(o.listArr[o.indexArr[a]],a,o.adType)}})}},e.prototype.change=function(){this.addItem()},r([u(cc.Label)],e.prototype,"label",void 0),r([u],e.prototype,"text",void 0),r([u],e.prototype,"adData",void 0),r([u],e.prototype,"indexArr",void 0),r([u],e.prototype,"listArr",void 0),r([u],e.prototype,"box",void 0),r([u],e.prototype,"adType",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./zzsdk":"zzsdk","./zzsdkConfig":"zzsdkConfig"}],CInter_full:[function(t,e,o){"use strict";cc._RF.push(e,"4db91j6c/lCAbUQKqyZhW76","CInter_full");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/Platform"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renmen=null,e.status="off",e.btn_show=null,e._showBefore=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=cc.winSize.width/750;this.node.scaleX=t,this.node.scaleY=t,this.upBox=this.node.getChildByName("upBox");var e=this.node.getChildByName("ScrollView");this.downBox=e.getChildByName("view").getChildByName("downBox"),this.addItem(),this.node.getChildByName("back").on(cc.Node.EventType.TOUCH_START,this.onClose,this),console.log(t);var o=cc.winSize.height-550*t-230*t-200*t;e.height=1*o/t},e.prototype.onEnable=function(){this._showBefore=a.default.isBannerShow(),a.default.hideBannerAd(),this.scheduleOnce(this.relayout,.3)},e.prototype.relayout=function(){this.node.opacity=255;var t=this.node.getChildByName("ScrollView");t.getComponent(cc.Widget).updateAlignment(),t.children.forEach(function(t){var e=t.getComponent(cc.Widget);e&&e.updateAlignment()}),this.renmen.y=t.y+t.height+30},e.prototype.onDisable=function(){this._showBefore&&a.default.showBannerAd()},e.prototype.onClose=function(){this.node.active=!1},e.prototype.addItem=function(){var t=this;this.adData=window.ad_Data,null!=this.adData&&(this.upBox.removeAllChildren(),this.downBox.removeAllChildren(),this.node,cc.loader.loadRes("./zzsdkui/adItem_inter_fullup",function(e,o){for(var n=0;n<6;n++){var i=cc.instantiate(o);t.upBox.addChild(i),i.getComponent("AdItem_inter_full").setData(t.adData[n],n,t.adType)}}),cc.loader.loadRes("./zzsdkui/adItem_inter_fulldown",function(e,o){for(var n=6;n<t.adData.length;n++){var i=cc.instantiate(o);t.downBox.addChild(i),i.getComponent("AdItem_inter_full").setData(t.adData[n],n,t.adType)}}))},e.prototype.start=function(){},r([l(cc.Node)],e.prototype,"renmen",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../framework/Platform":"Platform"}],CYouLikeAd_roll:[function(t,e,o){"use strict";cc._RF.push(e,"b7dc0CY2+RAbZBvOD3WRB+k","CYouLikeAd_roll");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=t("./AdItem_youlike_roll"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e.speed=1,e.data_chain_youlike="data_chain_youlike",e}return i(e,t),e.prototype.onLoad=function(){var t=cc.winSize.width/750;this.node.scaleX=t,this.node.scaleY=t,this.box=this.node.getChildByName("bg").getChildByName("ScrollView").getChildByName("view").getChildByName("content"),this.addItem()},e.prototype.onEnable=function(){this.unschedule(this.roll),this.schedule(this.roll,.01)},e.prototype.onDisable=function(){this.unschedule(this.roll)},e.prototype.onDestroy=function(){this.unschedule(this.roll)},e.prototype.roll=function(){this.box.x+this.box.width/2<=this.box.parent.width/2?this.dir="left":this.box.x-this.box.width/2>=-this.box.parent.width/2&&(this.dir="right"),"right"==this.dir?this.speed=-1:"left"==this.dir&&(this.speed=1),this.box.x+=this.speed},e.prototype.addItem=function(){var t;if(t=localStorage.getItem(this.data_chain_youlike)||"",this.adData=a.default.prototype.getData_local_others(t),null!=this.adData){this.box.removeAllChildren();var e=this;cc.loader.loadRes("./zzsdkui/adItem_youlike_roll",function(t,o){for(var n=0;n<e.adData.length;n++){var i=cc.instantiate(o);e.box.addChild(i),i.getComponent(c.default).setData(e.adData[n],e.adType)}localStorage.removeItem(e.data_chain_youlike)})}},e.prototype.start=function(){},r([u(cc.Label)],e.prototype,"label",void 0),r([u],e.prototype,"text",void 0),r([u],e.prototype,"adData",void 0),r([u],e.prototype,"indexArr",void 0),r([u],e.prototype,"listArr",void 0),r([u],e.prototype,"box",void 0),r([u],e.prototype,"adType",void 0),r([u],e.prototype,"data_chain_youlike",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./AdItem_youlike_roll":"AdItem_youlike_roll","./zzsdkui":"zzsdkui"}],CYouLikeAd:[function(t,e,o){"use strict";cc._RF.push(e,"128c0rc/OZB/4Jk230OUZCw","CYouLikeAd");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkui"),c=t("./zzsdkConfig"),s=t("./zzsdk"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data_chain_youlike="data_chain_youlike",e}return i(e,t),e.prototype.onLoad=function(){this.node.scaleX=c.default.offsetX,this.node.scaleY=c.default.offsetY,this.box=new cc.Node,this.node.addChild(this.box),this.addItem()},e.prototype.addItem=function(){var t;t=localStorage.getItem(this.data_chain_youlike)||"",this.adData=a.default.prototype.getData_local_others(t);var e=s.default.AccordingWeight(this.adData,5);if(null!=e){this.box.removeAllChildren(),this.indexArr=e.index,this.listArr=e.arr;var o=this,n=(this.node,(this.node.getContentSize().width-600)/6);cc.loader.loadRes("./zzsdkui/adItem_youlike",function(t,e){for(var i=0;i<o.indexArr.length;i++){var r=cc.instantiate(e);r.width=120,r.x=n*(i+1)+i*r.width,r.y=-40,o.box.addChild(r),r.getComponent("AdItem_youlike").setData(o.listArr[o.indexArr[i]],o.adType)}CC_WECHATGAME&&window.wx.removeStorage({key:o.data_chain_youlike})})}},e.prototype.start=function(){},r([p],e.prototype,"adData",void 0),r([p],e.prototype,"indexArr",void 0),r([p],e.prototype,"listArr",void 0),r([p],e.prototype,"box",void 0),r([p],e.prototype,"adType",void 0),r([p],e.prototype,"data_chain_youlike",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./zzsdk":"zzsdk","./zzsdkConfig":"zzsdkConfig","./zzsdkui":"zzsdkui"}],CheckInItem:[function(t,e,o){"use strict";cc._RF.push(e,"89431BVFdxEWZg9ffYpDfYE","CheckInItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../Logic/PlayerInfo"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonus_label=null,e.bonus_icon=null,e.bonus_num=null,e.uncheck=null,e.checked=null,e.wenhao=null,e}return i(e,t),e.prototype.onLoad=function(){this.register(this.bonus_label,this.check_label.bind(this)),this.register(this.bonus_icon,this.check_icon.bind(this)),this.register(this.bonus_num,this.check_num.bind(this)),this.uncheck.active=!0,this.checked.active=!1},e.prototype.setdata=function(){var t=this.getData();7==t.id&&this.node.setContentSize(cc.size(580,215)),t.id<c.PlayerInfo.checkInNum&&(this.uncheck.active=!1,this.checked.active=!0)},e.prototype.check_label=function(){return"\u7b2c"+this.getData().id+"\u5929"},e.prototype.check_icon=function(){var t=this.getData();return 2==t.id?(this.bonus_icon.node.width=this.bonus_icon.node.height=100,"Texture/birds/start_22"):7==t.id?(this.wenhao.active=!0,this.bonus_icon.node.width=this.bonus_icon.node.height=100,"Texture/box/Bird17Egg"):"Texture/coins/coin-02"},e.prototype.check_num=function(){var t=this.getData();return 2==t.id?"\u8759\u8760\u4fa0":7==t.id?"\u795e\u79d8\u89d2\u8272":"x"+t.reward},e.prototype.onLaterRender=function(){this.setdata()},r([u(cc.Label)],e.prototype,"bonus_label",void 0),r([u(cc.Sprite)],e.prototype,"bonus_icon",void 0),r([u(cc.Label)],e.prototype,"bonus_num",void 0),r([u(cc.Node)],e.prototype,"uncheck",void 0),r([u(cc.Node)],e.prototype,"checked",void 0),r([u(cc.Node)],e.prototype,"wenhao",void 0),r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../Logic/PlayerInfo":"PlayerInfo"}],CheckInfo:[function(t,e,o){"use strict";cc._RF.push(e,"79b33ciQatE26WdtakXXf3Z","CheckInfo"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(t){this.id=0,this.next=0,this.skinid=0,this.reward="",this.id=t;var e=csv.CheckIn.get(t);this.next=e.Next,2==this.id&&(this.skinid=22),this.reward=e.Reward},cc._RF.pop()},{}],CheckPoint:[function(t,e,o){"use strict";cc._RF.push(e,"db707vry9RKPrKgiLWhS2tK","CheckPoint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,a.menu,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node.removeComponent(cc.Sprite),this.node.children.forEach(function(t){return t.active=!1})},e.prototype.onDestroy=function(){},e.prototype.start=function(){},e.prototype.activate=function(){this.node.children.forEach(function(t){return t.active=!0})},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ClickAudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"82e79kw/81JIrk1pnd2FqjK","ClickAudioManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ClickAudio"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.disallowMultiple,p=c.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audio=null,e.elastic=!1,e.withSiblings=!0,e.withChildren=!0,e}return i(e,t),e.prototype.onLoad=function(){this.audio&&(this.withSiblings&&this.make(this.node.parent),this.withChildren&&this.make(this.node))},e.prototype.make=function(t){t.walk(this.each.bind(this),function(){return 0}),t.on(cc.Node.EventType.CHILD_ADDED,this.onChildAdd,this)},e.prototype.onChildAdd=function(t){t.walk(this.each.bind(this),function(){return 0})},e.prototype.onDestroy=function(){this.node.parent.off(cc.Node.EventType.CHILD_ADDED,this.onChildAdd,this),this.node.off(cc.Node.EventType.CHILD_ADDED,this.onChildAdd,this)},e.prototype.each=function(t){if(t.getComponent(cc.Button)){var e=t.getComponent(a.default);null==e&&((e=t.addComponent(a.default)).elastic=this.elastic,e.audio=this.audio)}},e.prototype.start=function(){},r([l({type:cc.AudioClip})],e.prototype,"audio",void 0),r([l],e.prototype,"elastic",void 0),r([l],e.prototype,"withSiblings",void 0),r([l],e.prototype,"withChildren",void 0),r([s,u,p("gamelib/ClickAudioManager")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./ClickAudio":"ClickAudio"}],ClickAudio:[function(t,e,o){"use strict";cc._RF.push(e,"30ab1pEgC9OVplBsHJO10N5","ClickAudio");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../misc/Device"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audio=null,e.elastic=!1,e._oldScale=1,e}return i(e,t),e.prototype.anim2=function(){var t=cc.scaleBy(.6,.9,.9).easing(cc.easeElasticOut(.3));this.node.runAction(t)},e.prototype.anim2back=function(){var t=cc.scaleTo(.6,this._oldScale,this._oldScale).easing(cc.easeElasticOut(.3));this.node.runAction(t)},e.prototype.onLoad=function(){var t=this;if(this.elastic){var e=this.getComponent(cc.Button);e.transition=cc.Button.Transition.COLOR,e.normalColor=cc.Color.WHITE,e.pressedColor=new cc.Color(200,200,200),this._oldScale=this.node.scale}this.node.on("touchstart",function(){t.elastic&&t.anim2()},this.node),this.node.on("touchend",function(){a.default.playEffect(t.audio,!1),t.elastic&&t.anim2back()}),this.node.on("touchcancel",function(){t.elastic&&t.anim2back()})},r([l({type:cc.AudioClip})],e.prototype,"audio",void 0),r([l],e.prototype,"elastic",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../misc/Device":"Device"}],ClickToStart:[function(t,e,o){"use strict";cc._RF.push(e,"5d2c6hC6vJChrPcRfMLUBhf","ClickToStart");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Logic/PlayerInfo"),c=t("../Common/LoadingScene"),s=t("../../../framework/plugin_boosts/utils/EventManager"),l=t("../Logic/LocalUser"),u=t("../../../framework/aldsdk/StatHelper"),p=t("../../../framework/plugin_boosts/ui/LoadingManager"),f=cc._decorator,d=f.ccclass,h=(f.property,f.menu,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTap,this)},e.prototype.onTap=function(){u.default.userAction("\u70b9\u51fb\u5c4f\u5e55\u5f00\u59cb"),s.event.emit("gameStart"),this.showWelfare()},e.prototype.showWelfare=function(){var t=csv.Config.ZZSDK_Skin_Trial.split(",").map(function(t){return Number(t)}),e=(t[0],t[1]),o=t[2];return l.LocalUser.TryskinCount>=o?(a.PlayerInfo.level>100&&(a.PlayerInfo.level=100),a.PlayerInfo.playinglevel=a.PlayerInfo.level,void c.default.goto("Main")):100*Math.random()<e&&this.checkSKin()?(p.Loading.show(2),vm.show("UI/UIWelfare"),l.LocalUser.TryskinCount++,l.LocalUser.trySkinShowDate=Date.now(),void l.LocalUser.save()):(a.PlayerInfo.level>100&&(a.PlayerInfo.level=100),a.PlayerInfo.playinglevel=a.PlayerInfo.level,void c.default.goto("Main"))},e.prototype.checkSKin=function(){for(var t in a.PlayerInfo.skinList)if(!a.PlayerInfo.islock(t))return!0;return!1},r([d],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../framework/aldsdk/StatHelper":"StatHelper","../../../framework/plugin_boosts/ui/LoadingManager":"LoadingManager","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../Common/LoadingScene":"LoadingScene","../Logic/LocalUser":"LocalUser","../Logic/PlayerInfo":"PlayerInfo"}],Common:[function(t,e,o){"use strict";cc._RF.push(e,"d6d4aCOiTtJz6R1xuSQrtdC","Common"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../misc/SpriteFrameCache"),i=function(){function t(){}return t.get=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.allInfos[t.prototype];n||(n={},this.allInfos[t.prototype]=n);var i=e.join("-"),r=n[i];return r||(r=Reflect.construct(t,e),this.allInfos[i]=r),r},t.loadJson=function(t){return new Promise(function(e){cc.loader.loadRes(t,cc.JsonAsset,function(t,o){e(o.json)})})},t.sleep=function(t){return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},t.isGreaterDays=function(t,e){if(void 0===e&&(e=7),(new Date).getTime()-t>864e5*e)return!0},t.setDisplay=function(t,e,o){if("string"==typeof e)return n.default.instance.getSpriteFrame(e).then(function(e){t.spriteFrame=e,o&&o()}).catch(function(t){return console.warn(t)});e instanceof cc.SpriteFrame&&(t.spriteFrame=e)},t.jellyJump=function(t){var e=cc.scaleTo(.06,1.6,.8),o=cc.scaleTo(.07,1,1.2),n=cc.scaleTo(.1,1).easing(cc.easeElasticOut(.3)),i=cc.sequence(e,o,n);t.runAction(i)},t.jellyJump2=function(t,e,o,n){void 0===n&&(n=.8),t.scale=e;var i=cc.scaleTo(n,o,o).easing(cc.easeElasticOut(.3));t.runAction(i)},t.moveToCenter=function(t){if(t.parent){var e=t.parent.getBoundingBox();t.position=cc.v2(e.width/2,e.height/2)}},t.flyNode=function(e,o,n,i,r,a,c,s,l){void 0===a&&(a=cc.v2(0,1)),void 0===c&&(c=null),void 0===s&&(s=600),void 0===l&&(l=700);var u=cc.Vec2.RIGHT.rotate(cc.macro.RAD*i);u.mulSelf(r);var p=r/s,f=cc.moveBy(p,u).easing(cc.easeSineOut()),d=cc.sequence(f,cc.callFunc(function(){var o=e.getBoundingBoxToWorld().center,i=n.sub(o).mag()/l;t.moveBezier2(e,o,n,a,function(t){t.destroy(),c&&c()},i)}));e.parent=o,e.runAction(d)},t.moveBezier2=function(t,e,o,n,i,r,a){void 0===n&&(n=cc.Vec2.RIGHT),void 0===i&&(i=null),void 0===r&&(r=1),void 0===a&&(a=0);var c=[],s=e.x,l=e.y,u=o.x,p=o.y;c[0]=cc.v2(s,l),c[1]=cc.v2(s+(u-s)*n.x,l+(p-l)*n.y),c[2]=cc.v2(u,p),t.runAction(cc.sequence(cc.delayTime(a),cc.bezierTo(r,c).easing(cc.easeSineInOut()),cc.fadeOut(.3),cc.callFunc(i&&i.bind(t))))},t.moveBezier=function(t,e,o,n,i,r){void 0===n&&(n=null),void 0===i&&(i=1),void 0===r&&(r=0);var a=cc.instantiate(t);return a.opacity=255,a.setPosition(e),this.moveBezier2(a,e,o,cc.Vec2.RIGHT,n,i,r),a},t.handler=function(t,e,o,n){var i=new cc.Component.EventHandler;return i.component=e,i.target=t,i.handler=o,i.customEventData=n,i},t.newButton=function(e,o,n,i,r){i=i||e;var a=e.addComponent(cc.Button);if(a.transition=cc.Button.Transition.SCALE,a.clickEvents.length>0){var c=a.clickEvents[0];c.target=i,c.customEventData=r,c.component=o,c.handler=n}else a.clickEvents.push(t.handler(i,o,n,r));return a},t.changeParent=function(t,e){var o=t.getBoundingBoxToWorld().center;t.removeFromParent(),t.parent=e,t.position=e.convertToNodeSpaceAR(o)},t.moveToOrigin=function(t,e,o){t.runAction(cc.moveTo(e,cc.Vec2.ZERO).easing(o||cc.easeSineOut()))},t.getRelatePosition=function(t,e,o){return void 0===o&&(o=cc.v2(.5,.5)),this.getPositionToNodeSpaceAR(t,e.parent,o)},t.getPositionToNodeSpace=function(t,e,o){void 0===o&&(o=cc.v2(.5,.5));var n=this.getWorldPosition(t,o);return e.convertToNodeSpace(n)},t.getPositionToNodeSpaceAR=function(t,e,o){void 0===o&&(o=cc.v2(.5,.5));var n=this.getWorldPosition(t,o);return e.convertToNodeSpaceAR(n)},t.getWorldPosition=function(t,e){void 0===e&&(e=cc.v2(.5,.5));var o=t.getBoundingBoxToWorld(),n=o.origin;return n.x+=e.x*o.width,n.y+=e.y*o.height,n},t.sign=function(t){return t>0?1:-1},t.find=function(t,e,o){return cc.find(t,e).getComponent(o)},t.invokeComponents=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];return Promise.race(t.getComponents(cc.Component).filter(function(t){return null!=t[e]}).map(function(t){return new Promise(function(n){var i;n((i=t[e]).call.apply(i,[t].concat(o)))})}))},t.callComp=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];var i=null;return t.getComponents(cc.Component).some(function(t){var n=t[e];return!!n&&(i=n.call.apply(n,[t].concat(o)),!0)}),i},t.setButtonEnabled=function(t,e){var o=t.getComponent(cc.Button);o&&(t.opacity=e?255:155,o.interactable=e)},t.convertCameraWorldPosition=function(t,e,o){var n=e.getWorldToScreenPoint(t,cc.Vec2.ZERO);return o.getScreenToWorldPoint(n,cc.Vec2.ZERO)},t.allInfos={},t}();o.default=i,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache"}],DCLabel:[function(t,e,o){"use strict";cc._RF.push(e,"a56c0Fh1bpDto6UwDov+u7M","DCLabel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./DCUI"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.requireComponent,p=c.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.str="%s",e.hasAnim=!0,e.dur=.1,e.scale=1.2,e.formatUnit=!0,e}return i(e,t),e.prototype.onLoad=function(){this.label=this.getComponent(cc.Label)},e.prototype.onValueChanged=function(t){if(null==t&&(console.log("[DCLabel] warn!","not found field "+this.dataBind),t="0"),this.formatUnit?this.label.string=cc.js.formatStr(this.str,t.toUnitString()):this.label.string=cc.js.formatStr(this.str,t),this.hasAnim){this.node.stopActionByTag(1e3);var e=cc.scaleTo(this.dur,this.scale).easing(cc.easeSineInOut()),o=cc.scaleTo(this.dur,1,1),n=cc.sequence(e,o);n.setTag(1e3),this.node.runAction(n)}},r([l],e.prototype,"str",void 0),r([l],e.prototype,"hasAnim",void 0),r([l({visible:function(){return this.hasAnim}})],e.prototype,"dur",void 0),r([l({visible:function(){return this.hasAnim}})],e.prototype,"scale",void 0),r([l({displayName:"\u5355\u4f4d\u683c\u5f0f\u5316"})],e.prototype,"formatUnit",void 0),r([s,p("DCUI/DCLable"),u(cc.Label)],e)}(a.default);o.default=f,cc._RF.pop()},{"./DCUI":"DCUI"}],DCPandoraPoint:[function(t,e,o){"use strict";cc._RF.push(e,"7213alSGlhOObvGLLyQvhtZ","DCPandoraPoint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./DCUI"),c=t("./PandoraPoint"),s=cc._decorator,l=s.ccclass,u=(s.property,s.requireComponent),p=s.menu,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.point=this.getComponent(c.default)},e.prototype.onValueChanged=function(t){this.point.setNumber(t)},r([l,p("DCUI/DCPandoraPoint"),u(c.default)],e)}(a.default);o.default=f,cc._RF.pop()},{"./DCUI":"DCUI","./PandoraPoint":"PandoraPoint"}],DCSprite:[function(t,e,o){"use strict";cc._RF.push(e,"82b09vMdyFCOb0NEdBTtZHy","DCSprite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./DCUI"),c=t("../misc/SpriteFrameCache"),s=cc._decorator,l=s.ccclass,u=(s.property,s.requireComponent),p=s.menu,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},e.prototype.refreshSpriteFrame=function(t){var e=this;c.default.instance.getSpriteFrame(t).then(function(t){e.sprite.spriteFrame=t}).catch(function(){console.log("request imageUrl error :"+t)})},e.prototype.onValueChanged=function(t){this.refreshSpriteFrame(t)},r([l,p("DCUI/DCSprite"),u(cc.Sprite)],e)}(a.default);o.default=f,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache","./DCUI":"DCUI"}],DCToggle:[function(t,e,o){"use strict";cc._RF.push(e,"f9e52WLze5MBrhxXx/fWqyL","DCToggle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./DCUI"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revserse=!1,e.autosync=!0,e}return i(e,t),e.prototype.onLoad=function(){if(this.toggle=this.getComponent(cc.Toggle),this.autosync){var t=new cc.Component.EventHandler;t.component="DCToggle",t.target=this.node,t.handler="onChecked",this.toggle.checkEvents.push(t)}},e.prototype.onChecked=function(t){this.isFromSelf||(this.revserse?this.setDCValue(!t.isChecked):this.setDCValue(t.isChecked))},e.prototype.setChecked=function(t){this.isFromSelf=!0,t?this.toggle.check():this.toggle.uncheck(),this.isFromSelf=!1},e.prototype.onValueChanged=function(t){this.revserse?this.setChecked(!t):this.setChecked(t)},r([l({tooltip:"If reverse is enabled ,checked is false !, unchecked is true"})],e.prototype,"revserse",void 0),r([l({tooltip:" Make sure data bind type should be boolean"})],e.prototype,"autosync",void 0),r([s,u("DCUI/DCToggle")],e)}(a.default);o.default=p,cc._RF.pop()},{"./DCUI":"DCUI"}],DCUI:[function(t,e,o){"use strict";cc._RF.push(e,"e4171eQC3dMO4x8/Td1XV1Y","DCUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../misc/DataCenter"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataBind="",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.setDCKey=function(t){this.dataBind=t,this.setListener()},e.prototype.setListener=function(){a.default.off(this.dataBind,this.dataChanged,this),a.default.on(this.dataBind,this.dataChanged,this)},e.prototype.onValueChanged=function(){},e.prototype.setDCValue=function(t){a.default.set(this.dataBind,t)},e.prototype.dataChanged=function(t){this.onValueChanged(t)},e.prototype.onEnable=function(){this.setListener(),this.onValueChanged(a.default.get(this.dataBind))},e.prototype.onDisable=function(){a.default.off(this.dataBind,this.dataChanged,this)},r([l()],e.prototype,"dataBind",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../misc/DataCenter":"DataCenter"}],DataCenter:[function(t,e,o){"use strict";cc._RF.push(e,"2946dm7U5hPgIxciZRaL5Q+","DataCenter"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/EventManager"),i={},r={};o.dc=function(t,e){return void 0===e&&(e=!0),function(o){r[o]={name:t,serializable:e}}},o.field=function(t){return function(e,o){var n=e.constructor,r=i[n];null==r&&(r=[],i[n]=r),(t=t||{})&&(t.persistent=null==t.persistent||t.persistent,t.enumerable=null==t.enumerable||t.enumerable,t.readonly=t.readonly||!1,t.default&&(e[o]=t.default));var a={propertyName:o,persistent:t.persistent,enumerable:t.enumerable,readonly:t.readonly};r.push(a)}};var a=function(){function t(){this.__namespace="DataCenter",this.kvs={},this.kts={},this.defaultKvs={},this.kOptions={},this.save_timestamps=0,this.kvs={},this.kts={}}return t.prototype.toFormData=function(){var t=this;return this.allkeys.map(function(e){return e+"="+t.kvs[e]}).join("&")},Object.defineProperty(t.prototype,"allkeys",{get:function(){return Object.keys(this.kvs)},enumerable:!0,configurable:!0}),t.prototype.defaultValue=function(t){return this.defaultKvs[t]},t.prototype.resetValue=function(t){this.setData(t,this.defaultKvs[t])},t.prototype.registerFields=function(t){console.log(this);var e=this.__proto__.constructor,o=i[e],n=r[e];for(var a in o){var c=o[a],s=c.propertyName;this.kOptions[s]=c,"function"!=typeof s&&(this.register(s,this[s]),delete this[s])}this.kOptions.save_timestamps={propertyName:"save_timestamps",persistent:!0,enumerable:!0,readonly:!1},this.register("save_timestamps",0),delete this.save_timestamps,t=t||n.name,this.endRegister(t,n.serializable)},t.prototype.register=function(t,e){var o=this.constructor.prototype,n=this;o.__defineGetter__(t,function(){return n.getData(t)}),o.__defineSetter__(t,function(e){n.setData(t,e)}),this.defaultKvs[t]=e;var i=this.kOptions[t];Object.defineProperty(this.kvs,t,{value:e,enumerable:i.enumerable,writable:!0});var r="";"object"==(r=typeof e)&&Array.isArray(e)&&(r="array"),this.kts[t]=r,console.log("[DataCenter] register :"+t+":"+e+"("+r+")")},t.prototype.setValue=function(t,e){this.kvs[t]=e},t.prototype.setData=function(t,e){var o=this.kvs[t];if(o!=e&&!this.kOptions[t].readonly){var i=this.kts[t],r=this._field_(t);i!=typeof e&&(console.warn("[DataCenter] wrong type <"+typeof e+"> for :"+r+"<"+i+"> ,converting..."),"number"==i?e=null==e?0:Number(e):"boolean"==i?e="true"==e:"object"==i?e=e&&this.parseJson(e)||{}:"array"==i&&Array.isArray(e)&&(e=e)),this.kvs[t]=e,n.event.emit(r,e,o)}},t.prototype._field_=function(t){return this.__namespace+"."+t},t.prototype.getData=function(t){return this.kvs[t]},t.prototype.limit=function(t,e,o){return t>o?o:t<e?0:t},t.prototype.addData=function(t,e,o){if(void 0===o&&(o=!1),null!=(e=Number(e))){var i=this.kvs[t],r=Number(i)+e;this.kvs[t]=r,n.event.emit(this._field_(t),r,i),o&&this.save(t)}},t.prototype.onLoad=function(){},t.prototype.onLoadAll=function(){},t.prototype.onBeforeSave=function(){},t.prototype.onAfterSave=function(){},t.prototype.onBeforeSaveAll=function(){},t.prototype.onAfterSaveAll=function(){},t.prototype.load=function(){for(var t in this.kvs){var e=localStorage.getItem(this._field_(t)),o=e;if(e){var n=this.kts[t];"number"==n?o=Number(e):"boolean"==n?o="true"==e:"object"!=n&&"array"!=n||(o=this.parseJson(e))}else o=this.getData(t);this.kvs[t]=o,this.onLoad(t)}this.onLoadAll()},t.prototype._saveAll=function(){for(var t in this.save_timestamps=Date.now(),this.kvs){var e=this.kOptions[t];if(0!=e.persistent&&1!=e.readonly){var o=this.kvs[t],n=this.kts[t],i=this._field_(t);this.onBeforeSave(t),null!=o&&("object"==n||"array"==n?localStorage.setItem(i,JSON.stringify(o)):localStorage.setItem(i,o.toString())),this.onAfterSave(t),console.log(cc.js.formatStr("%s:%s",i,o))}}},t.prototype.save=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(console.log("[DataCenter] save :=================================="),0==t.length)this.onBeforeSaveAll(),this._saveAll(),this.onAfterSaveAll();else for(var o in t){var n=t[o],i=this.kOptions[n];if(0!=i.persistent&&1!=i.readonly){var r=this.kvs[n],a=this.kts[n],c=this._field_(n);this.onBeforeSave(n),"object"==a||"array"==a?localStorage.setItem(c,JSON.stringify(r)):null!=r?localStorage.setItem(c,r.toString()):console.warn("[DataCenter] "+c+" \u4fdd\u5b58\u5931\u8d25"),this.onAfterSave(n),console.log(cc.js.formatStr("%s:%s",c,r))}}console.log("[DataCenter] save succ :==================================")},t.prototype.toString=function(){var t=JSON.stringify(this.kvs,function(t,e){return"string"==typeof e?e.replace(/\\?\"/g,"'"):e});return console.log("dc.tostring:",t),t},t.prototype.loadFromJsonObject=function(t){for(var e in this.kvs){var o=t[e];null!=o&&(this.setValue(e,o),this.onLoad(e))}this.onLoadAll()},t.prototype.loadFromString=function(t){var e=JSON.parse(t);this.loadFromJsonObject(e)},t.prototype.resetAndSave=function(t){for(var e in this.reset(),t)this.setValue(e,t[e]);return this.save(),!0},t.prototype.reset=function(){for(var t in this.kvs)this.setValue(t,this.defaultKvs[t]),this.onLoad(t);this.onLoadAll()},t.prototype.parseJson=function(t){try{return JSON.parse(t.replace(/\\?\'/g,'"'))}catch(e){return null}},t.prototype.endRegister=function(e,o){void 0===o&&(o=!0),this.__namespace=e,t.alldata[e]=this,o&&this.load()},t.off=function(t,e,o){n.event.off(t,e,o)},t.on=function(t,e,o){n.event.on(t,e,o),this.set(t,this.get(t))},t.get=function(e){var o=e.split("."),n=o[0],i=o[1],r=t.alldata[n];return r?r[i]:null},t.set=function(e,o){var n=e.split("."),i=n[0],r=n[1],a=t.alldata[i];a&&(a[r]=o)},t.register=function(t){var e=new t,o=r[t];return g.setGlobalInstance(e,o.name),e.registerFields(),e},t.alldata={},t}();o.default=a,cc._RF.pop()},{"../utils/EventManager":"EventManager"}],Device:[function(t,e,o){"use strict";cc._RF.push(e,"24210hhDfpAgLyIkM7QznF8","Device"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.setSoundsEnable=function(e){t.setSFXEnable(e),t.setBGMEnable(e)},t.setSFXEnable=function(e){cc.audioEngine.setEffectsVolume(1==e?1:0),t.isSfxEnabled=e,e?cc.audioEngine.resumeAllEffects():cc.audioEngine.pauseAllEffects()},t.useCCAudioEngine=function(){this._useCCAudioEngine=!0},t.useDefaultAudioEngine=function(){this._useCCAudioEngine=!1},t.setBGMEnable=function(e){cc.audioEngine.setMusicVolume(1==e?1:0),t.isBgmEnabled=e,e?cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic()},t.playSfx=function(e,o,n){void 0===o&&(o=!1),void 0===n&&(n=1),t.isSfxEnabled&&cc.loader.loadRes(t.audio_path+e,cc.AudioClip,function(t,e){if(t)console.warn(t);else{var i=cc.audioEngine.playEffect(e,o);cc.audioEngine.setVolume(i,n)}})},t.setAudioPath=function(e){t.audio_path=e},t.playerBGM=function(e,o){void 0===o&&(o=!0),cc.audioEngine.setMusicVolume(1),cc.loader.loadRes(t.audio_path+e,cc.AudioClip,function(e,n){e?console.log(e):(cc.audioEngine.playMusic(n,o),t.isBgmEnabled||setTimeout(function(){cc.audioEngine.pauseMusic()},100))})},t.playEffect=function(e,o){if(void 0===o&&(o=!1),t.isSfxEnabled){if(cc.sys.platform!=cc.sys.QQ_PLAY)return cc.audioEngine.playEffect(e,o);if(this._useCCAudioEngine)return cc.audioEngine.playEffect(e,o)}},t.stopMusic=function(){cc.audioEngine.stopMusic()},t.playMusic=function(e,o){if(void 0===o&&(o=!0),t.isBgmEnabled)return cc.audioEngine.playMusic(e,o)},t.vibrate=function(t){cc.sys.WECHAT_GAME==cc.sys.platform?t?wx.vibrateLong():wx.vibrateShort():cc.sys.isNative&&("number"==typeof t?window.native.vibrate(t):t?window.native.vibrateShort():window.native.vibrateLong())},t.isSfxEnabled=!0,t.isBgmEnabled=!0,t.audio_path="",t._useCCAudioEngine=!1,t}();o.default=n,cc._RF.pop()},{}],DoubleClick:[function(t,e,o){"use strict";cc._RF.push(e,"f9695cdC+1CJYop8Ef4AjII","DoubleClick");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastClickedTime=0,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onClick=function(){var t=Date.now();t-this._lastClickedTime<300&&this.getComponents(cc.Component).forEach(function(t){var e=t.onDoubleClick;e&&e.call(t)}),this._lastClickedTime=t},e.prototype.start=function(){},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],DrawCallOptimizer:[function(t,e,o){"use strict";cc._RF.push(e,"2c54cMpiGZKNpJ5xxerT3xt","DrawCallOptimizer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../../framework/plugin_boosts/utils/Common"),s=t("./DrawCallReorder"),l=t("../../../framework/plugin_boosts/utils/EventManager"),u=cc._decorator,p=u.ccclass,f=u.property;(function(t){t[t.index0=0]="index0",t[t.index1=1]="index1",t[t.index2=2]="index2",t[t.index3=3]="index3",t[t.index4=4]="index4",t[t.index5=5]="index5",t[t.index6=6]="index6",t[t.index7=7]="index7",t[t.index8=8]="index8",t[t.index9=9]="index9"})(a=o.DCIndex||(o.DCIndex={}));var d={},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tobeOptimizeNodes=[],e.newLayer=null,e.orderId=a.index0,e}return i(e,t),e.prototype.onLoad=function(){this.newLayer=this.newLayer||this.node,l.event.on("DC.optimize",this.optimize,this),l.event.on("DC.optimizeAll",this.optimizeAll,this),d[this.orderId]=this},e.getOptimizer=function(t){return d[t]},e.prototype.onDestroy=function(){delete d[this.orderId],l.event.off(this)},e.prototype.start=function(){var t=this;this.tobeOptimizeNodes.forEach(function(e){return c.default.changeParent(e,t.newLayer)}),this.optimizeAll()},e.prototype.optimize=function(t){var e=this;t.forEach(function(t){t.orderId==e.orderId&&c.default.changeParent(t.node,e.newLayer)})},e.prototype.optimizeAll=function(){var t=cc.director.getScene().getComponentsInChildren(s.default);this.optimize(t)},e.prototype.optimizeTarget=function(t){c.default.changeParent(t,this.newLayer)},r([f([cc.Node])],e.prototype,"tobeOptimizeNodes",void 0),r([f(cc.Node)],e.prototype,"newLayer",void 0),r([f({type:cc.Enum(a)})],e.prototype,"orderId",void 0),r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../framework/plugin_boosts/utils/Common":"Common","../../../framework/plugin_boosts/utils/EventManager":"EventManager","./DrawCallReorder":"DrawCallReorder"}],DrawCallReorder:[function(t,e,o){"use strict";cc._RF.push(e,"7efc45s+1RPLrStgCl2HTKV","DrawCallReorder");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.orderId=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},r([s],e.prototype,"orderId",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],DynamicMap:[function(t,e,o){"use strict";cc._RF.push(e,"4fc8b6kBYNGbrOW8wmUOtMx","DynamicMap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c,s=t("../misc/Signal"),l=cc._decorator,u=l.ccclass,p=l.property,f=l.menu;(function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"})(a||(a={})),function(t){t[t.Destroy=0]="Destroy",t[t.Remove=1]="Remove"}(c=o.RemovePolicy||(o.RemovePolicy={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextSeg=null,e.segIdx=-1,e.segments=[],e.cursor=-1,e.isInfinite=!1,e.dir=a.Horizontal,e.signal=new s.default,e.isEnd=!1,e.running=!1,e.isLoadOnce=!1,e.outOfCamaraRemovePolicy=c.Destroy,e.preloaded_segments={},e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){this.signal.clear()},e.prototype.start=function(){this.dir==a.Horizontal?this.cursor<0&&(this.cursor=cc.visibleRect.width):this.cursor<0&&(this.cursor=cc.visibleRect.height)},e.prototype.preloadAll=function(){var t=this;return new Promise(function(e){for(var o=t.segments.length,n=0;n<o;n++){var i=t.segments[n],r=cc.instantiate(i);r.name=i.name,t.preloaded_segments[n]=r}e()})},e.prototype.begin=function(t){this.running=!0,this.isLoadOnce=t;var e=this.segments.length;if(t)for(var o=0;o<e+1;o++)this.curSeg=this.createNextSeg();else null==this.curSeg&&(this.curSeg=this.createNextSeg())},e.prototype.addSements=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=this.segments).push.apply(t,e)},e.prototype._addToSeg=function(){},e.prototype.next=function(){},e.prototype.createNextSeg=function(){var t=this.segIdx+1;if(t>this.segments.length-1){if(!this.isInfinite)return console.log("\u6ca1\u6709\u5173\u5361\u6bb5\u4e86"),this.isEnd=!0,void this.signal.fire("end",this.cursor);this.next()}this.segIdx=cc.misc.clampf(t,0,this.segments.length-1);var e=this.preloaded_segments[this.segIdx],o=!0;if(!e){o=!1;var n=this.segments[this.segIdx];(e=cc.instantiate(n)).name=n.name}return null==e?(console.error("create segment failed:",this.segments,this.segIdx),null):(this.dir==a.Horizontal?(e.setPosition(this.cursor,0),this.cursor+=e.width-8):(e.setPosition(0,this.cursor),this.cursor+=e.height-8),this.signal.fire("newSegCreated",e),o||(this.segments.shift(),this.segIdx-=1),e.setParent(this.node),e)},e.prototype.isOutOfCameraLeft=function(t){var e=cc.Camera.main,o=t.getBoundingBoxToWorld();return e.getWorldToScreenPoint(cc.v2(o.xMax,0),cc.Vec2.ZERO).x<0},e.prototype.onEnable=function(){this.schedule(this.onUpdate,1/45)},e.prototype.onDisable=function(){this.unschedule(this.onUpdate)},e.prototype.onUpdate=function(){if(!this.isLoadOnce&&this.running){for(var t=0;t<this.node.childrenCount;t++){var e=this.node.children[t];this.curSeg!=e&&this.nextSeg!=e&&this.isOutOfCameraLeft(e)&&(this.signal.fire("removeSeg",e),this.outOfCamaraRemovePolicy==c.Destroy?e.destroy():e.removeFromParent())}if(!this.isEnd){var o,n;if(this.dir==a.Horizontal){var i=cc.visibleRect.width;o=cc.Camera.main.getScreenToWorldPoint(cc.v2(i,0),cc.Vec2.ZERO).x,n=this.curSeg.getBoundingBoxToWorld().xMax}else{var r=cc.visibleRect.height;o=cc.Camera.main.getScreenToWorldPoint(cc.v2(0,r),cc.Vec2.ZERO).y,n=this.curSeg.getBoundingBoxToWorld().yMax}n-o<=10&&null==this.nextSeg&&(this.nextSeg=this.createNextSeg()),n-o<=0&&(this.curSeg=this.nextSeg,this.nextSeg=null)}}},r([p(cc.Prefab)],e.prototype,"segments",void 0),r([p({displayName:"start"})],e.prototype,"cursor",void 0),r([p({type:cc.Enum(a)})],e.prototype,"dir",void 0),r([p({type:cc.Enum(c)})],e.prototype,"outOfCamaraRemovePolicy",void 0),r([u,f("gamelib/DynamicMap")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../misc/Signal":"Signal"}],EggFront:[function(t,e,o){"use strict";cc._RF.push(e,"7f847PRj4xCt6VYtMjHqEWa","EggFront");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Tag"),c=t("./Egg"),s=cc._decorator,l=s.ccclass,u=(s.property,s.menu),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.once=!0,e.offset=null,e}return i(e,t),e.prototype.onLoad=function(){this.egg=this.getComponentInParent(c.default),this.body=this.getComponent(cc.RigidBody),this.offset=this.node.position},e.prototype.update=function(){this.egg.isdead||(this.node.position=this.offset,this.body.syncPosition(!1))},e.prototype.onBeginContact=function(t){var e=(t.colliderA.node==this.node?t.colliderB:t.colliderA).node.groupIndex;e!=a.Tag.Block&&e!=a.Tag.InvincibleBlock&&e!=a.Tag.BottomBlock||!this.once||(this.egg.eggDead(),this.once=!1,this.body.enabled=!1)},r([l,u("game/eggfront")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Egg":"Egg","./Tag":"Tag"}],Egg:[function(t,e,o){"use strict";cc._RF.push(e,"69e23SF2NdHJrH5P0xfz9JV","Egg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BirdManager"),c=t("./Unity"),s=t("./Tag"),l=t("../Logic/PlayerInfo"),u=cc._decorator,p=u.ccclass,f=u.property,d=u.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isdead=!1,e.sprite=null,e._worldPos=cc.v2(),e}return i(e,t),e.prototype.onLoad=function(){this.sprite=this.getComponentInChildren(cc.Sprite),this.setSkin(l.PlayerInfo.eggID)},e.prototype.start=function(){this.body=this.getComponent(cc.RigidBody)},e.prototype.setSkin=function(t){var e=this,o=t>9?t:"0"+t;cc.loader.loadRes("Texture/box/Bird"+o+"Egg",cc.SpriteFrame,function(t,o){t?console.log(t):e.sprite.spriteFrame=o})},e.prototype.landsmoke=function(){0==this.groundparticle.active&&this.groundparticle.resetSystem()},e.prototype.stoplandsmoke=function(){this.groundparticle.active&&this.groundparticle.stopSystem()},e.prototype.onEnable=function(){this.schedule(this.onUpdate,a.bm.updateDeltaTime)},e.prototype.onDisable=function(){this.unschedule(this.onUpdate)},Object.defineProperty(e.prototype,"worldPos",{get:function(){return this._worldPos.x=a.bm.bb.worldPos.x,this._worldPos.y=this.node.y+cc.visibleRect.height/2,this._worldPos},enumerable:!0,configurable:!0}),e.prototype.update=function(){if(!this.isdead){if(a.bm.bb.isdead)return void(this.isdead=!0);this.node.x=a.bm.bb.node.x,this.body.syncPosition(!1)}},e.prototype.onUpdate=function(){var t=this.worldPos;if(this.downhit=c.default.rayCast(t,cc.v2(0,-this.node.height)),null==this.downhit)return this.body.gravityScale=2.8,void this.stoplandsmoke();if(this.isdead)this.stoplandsmoke();else{this.body.gravityScale=1;var e=this.downhit.collider.node.groupIndex;e==s.Tag.BottomBlock||e==s.Tag.Block||e==s.Tag.InvincibleBlock?this.landsmoke():(this.stoplandsmoke(),this.body.gravityScale=2.8)}},e.prototype.eggDead=function(){this.isdead=!0,this.stoplandsmoke()},e.prototype.destroySelf=function(t){this.node.destroy();var e=this.node.position;t&&a.bm.play(t,e)},e.prototype.onBeginContact=function(t){var e=(t.colliderA.node==this.node?t.colliderB:t.colliderA).node.groupIndex;if(e==s.Tag.Star);else if(e==s.Tag.Block||e==s.Tag.BottomBlock||e==s.Tag.InvincibleBlock)a.bm.IsPowerActive()&&(a.bm.hud.flyCoin(this.node),this.destroySelf("Prefab/fx/egg_bomb"),l.PlayerInfo.lv_coin+=1);else if(e==s.Tag.Spike){this.isdead=!0,this.node.destroy();var o=this.node.position;a.bm.play("Prefab/fx/egg_bomb",o)}},r([f(cc.ParticleSystem)],e.prototype,"groundparticle",void 0),r([p,d("game/egg")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Logic/PlayerInfo":"PlayerInfo","./BirdManager":"BirdManager","./Tag":"Tag","./Unity":"Unity"}],EventManager:[function(t,e,o){"use strict";cc._RF.push(e,"334c9avVx5ILbx/6NU/H45V","EventManager");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){this._eventList={}}return t.prototype.on=function(t,e,o){var n;null!=this._eventList[t]?(n=this._eventList[t]).push({listen:e,target:o}):((n=new Array).push({listen:e,target:o}),this._eventList[t]=n)},t.prototype.off=function(t,e,o){if(null==e||e instanceof Function||(o=e,e=null),null!=this._eventList[t])if(null==e&&null==o)delete this._eventList[t];else for(var n=this._eventList[t],i=n.length-1;i>=0;i--)null!=e&&null!=o?n[i].listen==e&&n[i].target==o&&n.splice(i,1):null!=e&&n[i].listen==e?n.splice(i,1):null!=o&&n[i].target==o&&n.splice(i,1);else this.offTarget(t)},t.prototype.offTarget=function(t){for(var e in this._eventList){var o=this._eventList[e];this._eventList[e]=o.filter(function(e){return e.target!=t})}},t.prototype.emitDelay=function(t,e){for(var o=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];setTimeout(function(){o.emit.apply(o,[e].concat(n))},1e3*t)},t.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=!1;if(null!=this._eventList[t])for(var i=this._eventList[t],r=i.length-1;r>=0;r--){var a=i[r];null!=a.target?a.listen.apply(a.target,e)&&(n=!0):a.listen.apply(this,e)&&(n=!0)}return n},t.prototype.wait=function(t,e){return void 0===e&&(e=0),n(this,void 0,Promise,function(){var n=this;return i(this,function(){return[2,new Promise(function(i){var r=n,a=0,c=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o.event.off(t,c,r),a&&clearTimeout(a),i(e)};e>0&&(a=setTimeout(function(){o.event.off(t,c,r),i("timeout")},1e3*e)),o.event.on(t,c,n)})]})})},t.prototype.sleep=function(t){return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},t}();o.event=new r,g.setGlobalInstance(o.event,"evt"),cc._RF.pop()},{}],FSM:[function(t,e,o){"use strict";cc._RF.push(e,"83f52qrCghNrKS6jOC/j6I0","FSM");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=(r.ccclass,r.property,function(){function t(t,e){this.__interval_callbacks=[],this.interval_id=0,this.id=t,this.name=e}return t.prototype.onEnter=function(){},t.prototype.onExit=function(){},t.prototype.onUpdate=function(){},t.prototype.on=function(){},t.prototype.off=function(){},t.prototype.clearIntervals=function(){this.__interval_callbacks.splice(0,this.__interval_callbacks.length)},t.prototype.setInterval=function(t,e,o){var n=++this.interval_id;return this.__interval_callbacks.push({id:n,callback:e,target:o,interval:t,timer:0}),n},t.prototype.clearInterval=function(t){this.__interval_callbacks.splice(this.__interval_callbacks.indexOf(t))},t.prototype.setTimeout=function(t,e,o){var n=++this.interval_id;return this.__interval_callbacks.push({id:n,callback:e,target:o,delay:t,timer:0}),n},t.prototype.clearTimeout=function(t){this.clearInterval(t)},t.prototype.invokeIntervals=function(t){for(var e=0;e<this.__interval_callbacks.length;e++){var o=this.__interval_callbacks[e];o.timer=o.timer+t,o.interval?o.timer>=o.interval&&(o.timer=0,o.callback.call(o.target)):o.delay&&o.timer>=o.delay&&(o.callback.call(o.target),this.__interval_callbacks.splice(e),e--)}},t}());o.State=a;var c=function(t){function e(e,o,n,i){var r=t.call(this,o,n)||this,a=cc.js.formatStr(i,"onEnter",r.name),c=cc.js.formatStr(i,"onUpdate",r.name),s=cc.js.formatStr(i,"onExit",r.name);return r.__target=e,r.__enterFunc=r.__target[a],r.__updateFunc=r.__target[c],r.__exitFunc=r.__target[s],r}return i(e,t),e.prototype.onEnter=function(t){this.clearIntervals(),this.__enterFunc&&this.__enterFunc.call(this.__target,this,t)},e.prototype.onExit=function(){this.__exitFunc&&this.__exitFunc.call(this.__target,this)},e.prototype.onUpdate=function(t){this.invokeIntervals(t),this.__updateFunc&&this.__updateFunc.call(this.__target,this,t)},e}(a),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeElapsed=0,e._states={},e._isPaused=!1,e._log=!1,e}return i(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._target=t,this.timeElapsed=0},e.prototype.getState=function(t){return this._states[t]},e.prototype.getCurrentState=function(){return this.c},e.prototype.getPreviousState=function(){return this.p},e.prototype.addStates=function(t,e){void 0===e&&(e="%s_%sState");var o=Object.keys(t),n=o.length/2;this.namePattern=e;for(var i=0;i<n;i++){var r=o[i],a=t[r];this.addState(r,a)}},e.prototype.addState=function(t,e,o,n,i,r){this._log&&console.log("[FSM]"+this.target.__classname__+"("+this.target.name+") Add State :",t,e);var a=new c(this.target,t,e,this.namePattern);this._states[t]=a,o&&(a.__enterFunc=o),n&&(a.__exitFunc=n),i&&(a.__updateFunc=i),r&&(a.__target=r)},e.prototype.enterState=function(t,e){this.timeElapsed=0;var o=this._states[t];this.c=o,o.onEnter(e),this._log&&console.log("[FSM]"+this.target.__classname__+" First State:",o.name)},e.prototype.revertState=function(){this.changeState(this.p.id)},e.prototype.pause=function(){this._isPaused=!0},e.prototype.resume=function(){this._isPaused=!1},e.prototype.resetCurrentState=function(){this.timeElapsed=0,console.log(cc.js.formatStr("[FSM] %s reset currentState",this.target.__classname__)),this.c.onExit(),this.c.onEnter()},e.prototype.changeState=function(t,e){var o=this._states[t];null!=o?this._isPaused?console.warn("[FSM] fsm is paused ! "+this.target.__classname__+" changeState to <"+o.name+"> failed!"):t!=this.c.id?(this.timeElapsed=0,this.c.onExit(),this.p=this.c,this.c=o,this._log&&console.log(cc.js.formatStr("[FSM] %s (%s): %s -> %s",this.target.__classname__,this.name,this.p.name,o.name)),this.c.onEnter(e)):this._log&&console.log(this.target.__classname__+" already in state :"+o.name):console.warn("[FSM] invalid state for stateId "+t+" of : "+this.target.__classname__)},e.prototype.isInState=function(t){return this.c==this._states[t]},e.prototype.update=function(t){this._isPaused||(e.debug&&(t=.016),this.timeElapsed+=t,this.c&&this.c.onUpdate(t))},e.debug=!1,e}(cc.Component);o.default=s,cc._RF.pop()},{}],FrameSwitch:[function(t,e,o){"use strict";cc._RF.push(e,"c91b3abpIpG6bc0T66llEDb","FrameSwitch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=(a.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frames=[],e.target=null,e._index=0,e.randomOnLoad=!1,e}return i(e,t),e.prototype.onLoad=function(){null==this.target&&(this.target=this.getComponent(cc.Sprite)),this.randomOnLoad&&this.switchRandom()},e.prototype.switchRandom=function(){this.index=g.randomInt(0,this.frames.length)},Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this.switch(t)},enumerable:!0,configurable:!0}),e.prototype.switch=function(t){var e=this.frames.length,o=Math.min(Math.max(0,t),e-1);this.target.spriteFrame=this.frames[o],this._index=o},e.prototype.start=function(){},r([s([cc.SpriteFrame])],e.prototype,"frames",void 0),r([s(cc.Sprite)],e.prototype,"target",void 0),r([s],e.prototype,"randomOnLoad",void 0),r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],GameConfigs:[function(t,e,o){"use strict";cc._RF.push(e,"0ff8cbMXJFLVaQF1Sqnm6gc","GameConfigs"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConfig={game_id:"brickbird",wx_appid:"wx8377c793a5b1c7b7",default_share_title:"brickbird",deafult_share_imgUrl:"resources/wechat_share.jpg",banner_ad_id:"adunit-0ec2970bdd1e0d9d",video_ad_id:"adunit-22626591e2c8ce8c",interstitial_ad_id:"adunit-fcbe8bf0b2e349f7"},cc._RF.pop()},{}],Hud:[function(t,e,o){"use strict";cc._RF.push(e,"005badenchKVIr0dRKe0UQA","Hud");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../../../framework/plugin_boosts/components/PsFxPlayer"),s=t("./BirdManager"),l=t("../../../framework/plugin_boosts/components/PsSpawner"),u=t("../Logic/PlayerInfo"),p=t("../../../framework/plugin_boosts/utils/Common"),f=cc._decorator,d=f.ccclass,h=f.property,y=(f.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.powerBar=null,e.powerBarBg=null,e.levelBar=null,e.curLabel=null,e.nextLabel=null,e.scoreLabel=null,e.birdLayout=null,e.fx_666=null,e.psfxPlayer=null,e.birdCounts=[],e.coinfxPlayer=null,e.node_coin=null,e.camera=null,e.loadingBg=null,e.moveps=null,e.fx_321=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.powerBarBg=this.powerBar.node.parent,this.powerBarBg.active=!1,this.register(this.curLabel,function(){return u.PlayerInfo.playinglevel}),this.register(this.nextLabel,function(){return u.PlayerInfo.playinglevel+1}),this.register(this.birdLayout,function(){return t.birdCounts}),this.fx_666=this.addComponent(c.default),this.fx_666.prefabPath="Prefab/fx/666666",this.loadingBg.opacity=255,this.loadFx()},e.prototype.onLevelStart=function(){},e.prototype.loadFx=function(){this.fx_321=this.addComponent(c.default),this.fx_321.prefabPath="Prefab/fx/321"},e.prototype.hideLoading=function(){var t=cc.scaleTo(.5,2),e=cc.spawn(t,cc.fadeOut(.5));this.loadingBg.runAction(e)},e.prototype.enableMoveParticles=function(t){this.moveps.node.active=t},e.prototype.start=function(){-1==u.PlayerInfo.playinglevel&&(this.curLabel.node.active=!1,this.nextLabel.node.active=!1,this.levelBar.node.active=!1),this.render()},e.prototype.powerOff=function(){this.powerBarBg.parent=null},e.prototype.powerOn=function(t){this.fx_666.play(),this.removeBirds(),this.powerBarBg.parent=null,this.powerBarBg.parent=t,this.powerBarBg.position=cc.v2(0,120),this.powerBarBg.active=!0},e.prototype.updatePowerBar=function(t){this.powerBar.fillStart=-1+t,this.powerBar.node.active=t>0},e.prototype.updateDistance=function(t){-1==u.PlayerInfo.playinglevel?this.scoreLabel.string=u.PlayerInfo.distance+"":(this.levelBar.progress=t/s.bm.GateLength,this.scoreLabel.string=u.PlayerInfo.tmpscore+"")},e.prototype.addBird=function(){this.birdCounts.push(0),this.render()},e.prototype.removeBirds=function(){this.birdCounts.splice(0),this.render()},e.prototype.play=function(t,e){this.psfxPlayer.play(t,e)},e.prototype.playWithText=function(t,e,o){this.psfxPlayer.play3(t,e).then(function(t){var e=t.getComponent(cc.Label);null==e&&(e=t.getComponentInChildren(cc.Label)),e&&(e.string=o)})},e.prototype.fly_Coin=function(t,e){var o=this;void 0===e&&(e=1);var n=new cc.Node,i=n.addComponent(cc.Sprite);cc.find("Canvas"),p.default.setDisplay(i,"Texture/coins/coin-01").then(function(){var r=t.convertToWorldSpaceAR(cc.v2(0,0));r=o.node.parent.convertToNodeSpaceAR(r),i.node.setParent(o.node.parent),i.node.zIndex=98,i.node.setPosition(r);var a=o.node_coin.convertToWorldSpaceAR(cc.v2(0,0));a=o.node.parent.convertToNodeSpaceAR(a);var c=cc.moveTo(1,a).easing(cc.easeSineOut()),s=cc.sequence(c,cc.callFunc(function(){u.PlayerInfo.coin+=e,u.PlayerInfo.save("coin"),n.destroy()}));i.node.runAction(s)})},e.prototype.flyCoin=function(t,e,o){var n;void 0===e&&(e=1),void 0===o&&(o=!1),n=o?t.convertToWorldSpaceAR(cc.v2(0,0)):p.default.convertCameraWorldPosition(t.getBoundingBoxToWorld().center,cc.Camera.main,this.camera);var i=this.node.convertToNodeSpaceAR(n),r=this.node_coin.position;this.coinfxPlayer.play3("Prefab/fx/add_coin",i).then(function(t){var o=cc.moveTo(t.duration,r).easing(cc.easeSineOut()),n=cc.sequence(o,cc.callFunc(function(){u.PlayerInfo.coin+=e,u.PlayerInfo.save("coin")}));t.node.runAction(n)})},r([h(cc.Sprite)],e.prototype,"powerBar",void 0),r([h(cc.ProgressBar)],e.prototype,"levelBar",void 0),r([h(cc.Label)],e.prototype,"curLabel",void 0),r([h(cc.Label)],e.prototype,"nextLabel",void 0),r([h(cc.Label)],e.prototype,"scoreLabel",void 0),r([h(cc.Layout)],e.prototype,"birdLayout",void 0),r([h(l.default)],e.prototype,"psfxPlayer",void 0),r([h(l.default)],e.prototype,"coinfxPlayer",void 0),r([h(cc.Node)],e.prototype,"node_coin",void 0),r([h(cc.Camera)],e.prototype,"camera",void 0),r([h(cc.Node)],e.prototype,"loadingBg",void 0),r([h(cc.ParticleSystem)],e.prototype,"moveps",void 0),r([d],e)}(a.default));o.default=y,cc._RF.pop()},{"../../../framework/plugin_boosts/components/PsFxPlayer":"PsFxPlayer","../../../framework/plugin_boosts/components/PsSpawner":"PsSpawner","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/Common":"Common","../Logic/PlayerInfo":"PlayerInfo","./BirdManager":"BirdManager"}],InfiniteMap:[function(t,e,o){"use strict";cc._RF.push(e,"d9cf1i3IPJBerkLYUoUlmv8","InfiniteMap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BirdManager"),c=t("../Module/model_manager"),s=t("../Module/SegmentInfo"),l=cc._decorator,u=l.ccclass,p=(l.property,l.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allSegs=[],e.group=[],e.index=1,e}return i(e,t),e.prototype.onLoad=function(){this.allSegs=csv.Segments.values.map(function(t){return c.default.get(s.default,t.Id)})},e.prototype.start=function(){var t=[this.nextSeg(),this.nextSeg(),this.nextSeg()];a.bm.loadMap(t),a.bm.map.signal.add(this.nextMapSignal,this)},e.prototype.nextGroup=function(){var t;return t=this.index<=12?[1,1,2]:this.index<=24?[1,2,2]:this.index<=36?[1,2,3]:[1,2,3,3],g.shuffle(t),this.index++,t},e.prototype.nextSeg=function(){0==this.group.length&&(this.group=this.nextGroup());var t=this.group.pop(),e=this.allSegs.filter(function(e){return e.diffLevel==t});return g.getRandom(e).name},e.prototype.nextMapSignal=function(t){if("newSegCreated"==t){var e=this.nextSeg();this.addSeg(e)}},e.prototype.addSeg=function(t){cc.loader.loadRes("Prefab/lv/"+t,cc.Prefab,function(t,e){a.bm.map.addSements(e)})},r([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Module/SegmentInfo":"SegmentInfo","../Module/model_manager":"model_manager","./BirdManager":"BirdManager"}],InputSystem:[function(t,e,o){"use strict";cc._RF.push(e,"d2e1criFypEK5EbGRXE8GGc","InputSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./JoyStick"),c=cc._decorator,s=c.ccclass,l=c.property;o.Input=null;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target=null,e.keys={},e.__touchVec=cc.Vec2.ZERO,e.radius_axis=256,e.joyStick=null,e.__lastTouch=cc.Vec2.ZERO,e.moveOffset=cc.Vec2.ZERO,e.__curTouchId=-1,e}return i(e,t),e.prototype.setDelegate=function(t){this._target=t},e.prototype.onLoad=function(){o.Input=this;for(var t=this.getComponents(cc.Component),e=0;e<t.length;e++){var n=t[e];if(n!=this&&(n.onTouchBegan||n.onTouchEnded||n.onTouchMoved)){this._target=n;break}}console.log("InputSystem Component -> target:",this._target)},e.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.triggerKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.triggerKeyUp,this),this.node.on(cc.Node.EventType.TOUCH_START,this.triggerTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.triggerTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.triggerTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.triggerTouchCanceled,this)},Object.defineProperty(e.prototype,"touch",{get:function(){return this.__touch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axis",{get:function(){return this.joyStick?this.joyStick.axis:this.__touchVec},enumerable:!0,configurable:!0}),e.prototype.getKey=function(t){return this.keys[t]},e.prototype.triggerKeyUp=function(){this._target.onKeyUp&&this._target.onKeyUp(event),this.keys[event.key]=!1},e.prototype.triggerKeyDown=function(){this._target.onKeyDown&&this._target.onKeyDown(event),this.keys[event.key]=!0},e.prototype.triggerTouchEnded=function(t){-1!=this.__curTouchId&&t.getID()!=this.__curTouchId||(this.__curTouchId=-1,this._target.onTouchEnded&&this._target.onTouchEnded(t),this.__touch=null,this.__touchVec=cc.Vec2.ZERO,t.currentTouch&&this.joyStick&&this.joyStick.touchEnd(t.currentTouch.getLocation()),this.moveOffset=cc.Vec2.ZERO)},e.prototype.triggerTouchMoved=function(t){-1!=this.__curTouchId&&t.getID()!=this.__curTouchId||(this._target.onTouchMoved&&this._target.onTouchMoved(t),this.__touch=t.currentTouch.getLocation(),this.moveOffset=this.__touch.sub(this.__lastTouch),this.__touch&&this.__startLocation&&(this.__touchVec=this.__touch.sub(this.__startLocation),this.joyStick&&this.joyStick.touchMove(this.__touch)),this.__lastTouch=this.__touch)},e.prototype.triggerTouchBegan=function(t){-1!=this.__curTouchId&&t.getID()!=this.__curTouchId||(this._target.onTouchBegan&&this._target.onTouchBegan(t),this.__curTouchId=t.getID(),this.__startLocation=t.currentTouch.getLocation(),this.__touch=t.currentTouch.getLocation(),this.__lastTouch=this.__touch,this.joyStick&&this.joyStick.touchStart(this.__startLocation))},e.prototype.triggerTouchCanceled=function(t){this.triggerTouchEnded(t)},e.prototype.onEnable=function(){this.schedule(this.checkTouch,.02)},e.prototype.onDisable=function(){this.unschedule(this.checkTouch)},e.prototype.checkTouch=function(){this.__touch&&(this.moveOffset=this.__touch.sub(this.__lastTouch))},r([l(a.default)],e.prototype,"joyStick",void 0),r([s],e)}(cc.Component);o.InputSystem=u,cc._RF.pop()},{"./JoyStick":"JoyStick"}],Intersection:[function(t,e,o){"use strict";cc._RF.push(e,"2f4dfDdP95AjIAwGFL34sfm","Intersection"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.circleIntersectRect=function(t,e,o){var n,i;n=t.x<o.x?o.x:t.x>o.x+o.width?o.x+o.width:t.x,i=t.y<o.y?o.y:t.y>o.y+o.height?o.y+o.height:t.y;var r=cc.v2(n,i);return r.subSelf(t),r.magSqr()<e*e},t}();o.default=n,cc._RF.pop()},{}],JoyStick:[function(t,e,o){"use strict";cc._RF.push(e,"ec791Qee/dHzaDjyVnyCc7q","JoyStick");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.outterCircle=null,e.innerCircle=null,e.radius=250,e.innerCircleRadius=20,e.releaseAfterOver=!1,e.dynamicJoystick=!1,e.autoRadius=!1,e.isReleased=!1,e._startPos=cc.Vec2.ZERO,e}return i(e,t),e.prototype.onLoad=function(){this.autoRadius&&(this.radius=this.outterCircle.getBoundingBox().height/2),this.innerCircle.setPosition(0,0),this.node.active=!1},e.prototype.start=function(){this.releaseStick()},e.prototype.releaseStick=function(){var t=cc.moveTo(.5,cc.Vec2.ZERO).easing(cc.easeExponentialOut());this.innerCircle.runAction(t),this.isReleased=!0,this.dynamicJoystick&&this.scheduleOnce(this.delayClose,1)},e.prototype.delayClose=function(){this.node.active=!1},Object.defineProperty(e.prototype,"axis",{get:function(){if(this.isReleased)return cc.Vec2.ZERO;var t=this.innerCircle.getPosition();return t.normalizeSelf(),t},enumerable:!0,configurable:!0}),e.prototype.move=function(t){t.mag()>this.radius&&(this.releaseAfterOver&&this.releaseStick(),t.normalizeSelf(),t.mulSelf(this.radius)),this.innerCircle.setPosition(t)},e.prototype.touchStart=function(t){if(this.enabled){if(this.isReleased=!1,this._startPos=t,this.unschedule(this.delayClose),this.node.active=!0,this.dynamicJoystick){var e=this.node.getParent().convertToNodeSpaceAR(t);this.node.setPosition(e)}this.move(cc.Vec2.ZERO)}},e.prototype.touchMove=function(t){if(this.enabled){var e=t.sub(this._startPos);this.move(e)}},e.prototype.touchEnd=function(){this.enabled&&this.releaseStick()},r([s(cc.Node)],e.prototype,"outterCircle",void 0),r([s(cc.Node)],e.prototype,"innerCircle",void 0),r([s],e.prototype,"radius",void 0),r([s],e.prototype,"innerCircleRadius",void 0),r([s],e.prototype,"releaseAfterOver",void 0),r([s],e.prototype,"dynamicJoystick",void 0),r([s],e.prototype,"autoRadius",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LabelPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"5faea+eR6BC0qpJsH0yl96u","LabelPlayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.framePerSec=15,e.cursor=0,e.end=0,e.isLoop=!1,e._start=0,e.isPlaying=!1,e.animations=[],e.index2Frames=[],e.currentFrames=[],e.playOnLoad=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.label=this.getComponent(cc.Label),this.animations.forEach(function(e){var o,n=e.split("-"),i=n[0],r=n[1];o=r?range(i,r):e.split(",").map(function(t){return Number(t)}),t.index2Frames.push(o)})},Object.defineProperty(e.prototype,"interval",{get:function(){return 1/this.framePerSec},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.playOnLoad&&this.playWithIndex(0,!0)},e.prototype._play=function(t,e,o){void 0===o&&(o=!1),this.isPlaying=!0,this._start=t,this.cursor=t,this.end=e,this.isLoop=o},e.prototype.play=function(t,e,o){void 0===o&&(o=!1);var n=range(t,e);this.playArray(n,o)},e.prototype.playIndexLoop=function(t){this.playArray(this.index2Frames[t],!0)},e.prototype.playIndex=function(t){this.playArray(this.index2Frames[t],!1)},e.prototype.playWithIndex=function(t,e){void 0===e&&(e=!1),this.playArray(this.index2Frames[t],e)},e.prototype.setInterval=function(){this.unschedule(this.step),this.schedule(this.step,this.interval)},e.prototype.playArray=function(t,e){void 0===e&&(e=!1),this.currentFrames=t,this._play(0,t.length-1,e)},e.prototype.onEnable=function(){this.schedule(this.step,this.interval)},e.prototype.onDisable=function(){this.unschedule(this.step)},e.prototype.step=function(){if(this.isPlaying){var t=this.currentFrames[this.cursor];this.label.string=t.toString(),this.cursor++,this.cursor>this.end&&(this.isLoop?this.cursor=this._start:this.isPlaying=!1)}},r([s({slide:!0,range:[1,60],step:1})],e.prototype,"framePerSec",void 0),r([s({type:[cc.String]})],e.prototype,"animations",void 0),r([s],e.prototype,"playOnLoad",void 0),r([c,l("gamelib/LabelPlayer")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Land:[function(t,e,o){"use strict";cc._RF.push(e,"5f98250glRCEKXT7TUXniXI","Land");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,a.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextlands=[],e}return i(e,t),r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],LevelInfo:[function(t,e,o){"use strict";cc._RF.push(e,"f75f7sLeZNBM7OmdU7oeN9o","LevelInfo");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(t){this.id=0,this.next=0,this.scene=1,this.num="",this.content=[],this.isValid=!1;var e=csv.LevelInfo.get(t);if(null!=e){this.id=e.Id,this.next=e.Next,this.scene=parseInt(e.Scene),this.num=e.Number;for(var o=0;o<18;o++){var n=(o+1).toString();this.content[o]=e["Content"+n]}this.isValid=!0}}return n([r],t)}());o.default=a,cc._RF.pop()},{}],LevelSelector:[function(t,e,o){"use strict";cc._RF.push(e,"b7942O9SJ1JFpcT0/D7YiFO","LevelSelector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=(a.help,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageview=null,e.template=null,e.onSelectLevel=new cc.Component.EventHandler,e.onRefreshItem=new cc.Component.EventHandler,e.index=0,e.max=9,e.itemCountPerPage=0,e.pages=[],e.currentLevel=1,e.autoScrollToCurrentLevel=!0,e}return i(e,t),e.prototype.selectLevel=function(t){this.onSelectLevel?this.onSelectLevel.emit([t.target,Number(t.target.name)]):console.warn("LevelSelector: onSelectLevel callback is nil")},e.prototype.onLoad=function(){this.pages.splice(0,this.pages.length),this.itemCountPerPage=this.template.childrenCount;var t=Math.floor(this.max/this.itemCountPerPage);this.max%this.itemCountPerPage>0&&(t+=1);for(var e=0;e<t-1;e++){var o=cc.instantiate(this.template);this.pageview.addPage(o),this.pages.push(o)}this.pages.push(this.template);for(var n=0;n<t;n++){o=this.pages[n];for(var i=0;i<o.childrenCount;i++){var r=o.children[i],a=r.getChildByName("label"),c=n*this.itemCountPerPage+Number(i)+1;c>this.max&&(r.active=!1),r.name=c+"",a.getComponent(cc.Label).string=r.name}}},e.prototype.refreshItem=function(t,e){e>this.currentLevel?(t.opacity=100,t.getComponent(cc.Button).enabled=!1):(t.opacity=255,t.getComponent(cc.Button).enabled=!0)},e.prototype.refresh=function(){console.log("LevelSelctor: refresh");for(var t=0;t<this.pages.length;t++)for(var e=this.pages[t],o=0;o<e.childrenCount;o++){var n=e.children[o],i=t*this.itemCountPerPage+Number(o)+1;this.refreshItem(n,i),this.onRefreshItem.emit([n,i])}this.autoScrollToCurrentLevel&&this.scrollToCurrentLevel()},e.prototype.start=function(){},e.prototype.scrollToCurrentLevel=function(){var t=this.currentLevel,e=Math.floor(t/this.itemCountPerPage);0==t%this.itemCountPerPage&&(e-=1),this.pageview.scrollToPage(e,.3)},e.prototype.nextPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()+1,.3)},e.prototype.prevPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()-1,.3)},r([s(cc.PageView)],e.prototype,"pageview",void 0),r([s(cc.Node)],e.prototype,"template",void 0),r([s(cc.Component.EventHandler)],e.prototype,"onSelectLevel",void 0),r([s(cc.Component.EventHandler)],e.prototype,"onRefreshItem",void 0),r([s],e.prototype,"index",void 0),r([s],e.prototype,"max",void 0),r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],LoadingManager:[function(t,e,o){"use strict";cc._RF.push(e,"48049jD6zJMmoi+cPkRhX7D","LoadingManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property;o.Loading=null;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.loadingNode=null,e.loadingSprite=null,e.loadingText=null,e.blockEventComp=null,e._callback=null,e._target=null,e}return i(e,t),e.prototype.onLoad=function(){this.loadingNode=cc.instantiate(this.prefab),this.blockEventComp=this.loadingNode.getComponent(cc.BlockInputEvents),this.loadingNode.parent=this.node,this.loadingNode.zIndex=9999,this.loadingSprite=this.loadingNode.getComponentInChildren(cc.Sprite),this.loadingText=this.loadingNode.getComponentInChildren(cc.Label),this.hide(),o.Loading=this},e.prototype.start=function(){this.loadingSprite.node.runAction(cc.rotateBy(4,360).repeatForever())},e.prototype.dealyClose=function(){this.hide(),this._callback&&this._callback.call(this._target)},e.prototype.show=function(t,e,o,n,i){void 0===e&&(e=null),void 0===o&&(o=!0),void 0===n&&(n=null),void 0===i&&(i=null),this.loadingNode&&(this.loadingNode.active=!0,this.loadingNode.resumeAllActions(),this.blockEventComp.enabled=o,this._callback=n,this._target=i,e&&(this.loadingText.string=e),t>0&&(this.unschedule(this.dealyClose),this.scheduleOnce(this.dealyClose,t)))},e.prototype.hide=function(){this.unschedule(this.dealyClose),this.loadingNode.active=!1,this.loadingNode.pauseAllActions()},r([s(cc.Prefab)],e.prototype,"prefab",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LoadingSceneBase:[function(t,e,o){"use strict";cc._RF.push(e,"3459eEwrAdGs6+KyJseYOED","LoadingSceneBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Platform"),l=cc._decorator,u=l.ccclass,p=l.property,f=null,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultSceneName="Home",e.label=null,e.percentLabel=null,e.bar=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){f=f||this.defaultSceneName},e.prototype.start=function(){this.bar.progress=0,this.label.string="\u52a0\u8f7d\u4e2d..."},Object.defineProperty(e.prototype,"progress",{set:function(t){this.bar.progress=t,this.percentLabel.string=Math.floor(100*t)+"%"},enumerable:!0,configurable:!0}),e.prototype.loadNextScene=function(t){var e=this;return f=f||this.defaultSceneName,this.label.string="\u52a0\u8f7d\u573a\u666f\u8d44\u6e90",new Promise(function(){cc.director.preloadScene(f,function(t,o){e.percentLabel.string=(t/o*100).toFixed(1)+"%",e.bar.progress=t/o},function(){t?cc.loader.loadRes(t,cc.Prefab,function(t,o){cc.director.loadScene(f,function(){var t=cc.instantiate(o);cc.director.getScene().addChild(t,-1),e.onLoadFinished()})}):cc.director.loadScene(f,function(){e.onLoadFinished()})})})},e.prototype.onLoadFinished=function(t){var e=cc.find("Canvas");e&&e.getComponents(cc.Component).forEach(function(e){e.onLoadFinished&&e.onLoadFinished(o.param,t)})},e.prototype.loadSubPackage=function(t,e){return a(this,void 0,void 0,function(){var o=this;return c(this,function(n){switch(n.label){case 0:return this.label.string=e,[4,s.default.loadSubPackage(t,function(t){o.progress=t/100})];case 1:return n.sent(),[2]}})})},e.setNextScene=function(t){f=t},e.getNextScene=function(){return f},e.goto=function(t,e){void 0===e&&(e=null),o.param=e,f=t,cc.director.loadScene("Loading")},e.param=null,e.ResPrefab=null,r([p],e.prototype,"defaultSceneName",void 0),r([p(cc.Label)],e.prototype,"label",void 0),r([p(cc.Label)],e.prototype,"percentLabel",void 0),r([p(cc.ProgressBar)],e.prototype,"bar",void 0),o=r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Platform":"Platform"}],LoadingScene:[function(t,e,o){"use strict";cc._RF.push(e,"3b49467fklC9KABRHJsiEn0","LoadingScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../framework/plugin_boosts/components/LoadingSceneBase"),l=t("../../../framework/plugin_boosts/utils/EventManager"),u=t("../Logic/PlayerInfo"),p=t("../../../framework/aldsdk/StatHelper"),f=t("../../../sdk/native/NativeMgr"),d=cc._decorator,h=d.ccclass,y=d.property,_=!1,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.healthNode=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),_||(window.native=new f.default),this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.checkPrivacy=function(t){var e=this,o=!1;cc.sys.isNative?(cc.sys.platform===cc.sys.ANDROID&&(window.native.getFlavor()===f.default.FLAVORS_NAME.Vivo||window.native.getFlavor()===f.default.FLAVORS_NAME.XiaoMi?cc.sys.localStorage.getItem("isPrivacyFinish")||(o=!0,cc.loader.loadRes("sdk/Privacy",cc.Prefab,function(e,o){var n=cc.instantiate(o);cc.find("Canvas").addChild(n),n.setSiblingIndex(1e3),n.getComponent("Privacy").setCloseCallBack(function(e){e&&(cc.sys.localStorage.setItem("isPrivacyFinish","true"),t())})})):window.native.getFlavor()===f.default.FLAVORS_NAME.Oppo&&(this.healthNode.active=!0,o=!0,this.scheduleOnce(function(){cc.tween(e.healthNode).to(.3,{opacity:0}).call(function(){e.healthNode.active=!1,t()}).start()},1.5))),o||t()):t()},e.prototype.nextScene=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return p.default.init(u.PlayerInfo.userId),[4,this.loadSubPackage("texture","\u52a0\u8f7d\u8d44\u6e90")];case 1:return t.sent(),this.loadNextScene(),l.event.emit("Loading.Success"),u.PlayerInfo.loginTime&&(new Date(u.PlayerInfo.loginTime).toDateString()!==(new Date).toDateString()?(u.PlayerInfo.firstlogin=!0,u.PlayerInfo.loginTime=Date.now(),u.PlayerInfo.save("loginTime")):u.PlayerInfo.firstlogin=!1),[2]}})})},e.prototype.loginProgress=function(t){switch(t){case"login":this.label.string="\u767b\u5f55\u4e2d",this.progress=.1;break;case"config":this.label.string="\u52a0\u8f7d\u914d\u7f6e",this.progress=.2;break;case"local_csv":this.label.string="\u52a0\u8f7d\u672c\u5730\u914d\u7f6e",this.progress=.3;break;case"csv":this.label.string="\u52a0\u8f7d\u7f51\u7edc\u914d\u7f6e",this.progress=.6;break;case"share_config":this.label.string="\u52a0\u8f7d\u5206\u4eab\u914d\u7f6e",this.progress=.7;break;case"complete":this.label.string="\u8fdb\u5165\u6e38\u620f...",this.progress=.8}},e.prototype.onClick=function(){this.startLogin()},e.prototype.start=function(){this.startLogin()},e.prototype.onCsvLoaded=function(){_=!0,csv.removeIndex("Config","Key"),csv.createIndex("Config","Key","config_data"),l.event.emit("Loading.Login"),this.nextScene()},e.prototype.startLogin=function(){var t=this;_?this.onCsvLoaded():this.checkPrivacy(function(){window.native.initAds(),csv.loadDir("Config/csv",t.onCsvLoaded,t)})},r([y(cc.Node)],e.prototype,"healthNode",void 0),r([h],e)}(s.default);o.default=g,cc._RF.pop()},{"../../../framework/aldsdk/StatHelper":"StatHelper","../../../framework/plugin_boosts/components/LoadingSceneBase":"LoadingSceneBase","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../../sdk/native/NativeMgr":"NativeMgr","../Logic/PlayerInfo":"PlayerInfo"}],LocalLifeSystem:[function(t,e,o){"use strict";cc._RF.push(e,"959459BZRhJIbg8xlNUWIJQ","LocalLifeSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../utils/EventManager"),i=t("../misc/Signal"),r=function(){function t(){this.sec_per_live=300,this.live_free_get=5,this.max_freeLives_seconds=this.live_free_get*this.sec_per_live,this.livesSeconds=0,this.isEnabledAutoRecovery=!0,this.recoverySignal=new i.default}return t.prototype.init=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.sec_per_live=t||this.sec_per_live,this.live_free_get=e||this.live_free_get,this.max_freeLives_seconds=this.sec_per_live*this.live_free_get,this.livesSeconds=0,this.lastLifeSaveTime=Number(localStorage.getItem("sys_life_lastLifeSaveTime")||(new Date).getTime()),g.setGlobalInstance(o.LifeSystem,"LocalLifeSystem"),n.event.on("onEnterForeground",this.onEnterForeground,this),this.onTimeRequested((new Date).getTime()),console.log("\u4f53\u529b\u7cfb\u7edf\u521d\u59cb\u5316",this)},t.prototype.onEnterForeground=function(){this.onTimeRequested((new Date).getTime())},Object.defineProperty(t.prototype,"nextLifeTime",{get:function(){return(this.lives+1)*this.sec_per_live-this.livesSeconds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lives",{get:function(){return Math.floor(this.livesSeconds/this.sec_per_live)},enumerable:!0,configurable:!0}),t.prototype.save=function(){this.lastLifeSaveTime=(new Date).getTime(),localStorage.setItem("sys_life_lastLifeSaveTime",this.lastLifeSaveTime+"")},t.prototype.onTimeRequested=function(t){if(this.lastLifeSaveTime){var e=Math.floor((t-this.lastLifeSaveTime)/1e3);this.livesSeconds=Math.min(this.max_freeLives_seconds,e)}},t.prototype.startCheck=function(t,e){var o=this;if(!this.task_checkLives){var n=t.call(e);this.task_checkLives=setInterval(function(){var i=t.call(e);n!=i&&i==o.live_free_get-1&&(o.livesSeconds=0,o.save()),i<o.live_free_get&&(o.livesSeconds=o.livesSeconds+1,i+o.lives>i&&(console.log("\u83b7\u5f97\u5728\u7ebf\u5956\u52b1\u4e00\u9897\u661f",o.lives),o.recoverySignal.fire(o.lives),o.livesSeconds=0,o.save())),n=i},1e3)}},t}();o.LocalLifeSystem=r,o.LifeSystem=new r,cc._RF.pop()},{"../misc/Signal":"Signal","../utils/EventManager":"EventManager"}],LocalTimeSystem:[function(t,e,o){"use strict";cc._RF.push(e,"8385eiFRKxL5o1AHXxP+bVl","LocalTimeSystem"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.init=function(e){null!=e&&null!=e&&(t.utc_sec=e,cc.sys.WECHAT_GAME==cc.sys.platform&&(wx.onHide(this.onHidden),wx.onShow(this.onShown)),g.setGlobalInstance(t))},t.startTimer=function(){this.timer=setInterval(function(){t.utc_sec+=1e3},1e3)},t.stopTimer=function(){clearInterval(this.timer)},t.getSec=function(){return t.utc_sec||(new Date).getTime()/1e3},t.getDate=function(){if(t.utc_sec){var e=new Date;return e.setTime(1e3*t.utc_sec),e}return new Date},t.onHidden=function(){console.log("game enter background")},t.onShown=function(){console.log("game enter foreground")},t}();o.default=n,cc._RF.pop()},{}],LocalUser:[function(t,e,o){"use strict";cc._RF.push(e,"8849eW5GnpE0YuK2g/FwxZx","LocalUser");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/misc/DataCenter"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.music=!0,e.effect=!0,e.vibrate=!0,e.shake=!0,e.speed=0,e.scores=[],e.TryskinCount=0,e.trySkinShowDate=0,e.gamePlayedCount=0,e.lastGamePlayDate=0,e.isfirst=!0,e}return i(e,t),e.prototype.setScore=function(t){var e=this.scores[t];null==e&&(e=0),this.scores[t]=0},e.prototype.getScore=function(t){return this.scores[t]||0},r([a.field()],e.prototype,"music",void 0),r([a.field()],e.prototype,"effect",void 0),r([a.field()],e.prototype,"vibrate",void 0),r([a.field()],e.prototype,"shake",void 0),r([a.field()],e.prototype,"speed",void 0),r([a.field()],e.prototype,"scores",void 0),r([a.field()],e.prototype,"TryskinCount",void 0),r([a.field()],e.prototype,"trySkinShowDate",void 0),r([a.field()],e.prototype,"gamePlayedCount",void 0),r([a.field()],e.prototype,"lastGamePlayDate",void 0),r([a.dc("LocalUser")],e)}(a.default);o.default=c,o.LocalUser=a.default.register(c),cc._RF.pop()},{"../../../framework/plugin_boosts/misc/DataCenter":"DataCenter"}],Locker:[function(t,e,o){"use strict";cc._RF.push(e,"6315frODjtDP5L26E4YpAcQ","Locker"),Object.defineProperty(o,"__esModule",{value:!0});var n={},i=function(){function t(e,o,i){this.activated=!1,this.func_name=o,this.real_func=e[o];var r=new Proxy(this.real_func,{apply:function(e,o,n){if(this.activated=!0,i!=t.Prevent)return e.apply.apply(e,[this].concat(n))}});e[o]=r,this.target=e,n[e]=this}return t.intercept=function(e,o){return n[e]?n[e]:new t(e,o,t.Prevent)},t.prototype.release=function(){this.target[this.func_name]=this.real_func,this.activated&&this.real_func.apply(this.target),delete n[this.target]},t.Prevent=0,t.Before=1,t.After=2,t}();o.default=i,cc._RF.pop()},{}],MainView:[function(t,e,o){"use strict";cc._RF.push(e,"f3142KSbb9M+plyrq/guPnQ","MainView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../framework/plugin_boosts/ui/mvc_View"),l=t("../Logic/PlayerInfo"),u=t("../Logic/LocalUser"),p=t("../Common/LoadingScene"),f=t("../../../framework/plugin_boosts/utils/EventManager"),d=t("../../../framework/plugin_boosts/misc/Device"),h=t("../../../framework/Platform"),y=t("../../../framework/plugin_boosts/misc/SpriteFrameCache"),_=t("../../../framework/aldsdk/StatHelper"),v=t("../../../sdk/native/NativeMgr"),m=cc._decorator,b=m.ccclass,w=m.property,P=!0,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level_label=null,e.arcade_label=null,e.best_label=null,e.music_btn=null,e.shop_btn=null,e.more_btn=null,e.sfx_btn=null,e.vibrate_btn=null,e.checkin_btn=null,e.birdIcon=null,e.skinIcon=null,e.level_btn=null,e.arcade_btn=null,e.frames=null,e}return i(e,t),e.prototype.onLoad=function(){this.more_btn.active=!1,cc.sys.isNative&&cc.sys.platform===cc.sys.ANDROID&&window.native.getFlavor()===v.default.FLAVORS_NAME.Oppo&&(this.more_btn.active=!0),this.onClick(this.more_btn,this.click_more.bind(this)),this.onClick(this.shop_btn,this.click_shop.bind(this)),this.onClick(this.level_btn,this.click_level.bind(this)),this.onClick(this.music_btn,this.click_music.bind(this)),this.onClick(this.vibrate_btn,this.click_vibrate.bind(this)),this.onClick(this.checkin_btn,this.click_checkIn.bind(this)),this.onClick(this.sfx_btn,this.click_sfx.bind(this)),this.onClick(this.arcade_btn,this.click_arcade.bind(this)),this.register(this.level_label,this.levelLabel.bind(this)),this.register(this.arcade_label,this.arcadeLabel.bind(this)),this.register(this.best_label,function(){return l.PlayerInfo.best.toString()}),f.event.on("changeBirdID",this.refreshinon.bind(this),this),this.setSkin(l.PlayerInfo.birdID),P&&(h.default.showBannerAd(),P=!1,d.default.setBGMEnable(u.LocalUser.music),d.default.playerBGM("bgMusic",!0))},e.prototype.start=function(){g.isNextDay(u.LocalUser.trySkinShowDate)&&(u.LocalUser.TryskinCount=0),this.isShowCheck()},e.prototype.isShowCheck=function(){l.PlayerInfo.firstlogin&&vm.show("UI/UICheckIn")},e.prototype.onEnable=function(){this.music_btn.getChildByName("off").active=!u.LocalUser.music,this.sfx_btn.getChildByName("off").active=!u.LocalUser.effect,this.vibrate_btn.getChildByName("off").active=!u.LocalUser.vibrate,this.render()},e.prototype.getBirdFrames=function(t){return a(this,void 0,void 0,function(){var e;return c(this,function(){return e=["Texture/birds/start_"+t,"Texture/birds/mid_"+t,"Texture/birds/end_"+t].map(function(t){return y.default.instance.getSpriteFrame(t)}),[2,Promise.all(e)]})})},e.prototype.setSkin=function(t){return a(this,void 0,void 0,function(){var e,o;return c(this,function(n){switch(n.label){case 0:return e=t>9?t:"0"+t,[4,this.getBirdFrames(e)];case 1:return o=n.sent(),this.birdFly(o),[2]}})})},e.prototype.birdFly=function(t){var e=this.birdIcon.node.getComponent(cc.Animation),o=this.skinIcon.node.getComponent(cc.Animation),n=cc.AnimationClip.createWithSpriteFrames(t,3);n.name="birdFly",n.wrapMode=cc.WrapMode.Loop,e.addClip(n),o.addClip(n),e.play("birdFly").speed*=1,o.play("birdFly").speed*=1},e.prototype.refreshinon=function(){this.setSkin(l.PlayerInfo.birdID)},e.prototype.levelLabel=function(){return l.PlayerInfo.level+"\u5173"},e.prototype.arcadeLabel=function(){return l.PlayerInfo.bestdistance+"m"},e.prototype.click_more=function(){window.native.jumpMoreGame()},e.prototype.click_rank=function(){vm.show("UI/UIRank")},e.prototype.click_shop=function(){vm.show("UI/UISkinShop")},e.prototype.click_level=function(){f.event.emit("gameStart"),_.default.userAction("\u70b9\u51fb\u5173\u5361\u6a21\u5f0f"),vm.show("UI/UIChoseLevel")},e.prototype.click_checkIn=function(){vm.show("UI/UICheckIn")},e.prototype.click_music=function(){u.LocalUser.music=!u.LocalUser.music,u.LocalUser.save("music"),d.default.setBGMEnable(u.LocalUser.music),this.music_btn.getChildByName("off").active=!u.LocalUser.music},e.prototype.click_sfx=function(){u.LocalUser.effect=!u.LocalUser.effect,u.LocalUser.save("effect"),d.default.setSFXEnable(u.LocalUser.effect),this.sfx_btn.getChildByName("off").active=!u.LocalUser.effect},e.prototype.click_vibrate=function(){u.LocalUser.vibrate=!u.LocalUser.vibrate,u.LocalUser.save("vibrate"),this.vibrate_btn.getChildByName("off").active=!u.LocalUser.vibrate,u.LocalUser.vibrate&&d.default.vibrate(50)},e.prototype.click_arcade=function(){f.event.emit("gameStart"),_.default.userAction("\u70b9\u51fb\u8857\u673a\u6a21\u5f0f"),l.PlayerInfo.playinglevel=-1,p.default.goto("Main")},e.prototype.onDestroy=function(){f.event.off(this)},r([w(cc.Label)],e.prototype,"level_label",void 0),r([w(cc.Label)],e.prototype,"arcade_label",void 0),r([w(cc.Label)],e.prototype,"best_label",void 0),r([w(cc.Node)],e.prototype,"music_btn",void 0),r([w(cc.Node)],e.prototype,"shop_btn",void 0),r([w(cc.Node)],e.prototype,"more_btn",void 0),r([w(cc.Node)],e.prototype,"sfx_btn",void 0),r([w(cc.Node)],e.prototype,"vibrate_btn",void 0),r([w(cc.Node)],e.prototype,"checkin_btn",void 0),r([w(cc.Sprite)],e.prototype,"birdIcon",void 0),r([w(cc.Sprite)],e.prototype,"skinIcon",void 0),r([w(cc.Node)],e.prototype,"level_btn",void 0),r([w(cc.Node)],e.prototype,"arcade_btn",void 0),r([b],e)}(s.default);o.default=k,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/aldsdk/StatHelper":"StatHelper","../../../framework/plugin_boosts/misc/Device":"Device","../../../framework/plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../../sdk/native/NativeMgr":"NativeMgr","../Common/LoadingScene":"LoadingScene","../Logic/LocalUser":"LocalUser","../Logic/PlayerInfo":"PlayerInfo"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"d79d42lBm9MVbBDFP9vyQV8","Main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/plugin_boosts/utils/EventManager"),c=t("./Logic/PlayerInfo"),s=t("../../framework/aldsdk/StatHelper"),l=t("./Logic/LocalUser"),u=cc._decorator,p=u.ccclass,f=(u.property,u.menu,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=cc.director.getPhysicsManager();t.enabled=!0,t.gravity=cc.v2(0,-1e3),a.event.on("BirdDead",this.onBirdDead,this),l.LocalUser.gamePlayedCount++,l.LocalUser.lastGamePlayDate=Date.now(),l.LocalUser.save()},e.prototype.onBirdDead=function(){c.PlayerInfo.tmpscore>c.PlayerInfo.best&&(c.PlayerInfo.best=c.PlayerInfo.tmpscore,c.PlayerInfo.save("best")),s.default.setLevelEndEvent(s.LevelEndEventType.Lose),vm.show("UI/UIBirdTip","lose"),this.scheduleOnce(this.openUILose,2)},e.prototype.openUILose=function(){vm.show("UI/UILose")},e.prototype.onDestroy=function(){s.default.endLevel(),a.event.off(this)},r([p],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../framework/aldsdk/StatHelper":"StatHelper","../../framework/plugin_boosts/utils/EventManager":"EventManager","./Logic/LocalUser":"LocalUser","./Logic/PlayerInfo":"PlayerInfo"}],MessageBoxComponent:[function(t,e,o){"use strict";cc._RF.push(e,"5d14c63Zc1PupexE+EkksQp","MessageBoxComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./View"),c=t("./MessageBoxManager"),s=t("../utils/Common"),l=cc._decorator,u=l.ccclass,p=l.property,f=(l.executeInEditMode,l.playOnFocus,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_title=null,e.node_content=null,e.btn_ok=null,e.btn_cancel=null,e.messageBoxCallback=null,e.label_ok=null,e.label_cancel=null,e.group_ok_cancel=null,e.group_ok=null,e}return i(e,t),e.prototype.onLoad=function(){this.label_ok=this.btn_ok.getChildByName("Label").getComponent(cc.Label),this.label_cancel=this.btn_cancel.getChildByName("Label").getComponent(cc.Label),this.getComponent(a.default).setDelegate(this),this.bgAnimation=this.node.getChildByName("bg").getComponent(cc.Animation)},e.prototype.onHidden=function(){},e.prototype.onShown=function(t){s.default.jellyJump2(this.node,.8,1),this.node_title.string=t.title,this.node_content.string=t.content,this.messageBoxCallback=t.callback,t.extra&&(this.label_ok.string=t.extra.okText,this.label_cancel.string=t.extra.cancelText),t.buttons==c.MessageBox.OK_CANCEL?(this.group_ok_cancel.active=!0,this.group_ok.active=!1):(this.group_ok.active=!0,this.group_ok_cancel.active=!1)},e.prototype.start=function(){},e.prototype.on_btn_ok_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,c.MessageBox.OK),this.getComponent(a.default).hide()},e.prototype.on_btn_cancel_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,c.MessageBox.CANCEL),this.getComponent(a.default).hide()},r([p(cc.Label)],e.prototype,"node_title",void 0),r([p(cc.Label)],e.prototype,"node_content",void 0),r([p(cc.Node)],e.prototype,"btn_ok",void 0),r([p(cc.Node)],e.prototype,"btn_cancel",void 0),r([p(cc.Node)],e.prototype,"group_ok_cancel",void 0),r([p(cc.Node)],e.prototype,"group_ok",void 0),r([u],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../utils/Common":"Common","./MessageBoxManager":"MessageBoxManager","./View":"View"}],MessageBoxManager:[function(t,e,o){"use strict";cc._RF.push(e,"bc48cBqkERHuJx+iKzOzwOV","MessageBoxManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ViewManager"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.instance=null,r([l(cc.Prefab)],e.prototype,"prefab",void 0),o=r([s],e)}(cc.Component);o.default=u;var p=function(){function t(){}return t.prototype.start=function(){},t.show=function(t,e,o,n){return e=null==e||null==e?"\u63d0\u793a":e,new Promise(function(i){a.default.instance.showFromPrefab(u.instance.prefab,"MessageBox",{title:e,content:t,buttons:o,extra:n,callback:function(t){i(t)}})})},t.raise=function(t,e){return new Promise(function(o){a.default.instance.show(t,{text:e,callback:function(t){o(t)}})})},t.OK=1,t.CANCEL=0,t.OK_CANCEL=2,t}();o.MessageBox=p,cc._RF.pop()},{"./ViewManager":"ViewManager"}],MoreGameComponent:[function(t,e,o){"use strict";cc._RF.push(e,"662f9RcpGtJGpMGll8qVj04","MoreGameComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./MoreGameManager"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isManaged=!0,e.refreshInterval=60,e.priority_min=50,e._list=[],e}return i(e,t),Object.defineProperty(e.prototype,"count",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"manager",{get:function(){return a.default.instance},enumerable:!0,configurable:!0}),e.prototype.requestTask=function(){var t=this.manager.getTasks(this.priority_min,this.count);this.manager.finishTasks(this._list),this.show(t),this.manager.startTasks(t)},e.prototype.start=function(){},e.prototype.onEnable=function(){this.schedule(this.requestTask,this.refreshInterval,cc.macro.REPEAT_FOREVER,0)},e.prototype.onDisable=function(){this.unschedule(this.requestTask)},e.prototype.onShow=function(){},e.prototype.show=function(t){this._list=t,this.onShow()},Object.defineProperty(e.prototype,"list",{get:function(){return this._list},enumerable:!0,configurable:!0}),r([l],e.prototype,"refreshInterval",void 0),r([l],e.prototype,"priority_min",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./MoreGameManager":"MoreGameManager"}],MoreGameDialog:[function(t,e,o){"use strict";cc._RF.push(e,"da60azHmcJF6oz1R2L0H11s","MoreGameDialog");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./MoreGameManager"),l=t("./MoreGameItem"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.root=null,e.banner=null,e.title=null,e.template=null,e.scrollView=null,e.items=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.updateChildWidget=function(t){var e=t.getComponent(cc.Widget);e&&e.updateAlignment()},e.prototype.updateView=function(){var t=this.banner.spriteFrame.getRect(),e=this.root.getContentSize().width/t.width*t.height;this.banner.sizeMode=cc.Sprite.SizeMode.RAW,this.banner.node.height=e,this.banner.getComponent(cc.Widget).updateAlignment();var o=this.scrollView.getComponent(cc.Widget);o.top=e,o.updateAlignment(),g.foreachNode(this.scrollView.node,this.updateChildWidget,this)},e.prototype.onEnable=function(){this.scheduleOnce(this.updateView)},e.prototype.showBanner=function(){return a(this,void 0,void 0,function(){return c(this,function(){return this.banner.spriteFrame.getRect(),this.updateView(),[2]})})},e.prototype.toUserfriendlyNum=function(t){return t>1e4?(t/1e4).toFixed(1)+"\u4e07":t+""},e.prototype.onShown=function(){this.showBanner();var t=s.default.instance.gameList;this.scrollView.content.removeAllChildren(),this.items.splice(0,this.items.length);for(var e=0;e<t.length;e++){var o=t[e],n=cc.instantiate(this.template),i=n.getComponent(l.default);i.title.string=o.title,i.content.string=o.content,i.player_num.string=this.toUserfriendlyNum(o.players||1e5),i.setStar(o.star||4),this.items.push(i),this.scrollView.content.addChild(n),i.btn.clickEvents.length>0&&(i.btn.clickEvents[0].customEventData=e+""),i.btnSelf.clickEvents.length>0&&(i.btnSelf.clickEvents[0].customEventData=e+"")}this.showIcons()},e.prototype.showIcons=function(){return a(this,void 0,void 0,function(){var t,e,o,n,i;return c(this,function(r){switch(r.label){case 0:t=s.default.instance.gameList,e=0,r.label=1;case 1:return e<t.length?(o=t[e],n=this.items[e],i=n.icon,[4,s.default.instance.getSpriteFrame(o.icon)]):[3,4];case 2:i.spriteFrame=r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},e.prototype.on_click_enter=function(t,e){var o=s.default.instance.gameList[Number(e)];console.log(o),s.default.instance.clickGame(o)},r([f(cc.Node)],e.prototype,"root",void 0),r([f(cc.Sprite)],e.prototype,"banner",void 0),r([f(cc.Label)],e.prototype,"title",void 0),r([f(cc.Node)],e.prototype,"template",void 0),r([f(cc.ScrollView)],e.prototype,"scrollView",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./MoreGameItem":"MoreGameItem","./MoreGameManager":"MoreGameManager"}],MoreGameItem:[function(t,e,o){"use strict";cc._RF.push(e,"b9f111MRGFKg7CINn50/KaQ","MoreGameItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.content=null,e.icon=null,e.btn=null,e.btnSelf=null,e.star_progress=null,e.player_num=null,e}return i(e,t),e.prototype.setStar=function(t){this.star_progress.width=25*t},e.prototype.onLoad=function(){this.btnSelf=this.getComponent(cc.Button)},r([s(cc.Label)],e.prototype,"title",void 0),r([s(cc.Label)],e.prototype,"content",void 0),r([s(cc.Sprite)],e.prototype,"icon",void 0),r([s(cc.Button)],e.prototype,"btn",void 0),r([s(cc.Node)],e.prototype,"star_progress",void 0),r([s(cc.Label)],e.prototype,"player_num",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MoreGameManager:[function(t,e,o){"use strict";cc._RF.push(e,"1f843kK46NKi6g8v7uZN6EC","MoreGameManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./MoreGameComponent"),l=t("./GameConfigs"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(){function t(t){this.isRunning=!1,this.cd=0,this.max_cd=0,this.id=t}return t.prototype.start=function(){this.isRunning=!0},t.prototype.finish=function(){this.isRunning=!1,this.cd=this.max_cd},t}();o.Task=d;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.recommendComps=[],e.gameList=[],e.tasks=[],e.frames={},e}var o;return i(e,t),o=e,Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=cc.find("Canvas").addComponent(o)),this._instance},set:function(t){this._instance=t},enumerable:!0,configurable:!0}),e.prototype.getSpriteFrame=function(t){return a(this,void 0,Promise,function(){var e,o=this;return c(this,function(){return null==(e=this.frames[t])?[2,new Promise(function(n,i){console.log("[MoreGameManager] request image:"+t),cc.loader.load({url:t,type:"png"},function(r,a){a?(e=new cc.SpriteFrame(a),o.addSpriteFrame(t,e),n(e)):i()})})]:[2,new Promise(function(t){return t(e)})]})})},e.prototype.addSpriteFrame=function(t,e){return this.frames[t]=e,e},e.prototype.onLoad=function(){o.instance=this},e.prototype.getTasks=function(t,e){for(var o=[],n=0;n<this.tasks.length&&((i=this.tasks[n]).gameConfig.priority&&i.gameConfig.priority>t&&0==i.cd&&(o.push(i),this.tasks.splice(n,1),n--),!(o.length>=e));n++);if(o.length<e)for(n=0;n<this.tasks.length;n++){var i=this.tasks[n];-1==o.indexOf(i)&&(o.push(i),this.tasks.splice(n,1),n--)}return g.extendArray(this.tasks,o),o},e.prototype.finishTasks=function(t){for(var e=0;e<t.length;e++){var o=t[e];o&&o.finish()}},e.prototype.startTasks=function(t){for(var e=0;e<t.length;e++){var o=t[e];o&&o.start()}},e.prototype.createTasks=function(){for(var t=0;t<this.gameList.length;t++){var e=new d(t);e.gameConfig=this.gameList[t],e.gameConfig.priority=e.gameConfig.priority||100,e.max_cd=100/e.gameConfig.priority*10,this.tasks.push(e)}},e.prototype.addList=function(t){if(null!=t){Array.isArray(t)?(this.gameList.splice(0,this.gameList.length),g.extendArray(this.gameList,t)):this.gameList.push(t),this.gameList.sort(function(t,e){return t.priority?e.priority?e.priority-t.priority:0:1}),this.createTasks();for(var e=0;e<this.recommendComps.length;e++)this.recommendComps[e].requestTask()}},e.prototype.updateFinishedTask=function(){for(var t=0;t<this.tasks.length;t++){var e=this.tasks[t];e.cd>0&&(e.cd=Math.max(0,e.cd-1))}},e.prototype.clickGame=function(t){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f..."),t.wx_appid?wx.navigateToMiniProgram({appId:t.wx_appid,path:t.path||"",extraData:{wx_appid:l.GameConfig.wx_appid},envVersion:"release",success:function(){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f\u6210\u529f :"+t.wx_appid)},fail:function(){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f\u5931\u8d25 :"+t.wx_appid)}}):wx.previewImage({current:null,urls:[t.image],success:function(){console.log("previewImage :"+t.image)}})},e.prototype.onEnable=function(){this.schedule(this.updateFinishedTask,1,cc.macro.REPEAT_FOREVER)},e.prototype.onDisable=function(){this.unschedule(this.updateFinishedTask)},e.prototype.start=function(){},r([f([s.default])],e.prototype,"recommendComps",void 0),o=r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./GameConfigs":"GameConfigs","./MoreGameComponent":"MoreGameComponent"}],MoreGameStyle:[function(t,e,o){"use strict";cc._RF.push(e,"583d3QfyxhKU6/QqcEwAh29","MoreGameStyle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./MoreGameComponent"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icons=[],e.buttons=[],e.labels=[],e.datas=[],e}return i(e,t),Object.defineProperty(e.prototype,"count",{get:function(){return this.icons.length},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){for(var t=0;t<this.buttons.length;t++){var e=this.buttons[t],o=new cc.Component.EventHandler;o.target=this.node,o.component="MoreGameStyle",o.handler="onClick",o.customEventData=t+"",e.clickEvents.push(o),this.labels[t].node.active=!1,this.icons[t].node.active=!1,e.interactable=!1}},e.prototype.onClick=function(t,e){var o=Number(e),n=this.list[o];this.manager.clickGame(n.gameConfig)},e.prototype.onShow=function(){for(var t=this.list,e=function(){var e=t[n],i=o.icons[n];e&&(o.labels[n].string=e.gameConfig.title,o.labels[n].node.active=!0,i.node.active=!0,o.buttons[n].interactable=!0,o.manager.getSpriteFrame(e.gameConfig.icon).then(function(t){i.spriteFrame=t}))},o=this,n=0;n<this.icons.length;n++)e()},r([l([cc.Sprite])],e.prototype,"icons",void 0),r([l([cc.Button])],e.prototype,"buttons",void 0),r([l([cc.Label])],e.prototype,"labels",void 0),r([s],e)}(a.default);o.default=u,cc._RF.pop()},{"./MoreGameComponent":"MoreGameComponent"}],MoveBehavior:[function(t,e,o){"use strict";cc._RF.push(e,"b7a23c0AXJFVYJ9QZjAWWjE","MoveBehavior");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("./BirdManager"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu;(function(t){t[t.InCamera=0]="InCamera",t[t.NearPlayer=1]="NearPlayer"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activateType=a.InCamera,e.nearPlayerDist=a.InCamera,e.delayActivate=-1,e.move=cc.v2(0,500),e.moveSpeed=100,e.once=!0,e.rigidBodies=[],e}return i(e,t),e.prototype.onLoad=function(){this.rigidBodies=this.getComponentsInChildren(cc.RigidBody),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onChangePos,this)},e.prototype.start=function(){},e.prototype.update=function(){if(this.once&&this.activateType==a.NearPlayer){var t=this.node.getBoundingBoxToWorld().center.sub(c.bm.bb.node.getBoundingBoxToWorld().center).mag();this.nearPlayerDist<t&&this.startTrigger()}this.once&&this.activateType==a.InCamera&&cc.Camera.main.canSee(this.node)&&this.startTrigger()},e.prototype.startTrigger=function(){this.delayActivate>0?this.scheduleOnce(this.trigger,this.delayActivate):this.trigger()},e.prototype.onChangePos=function(){this.rigidBodies.forEach(function(t){return t.syncPosition(!1)})},e.prototype.trigger=function(){this.once=!1;var t=this.move.mag()/this.moveSpeed;this.node.runAction(cc.moveBy(t,this.move))},r([u({displayName:"\u89e6\u53d1\u65f6\u673a",type:cc.Enum(a)})],e.prototype,"activateType",void 0),r([u({displayName:"\u8ddd\u79bb\u73a9\u5bb6\u591a\u8fdc\u89e6\u53d1",visible:function(){return this.activateType==a.NearPlayer}})],e.prototype,"nearPlayerDist",void 0),r([u({displayName:"\u5ef6\u8fdf\u89e6\u53d1"})],e.prototype,"delayActivate",void 0),r([u(cc.Vec2)],e.prototype,"move",void 0),r([u({displayName:"\u4f4d\u79fb\u901f\u5ea6"})],e.prototype,"moveSpeed",void 0),r([l,p("game/MoveBehavior")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./BirdManager":"BirdManager"}],MsgBox:[function(t,e,o){"use strict";cc._RF.push(e,"80286DRY89Mi4zsQlde8jnL","MsgBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/View"),c=t("../../../framework/plugin_boosts/utils/Common"),s=cc._decorator,l=s.ccclass,u=s.property,p=(s.requireComponent,s.playOnFocus,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_ok=null,e.btn_cancel=null,e.defaultStrings={},e.text=[],e.messageBoxCallback=null,e.label_ok=null,e.label_cancel=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){c.default.newButton(this.btn_ok,"MsgBox","on_btn_ok_clicked",this.node),c.default.newButton(this.btn_cancel,"MsgBox","on_btn_cancel_clicked",this.node)},e.prototype.onHidden=function(){},e.prototype.onShown=function(t){var e=this;this.messageBoxCallback=t.callback,Object.keys(t.text).forEach(function(o){var n,i=c.default.find(o,e.node,cc.Label),r=e.defaultStrings[o];null==r&&(r=i.string,e.defaultStrings[o]=r),i?i.string=(n=cc.js).formatStr.apply(n,[r].concat(t.text[o])):console.warn("label not found",o)})},e.prototype.start=function(){},e.prototype.on_btn_ok_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,o.OK),this.getComponent(a.default).hide()},e.prototype.on_btn_cancel_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,o.CANCEL),this.getComponent(a.default).hide()},e.OK=1,e.CANCEL=0,r([u(cc.Node)],e.prototype,"btn_ok",void 0),r([u(cc.Node)],e.prototype,"btn_cancel",void 0),o=r([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/utils/Common":"Common"}],NativeConfig:[function(t,e,o){"use strict";cc._RF.push(e,"57c1fzN2ihL5o5AgDzZ6A/W","NativeConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.NativeConfig=void 0,o.NativeConfig={iosCfg:{appId:"1550954087",shareUrl:"https://itunes.apple.com/app/id1550954087",ads:{appId:"5139858",bannerId:"945795774",interstitialId:"945795778",rewardId:"945795783"}},androidCfg:{flavors:{TapTap:{packageName:"cn.herofight.bubbletea",url:"",ads:{appId:"5140151",bannerId:"945799610",interstitialId:"945799611",rewardId:"945799612"}},XiaoMi:{packageName:"cn.herofight.bubbletea.mi",ads:{appId:"2882303761519008198",bannerId:"b3a3f596f79f603aff0b44ffb2956774",interstitialId:"c3630a30405a401d4555b838b3fcbe8b",rewardId:"b466ec93fdafbfa8daa94a1ceeda5e5f"}},M4399:{packageName:"cn.herofight.bubbletea.m4399",ads:{appId:"3835",bannerId:"16478",interstitialId:"16481",rewardId:"16479"}},Vivo:{packageName:"com.herofight.stackybird.vivo",ads:{bannerId:"f2177e9d92f14e7ea20fda4494c4541f",rewardId:"342a4748a3d14898bcbc9ec0405fce69",feedId:"83a2b9121e02449da46987cb9384e1ee",interstitialId:"f73c0b8f9242475ea44b49d23fb22697"}},Oppo:{packageName:"cn.herofight.stackybird.apk.nearme.gamecenter",ads:{nativeBannerId:"379320",feedId:"379318",rewardId:"379323",interstitialId:"379325"},shareURL:"http://appstore.vivo.com.cn/appinfo/downloadApkFile?id=3064164"}}}},cc._RF.pop()},{}],NativeConstants:[function(t,e,o){"use strict";cc._RF.push(e,"84776lozKFKZbHwFKgKjcW/","NativeConstants"),Object.defineProperty(o,"__esModule",{value:!0}),o.NativeConstants=void 0,o.NativeConstants={GAME_JNI_PATH:"org/cocos2dx/javascript/GameJni",FLAVORS_NAME:{TapTap:"TapTap",XiaoMi:"XiaoMi",M4399:"M4399",Vivo:"Vivo",HuoXing:"HuoXing",Oppo:"Oppo"}},cc._RF.pop()},{}],NativeMgr:[function(t,e,o){"use strict";cc._RF.push(e,"541d85HIsNOU5az4Na64Jcl","NativeMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ads/TTNativeAds"),i=t("./NativeConfig"),r=t("./NativeConstants"),a=function(){function t(){if(cc.sys.platform===cc.sys.ANDROID){this.mFlavor=jsb.reflection.callStaticMethod(r.NativeConstants.GAME_JNI_PATH,"getFlavor","()Ljava/lang/String;");var e=jsb.reflection.callStaticMethod(r.NativeConstants.GAME_JNI_PATH,"getPackageName","()Ljava/lang/String;");if(this.mFlavor!==t.FLAVORS_NAME.HuoXing&&e!==i.NativeConfig.androidCfg.flavors[this.mFlavor].packageName)for(;;);this.mPackageName=e,console.log("NativeMgr Android Flavor is ",this.mFlavor,e,JSON.stringify(t.FLAVORS_NAME))}}return t.prototype.getPackageName=function(){return this.mPackageName},t.prototype.getAds=function(){return this.mAds},t.prototype.getFlavor=function(){return this.mFlavor},t.prototype.initAds=function(){if(cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD)(t=i.NativeConfig.iosCfg.ads)&&(this.mAds=new n.TTNativeAds(t));else if(cc.sys.platform===cc.sys.ANDROID){var t;(t=i.NativeConfig.androidCfg.flavors[this.mFlavor].ads)&&(this.mAds=new n.TTNativeAds(t))}},t.prototype.vibrate=function(t){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("ToolsController","vibrateJSB:",0):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(r.NativeConstants.GAME_JNI_PATH,"vibrate","(I)V",t)},t.prototype.vibrateShort=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("ToolsController","vibrateJSB:",0):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(r.NativeConstants.GAME_JNI_PATH,"vibrate","(I)V",30)},t.prototype.vibrateLong=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("ToolsController","vibrateJSB:",2):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(r.NativeConstants.GAME_JNI_PATH,"vibrate","(I)V",400)},t.prototype.rate=function(){cc.sys.platform!==cc.sys.IPHONE&&cc.sys.platform!==cc.sys.IPAD||jsb.reflection.callStaticMethod("ToolsController","rateJSB:",i.NativeConfig.iosCfg.appId)},t.prototype.share=function(t){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("ToolsController","shareJSB:andTitle:andPic:",i.NativeConfig.iosCfg.shareUrl,t,""):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(r.NativeConstants.GAME_JNI_PATH,"shareLink","(Ljava/lang/String;Ljava/lang/String;)V",t,i.NativeConfig.androidCfg.flavors[this.mFlavor].shareURL)},t.prototype.jumpMoreGame=function(){cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(r.NativeConstants.GAME_JNI_PATH,"jumpMoreGame","()V")},t.FLAVORS_NAME=r.NativeConstants.FLAVORS_NAME,t}();o.default=a,cc._RF.pop()},{"./NativeConfig":"NativeConfig","./NativeConstants":"NativeConstants","./ads/TTNativeAds":"TTNativeAds"}],Net:[function(t,e,o){"use strict";cc._RF.push(e,"9e139lB+RRCNpxXRSqgoURG","Net"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._timeout=8e3,this.headers={}}return t.prototype.setTimeout=function(t){this._timeout=t},t.prototype.httpRequest=function(e,o,n){var i=this;return console.log("["+o+"]: "+e),new Promise(function(r){var a=!1,c=setTimeout(function(){a=!0,s.abort(),r(t.Code.Timeout)},i._timeout),s=cc.loader.getXMLHttpRequest();s.onreadystatechange=function(){if(4===s.readyState)if(s.status>=200&&s.status<300){var t=s.responseText;if(a)return;clearTimeout(c),r(t)}else r()},s.open(o,e,!0),cc.sys.isNative&&s.setRequestHeader("Accept-Encoding","gzip,deflate"),Object.keys(i.headers).forEach(function(t){var e=i.headers[t];s.setRequestHeader(t,e)}),s.timeout=i._timeout,"POST"==o||"PUT"==o?(s.setRequestHeader("Content-Type","application/json"),s.send(n)):s.send()})},t.prototype.setHeader=function(t,e){this.headers[t]=e},t.prototype.httpGet=function(t,e){return e&&-1==t.indexOf("?")&&Object.keys(e).length>0&&(t+="?"),e&&(t+=Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")),this.httpRequest(t,"GET")},t.prototype.httpPost=function(t,e){return this.httpRequest(t,"POST",e)},t.prototype.httpPut=function(t,e){return this.httpRequest(t,"PUT",e)},t.Code={Error:"__error__",Success:1,Timeout:"__timeout__"},t}();o.default=n,o.net=new n,cc._RF.pop()},{}],NoobGuider:[function(t,e,o){"use strict";cc._RF.push(e,"2c7b3cSpc9EebJKnWdgVGwX","NoobGuider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../misc/Signal"),l=t("../utils/EventManager"),u=t("../ui/ViewManager"),p=cc._decorator,f=p.ccclass,d=p.property;o.Guider=null;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastClickedTime=0,e.wholeHotRect=null,e.hotRect=null,e.highlight=null,e.highlight_border=null,e.finger=null,e.glow=null,e.motionStreak=null,e.msgNode=null,e.msgLabel=null,e.clickSignal=new s.default,e.clickBackground=new s.default,e.doubleClickSignal=new s.default,e.background=null,e.maskStencilSp1=null,e.msgTitleLabel=null,e.msgButtonLabel=null,e.msgButton=null,e.node_anyKey=null,e.msgButtonCallback=null,e.maskComp=null,e.msgTitle="",e.validRect=null,e}return i(e,t),e.prototype.onLoad=function(){this.maskComp=this.highlight.getComponent(cc.Mask),this.hotRect.on(cc.Node.EventType.TOUCH_START,this.onPointTouchBegan,this),this.hotRect.on(cc.Node.EventType.TOUCH_END,this.onPointClick,this),this.background.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.background.on(cc.Node.EventType.TOUCH_END,this.clickBackground.fire,this.clickBackground),this.hidePointer(),this.hideMessage(),this.motionStreak=this.finger.getComponentInChildren(cc.MotionStreak)},e.prototype.onDestroy=function(){this.hotRect.off(cc.Node.EventType.TOUCH_END,this.onPointClick,this),this.background.off(cc.Node.EventType.TOUCH_END,this.clickBackground.fire,this.clickBackground),this.hotRect.off(cc.Node.EventType.TOUCH_START,this.onPointTouchBegan,this),this.background.off(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this)},e.prototype.onShown=function(){},e.prototype.onPointTouchBegan=function(){return!1},e.prototype.onTouchBegan=function(t){if(!this.validRect)return!1;var e=t.currentTouch.getLocation;return!this.validRect.contains(e)},e.prototype.hideMask=function(){this.background.active=!1},e.prototype.showMask=function(){this.background.active=!0},e.prototype.hidePointer=function(){this.wholeHotRect.x=-1e3,this.background.getComponent(cc.Widget).updateAlignment(),this.motionStreak&&this.motionStreak.reset()},e.prototype.hideRect=function(){this.highlight_border.node.active=!1},e.prototype.showRect=function(t,e){"string"==typeof t&&(t=this.findUINode(t).getBoundingBoxToWorld());var o=this.node.convertToNodeSpaceAR(t.center);this.highlight.width=t.width,this.highlight.height=t.height,this.highlight_border.node.width=t.width+2,this.highlight_border.node.height=t.height+2,this.wholeHotRect.active=!0,this.wholeHotRect.x=o.x,this.wholeHotRect.y=o.y,this.validRect=t,this.highlight_border.node.active=!0,e?(this.hotRect.width=t.width,this.hotRect.height=t.height):(this.hotRect.width=0,this.hotRect.height=0),this.background.getComponent(cc.Widget).updateAlignment()},e.prototype.showFinger=function(t){void 0===t&&(t=!0),this.finger.position=cc.Vec2.ZERO,this.motionStreak&&this.motionStreak.reset(),this.finger.active=!0,t?(this.finger.getComponent(cc.Animation).play("hand_click"),this.glow.active=!0):(this.finger.getComponent(cc.Animation).stop("hand_click"),this.glow.active=!1)},e.prototype.showPointer=function(t,e){if(void 0===t&&(t=cc.Vec2.ZERO),void 0===e&&(e=!0),t instanceof cc.Node){var o=t.getBoundingBoxToWorld();this.showRect(o,e),t.getComponent(cc.Sprite)?this.maskComp.spriteFrame=t.getComponent(cc.Sprite).spriteFrame:this.maskStencilSp1&&(this.maskComp.spriteFrame=this.maskStencilSp1),this.showFinger()}this.showMask()},e.prototype.hideMessage=function(){this.msgNode.active=!1},e.prototype.setMessageTitle=function(t){this.msgTitle=t},e.prototype.showMessage=function(t,e,o,n,i){t=t.replace(/\/r?\/n/g,"\n"),this.msgNode.x=e||0,this.msgNode.y=o||0,this.msgNode.width=n,this.msgNode.height=i,this.msgNode.active=!0,this.msgLabel.string=t,null==this.msgTitle||""==this.msgTitle?this.msgTitleLabel.node.active=!1:(this.msgTitleLabel.node.active=!0,this.msgTitleLabel.string=this.msgTitle),this.msgTitle="",this.msgButton.node.active=!1,this.node_anyKey.active=!1},e.prototype.showMessageButton=function(t,e){this.msgButton.node.active=!0,this.msgButtonLabel.string=t,this.msgButtonCallback=e},e.prototype.showMessageButtonEx=function(t){var e=this;return new Promise(function(o){t&&e.showMessageButton(t,function(){o()})})},e.prototype.showMessageEx=function(t,e,o,n,i,r,a,c){if(this.setMessageTitle(t),this.showMessage(e,i,r,a,c),o)return this.showMessageButtonEx(o,n)},e.prototype.click_msgButton=function(){this.hideMessage(),this.msgButtonCallback&&this.msgButtonCallback()},e.prototype.onPointClick=function(){var t=Date.now();t-this._lastClickedTime<300?this.doubleClickSignal.fire():this.clickSignal.fire(),this._lastClickedTime=t},e.prototype.waitClick=function(t,e,o){return void 0===e&&(e=!0),void 0===o&&(o=!0),a(this,void 0,void 0,function(){var n=this;return c(this,function(){return this.showPointer(t),o||this.hideFinger(),[2,new Promise(function(o,i){n.clickSignal.on(function(){if(e){var r=t.getComponent(cc.Button)||t.getComponentInChildren(cc.Button);try{r?cc.Component.EventHandler.emitEvents(r.clickEvents,{target:r.node}):t.emit(cc.Node.EventType.TOUCH_END,{target:t})}catch(a){i(a)}n.clickSignal.clear()}o()})})]})})},e.prototype.waitDoubleClick=function(t){return a(this,void 0,void 0,function(){var e=this;return c(this,function(){return this.showPointer(t),[2,new Promise(function(o){e.doubleClickSignal.on(function(){t.getComponents(cc.Component).forEach(function(t){var e=t.onDoubleClick;e&&e.call(t)}),o()})})]})})},e.prototype.waitAnyKey=function(t){return a(this,void 0,void 0,function(){var e=this;return c(this,function(){return this.node_anyKey.active=!0,[2,new Promise(function(o){e.clickBackground.on(function(){e.clickBackground.clear(),o()}),t&&e.waitClick(t,!1,!1).then(function(){o()})})]})})},e.prototype.moveFinger=function(t,e,o){var n=this;void 0===o&&(o=cc.macro.REPEAT_FOREVER),this.showFinger(!1),t=this.hotRect.convertToNodeSpaceAR(t),e=this.hotRect.convertToNodeSpaceAR(e),t.subSelf(cc.v2(0,50)),e.subSelf(cc.v2(0,50));var i=cc.callFunc(function(){n.finger.position=t,n.motionStreak&&n.motionStreak.reset()}),r=cc.moveTo(1,e).easing(cc.easeSineInOut()),a=cc.delayTime(1),c=cc.sequence(i,r,a).repeat(o);c.setTag(1e3),this.finger.runAction(c)},e.prototype.startDrag=function(t,e,o){void 0===o&&(o=!0);var n=this.findUINode(t),i=this.findUINode(e),r=n.getBoundingBoxToWorld(),a=i.getBoundingBoxToWorld();o?(this.showMask(),this.showRect(r.union(cc.rect(),a))):(this.hideMask(),this.hideRect()),this.moveFinger(r.center,a.center)},e.prototype.stopDrag=function(){this.finger.stopActionByTag(1e3),this.hidePointer()},e.prototype.findUINode=function(t,e){return"UI"==e?cc.find("Canvas/ViewManager/"+t):cc.find(t)},e.prototype.waitClickEx=function(t,e,o,n,i,r){return void 0===n&&(n=0),void 0===i&&(i=0),a(this,void 0,void 0,function(){var a;return c(this,function(c){switch(c.label){case 0:return[4,l.event.sleep(.1)];case 1:if(c.sent(),t instanceof cc.Node)a=t;else{if(null==t)return[2,console.error("waitClickEx:"+t+" null ")];if(null==(a=this.findUINode(t)))return[2,console.error(t+" not found ")]}return e&&this.setMessageTitle(e),o&&this.showMessage(o,n,i),this.showMask(),r?(this.showRect(a.getBoundingBoxToWorld()),this.hideFinger(),[4,this.waitAnyKey(a)]):[3,3];case 2:return c.sent(),[3,5];case 3:return[4,this.waitClick(a).catch(function(t){return console.error(t)})];case 4:c.sent(),c.label=5;case 5:return this.hideMask(),this.hidePointer(),this.hideMessage(),[2]}})})},e.prototype.hideFinger=function(){this.finger.active=!1},e.prototype.hideAll=function(){this.hideMask(),this.hideRect(),this.hideMessage(),this.hideFinger()},e.prototype.waitAnyInput=function(t,e,o,n){return a(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return this.showMessage(t,e,o,n),this.hidePointer(),this.hideMask(),[4,this.waitAnyKey()];case 1:return i.sent(),this.hideMessage(),[4,l.event.sleep(.3)];case 2:return i.sent(),[2]}})})},e.prototype.waitOpen=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];return a(this,void 0,void 0,function(){var n,i,r;return c(this,function(a){switch(a.label){case 0:return null!=(r=u.default.instance.view("UI/"+t))?[3,2]:(e&&(n=u.default.instance).show.apply(n,["UI/"+t].concat(o)),[4,l.event.wait(t+".onShown.After")]);case 1:return r=a.sent()[0],[3,4];case 2:return(i=u.default.instance).show.apply(i,[r].concat(o)),[4,l.event.wait(t+".onShown.After")];case 3:r=a.sent()[0],a.label=4;case 4:return[2,r]}})})},e.prototype.waitClickUI=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return this.waitClickEx.apply(this,["Canvas/ViewManager/"+t].concat(e))},e.prototype.waitClickLayoutUI=function(t,e,o){var n=cc.find("Canvas/ViewManager/"+t);if(n){var i=cc.find(o,n.children[e]);if(i)return this.waitClickEx(i)}},r([d(cc.Node)],e.prototype,"wholeHotRect",void 0),r([d(cc.Node)],e.prototype,"hotRect",void 0),r([d(cc.Node)],e.prototype,"highlight",void 0),r([d(cc.Sprite)],e.prototype,"highlight_border",void 0),r([d(cc.Node)],e.prototype,"finger",void 0),r([d(cc.Node)],e.prototype,"glow",void 0),r([d(cc.Node)],e.prototype,"msgNode",void 0),r([d(cc.Label)],e.prototype,"msgLabel",void 0),r([d(cc.Node)],e.prototype,"background",void 0),r([d(cc.SpriteFrame)],e.prototype,"maskStencilSp1",void 0),r([d(cc.Label)],e.prototype,"msgTitleLabel",void 0),r([d(cc.Label)],e.prototype,"msgButtonLabel",void 0),r([d(cc.Button)],e.prototype,"msgButton",void 0),r([d(cc.Node)],e.prototype,"node_anyKey",void 0),r([f],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../misc/Signal":"Signal","../ui/ViewManager":"ViewManager","../utils/EventManager":"EventManager"}],NumTrigger:[function(t,e,o){"use strict";cc._RF.push(e,"54a31TIZXNNEZ83Ojhn4FS4","NumTrigger");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,r=cc._decorator,a=r.ccclass,c=(r.property,function(t,e,o){this.min=Number.MIN_VALUE,this.max=Number.MAX_VALUE,this.id=0,this.triggered=!1,this.min=t,this.max=e,this.callback=o});(function(t){t[t.ONCE=1]="ONCE",t[t.UNLIMITED=-1]="UNLIMITED"})(i=o.TriggerTimes||(o.TriggerTimes={}));var s=function(){function t(){this.points=[],this.triggerType=i.ONCE}return t.prototype.add=function(t,e,o){var n=new c(t,e,o);this.points.push(n)},t.prototype.reset=function(){this.points.forEach(function(t){return t.triggered=!1})},t.prototype.trigger=function(t,e){return!e.triggered&&t>=e.min&&t<=e.max&&(this.triggerType==i.UNLIMITED&&this.reset(),e.triggered=!0,e.callback(),!0)},t.prototype.update=function(t){var e=this;this.points.some(function(o){return e.trigger(t,o)})},n([a],t)}();o.default=s,cc._RF.pop()},{}],OpenID:[function(t,e,o){"use strict";cc._RF.push(e,"f4923GJsuRHnZsVKPfZ4Usz","OpenID");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/ToastManager"),c=t("../../../Game/Scripts/Logic/PlayerInfo"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDoubleClick=function(){CC_WECHATGAME?wx.setClipboardData({data:c.PlayerInfo.userId,success:function(){wx.getClipboardData({success:function(t){console.log(t.data)}})}}):a.Toast.make("\u5df2\u590d\u5236")},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../Game/Scripts/Logic/PlayerInfo":"PlayerInfo","../ui/ToastManager":"ToastManager"}],PandoraPoint:[function(t,e,o){"use strict";cc._RF.push(e,"3f36aidibxFPY2TBTu8gRyi","PandoraPoint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../misc/Signal"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numberVisible=!0,e.subPoints=[],e.n=0,e.signal=new a.default,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){var t=this;this.sprite=this.getComponent(cc.Sprite),this.label=this.getComponentInChildren(cc.Label),this.label&&(this.label.node.active=this.numberVisible),this.subPoints.forEach(function(e){e.signal.add(t.onSubChanged,t)})},e.prototype.onSubChanged=function(){var t=this.subPoints.some(function(t){return t.n>0});this.setNumber(t?1:0)},e.prototype.start=function(){},e.prototype.setNumber=function(t){this.label&&(this.numberVisible&&(this.label.string=t+""),this.numberVisible&&(this.label.node.active=0!=t)),this.sprite.enabled=0!=t,this.n=t,this.signal.fire(t)},r([l],e.prototype,"numberVisible",void 0),r([l([o])],e.prototype,"subPoints",void 0),r([s,u("\u6269\u5c55UI/PandoraPoint")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../misc/Signal":"Signal"}],ParallaxNode:[function(t,e,o){"use strict";cc._RF.push(e,"8c67c9CJzFG/I8s6kxvae6r","ParallaxNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Common"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=cc.v2(1,1),e.camera=null,e.refrenceNode=null,e.refrecenOffset=cc.Vec2.ZERO,e.size=cc.winSize,e.horizontal_repeat=!0,e.vertical_repeat=!1,e.inverted=!1,e.dir=1,e}return i(e,t),e.prototype.onLoad=function(){this.camera=this.node.parent.getComponent(cc.Camera),this.dir=this.inverted?-1:1},e.prototype.start=function(){this.refrecenOffset=this.refrenceNode.position;var t=this.node.children[0];if(this.size=t.getContentSize(),this.horizontal_repeat){var e=cc.instantiate(t),o=cc.instantiate(t);e.parent=this.node,o.parent=this.node,e.x=-t.width,o.x=t.width}else this.vertical_repeat&&(e=cc.instantiate(t),o=cc.instantiate(t),e.parent=this.node,o.parent=this.node,e.y=-t.height,o.y=t.height)},e.prototype.setBackground=function(t){this.node.children.forEach(function(e){var o=e.getComponent(cc.Sprite);a.default.setDisplay(o,t)})},e.prototype.update=function(){this.horizontal_repeat&&(this.node.x=this.dir*(this.refrenceNode.x-this.refrecenOffset.x)*this.offset.x,this.node.x=this.node.x%this.size.width),this.vertical_repeat&&(this.node.y=this.dir*(this.refrenceNode.y-this.refrecenOffset.y)*this.offset.y,this.node.y=this.node.y%this.size.height)},r([l],e.prototype,"offset",void 0),r([l(cc.Node)],e.prototype,"refrenceNode",void 0),r([l],e.prototype,"horizontal_repeat",void 0),r([l],e.prototype,"vertical_repeat",void 0),r([l],e.prototype,"inverted",void 0),r([s,u("\u5176\u5b83/ParallaxNode")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../utils/Common":"Common"}],PerformanceInfo:[function(t,e,o){"use strict";cc._RF.push(e,"0e4feJcNx5AVIXZfLNr0uk3","PerformanceInfo");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(t){this.id=0,this.score="",this.score1=0,this.score2=0,this.distance="",this.distance1=0,this.distance2=0,this.percentage="";var e=csv.Performance.get(t);if(null!=e){this.id=e.Id,this.score=e.Score;var o=this.score.split(",");this.score1=parseInt(o[0]),this.score2=parseInt(o[1]),this.distance=e.Distance;var n=this.score.split(",");this.distance1=parseInt(n[0]),this.distance2=parseInt(n[1]),this.percentage=e.Percentage}}return n([r],t)}());o.default=a,cc._RF.pop()},{}],PersistNode:[function(t,e,o){"use strict";cc._RF.push(e,"64790+lm3NDSI4+1UvWKqwB","PersistNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/aldsdk/StatHelper"),c=t("../../../framework/plugin_boosts/misc/Device"),s=t("../../../framework/buff_system/BuffManager"),l=t("../../../framework/Platform"),u=t("../../../framework/plugin_boosts/ui/ViewManager"),p=t("../../../framework/weak_net_game/WeakNetGame"),f=t("../../../framework/plugin_boosts/ui/ToastManager"),d=t("../../../framework/plugin_boosts/utils/EventManager"),h=t("../Logic/PlayerInfo"),y=cc._decorator,_=y.ccclass,g=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isNewUser=!0,e}return i(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),cc.game.on(cc.game.EVENT_SHOW,this.onShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onHide,this),c.default.setAudioPath("Audio/"),csv.setParser(function(t,e){if("item"==t&&"string"==typeof e){var o=e.split(",");return{type:o[0],id:o[1],count:parseInt(o[2])}}}),d.event.on("wxsdk.BannerReady",this.onBannerReady,this),d.event.on("View.onShow",this.onViewShow,this),d.event.on("View.onHidden",this.onViewHidden,this),d.event.on("Loading.Success",this.onLoadingSuccess,this),d.event.on("gameStart",this.onGameStart,this),this.addComponent(s.default)},e.prototype.backHome=function(){console.log(123435)},e.prototype.onViewShow=function(t){t.node.name},e.prototype.onViewHidden=function(t){-1!=csv.Config.BannerAdWhiteList.indexOf(t.node.name)&&l.default.refreshBannerAd()},e.prototype.onDestroy=function(){d.event.off(this)},e.prototype.onBannerReady=function(){u.default.instance&&u.default.instance.allViews.forEach(function(t){t.node.active&&-1==csv.Config.BannerAdWhiteList.indexOf(t.node.name)&&(console.log(t.node.name+"\u672a\u5728\u767d\u540d\u5355\u91cc\uff0c\u9690\u85cfbanner"),l.default.hideBannerAd())})},e.prototype.onShow=function(t){cc.game.resume(),console.log("----------onShow"+JSON.stringify(t)),this.scene=t&&t.scene,CC_WECHATGAME&&(console.log(t.query.share_link,t.query.uuid,p.default.sharedUUIDs),"true"==t.query.share_link&&p.default.isValidShare(t.query.uuid)&&(1007==t.scene?(f.Toast.make("\u70b9\u51fb\u4e2a\u4eba\u7684\u5206\u4eab\u94fe\u63a5\u4e0d\u4f1a\u83b7\u5f97\u5956\u52b1\u54df~\u8bf7\u5206\u4eab\u5230\u5fae\u4fe1\u7fa4\u5427\uff01"),console.log("\u94fe\u63a5\u5206\u4eab\uff1a\u4e2a\u4eba")):1008!=t.scene&&1044!=t.scene||(console.log("\u94fe\u63a5\u5206\u4eab\uff1a\u7fa4",t.scene),p.default.isClaimedShare(t.query.uuid)?f.Toast.make("\u77ed\u65f6\u95f4\u5185\uff0c\u4e0d\u80fd\u70b9\u51fb\u76f8\u540c\u7fa4\u7684\u5206\u4eab\u94fe\u63a5\uff01\u8bf7\u5206\u4eab\u5230\u5176\u4ed6\u7fa4\u5427\uff01"):p.default.claimShare(t.query.uuid))))},e.prototype.onHide=function(){console.log("----------onHide"),h.PlayerInfo.save(),this.unschedule(this.time30),this.unschedule(this.time45),this.unschedule(this.time60),this.unschedule(this.time5),this.unschedule(this.time10),this.unschedule(this.time15),this.unschedule(this.time20),this.unschedule(this.time25),this.unschedule(this.time30),cc.game.pause()},e.prototype.start=function(){var t=localStorage.getItem("PlayerInfo.guide");this.isNewUser=null==t||""==t,this.isNewUser&&a.default.userAction("\u5f00\u59cb\u52a0\u8f7d")},e.prototype.onLoadingSuccess=function(){this.isNewUser&&(this.scheduleOnce(this.time30,30),this.scheduleOnce(this.time45,45),this.scheduleOnce(this.time60,60),a.default.userAction("\u52a0\u8f7d\u6210\u529f"))},e.prototype.onGameStart=function(){this.isNewUser&&(a.default.userAction("\u5f00\u59cb\u4eba\u6570"),this.scheduleOnce(this.time5,5),this.scheduleOnce(this.time10,10),this.scheduleOnce(this.time15,15),this.scheduleOnce(this.time20,20),this.scheduleOnce(this.time25,25),this.scheduleOnce(this.time30,30))},e.prototype.time5=function(){a.default.userAction("\u5f00\u59cb\u6e38\u620f\u540e5s\u672a\u9000\u51fa")},e.prototype.time10=function(){a.default.userAction("\u5f00\u59cb\u6e38\u620f\u540e10s\u672a\u9000\u51fa")},e.prototype.time15=function(){a.default.userAction("\u5f00\u59cb\u6e38\u620f\u540e15s\u672a\u9000\u51fa")},e.prototype.time20=function(){a.default.userAction("\u5f00\u59cb\u6e38\u620f\u540e20s\u672a\u9000\u51fa")},e.prototype.time25=function(){a.default.userAction("\u5f00\u59cb\u6e38\u620f\u540e25s\u672a\u9000\u51fa")},e.prototype.time30=function(){a.default.userAction("\u5f00\u59cb\u6e38\u620f\u540e30s\u672a\u9000\u51fa")},e.prototype.time45=function(){a.default.userAction("45s\u672a\u9000\u51fa")},e.prototype.time60=function(){a.default.userAction("60s\u672a\u9000\u51fa")},r([_],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/aldsdk/StatHelper":"StatHelper","../../../framework/buff_system/BuffManager":"BuffManager","../../../framework/plugin_boosts/misc/Device":"Device","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Logic/PlayerInfo":"PlayerInfo"}],Platform:[function(t,e,o){"use strict";cc._RF.push(e,"8fc52zVaq1FVrE4//XvMzeK","Platform"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("./wxsdk/sdk"),r=t("./plugin_boosts/ui/ToastManager"),a=t("./qqsdk/BKTool"),c=t("./plugin_boosts/misc/SpriteFrameCache"),s=t("./plugin_boosts/misc/Signal"),l=t("./plugin_boosts/utils/EventManager");(function(t){t[t.Hide=99]="Hide",t[t.Next=100]="Next",t[t.RankSmall=101]="RankSmall",t[t.Rank=102]="Rank"})(n||(n={}));var u=function(){function t(){}return t.getOpenID=function(){if(cc.sys.WECHAT_GAME==cc.sys.platform){var t=i.wxsdk.userInfo;return t&&t.openID?t.openID:""}return cc.sys.QQ_PLAY==cc.sys.platform?GameStatusInfo.openId:"123"},t.getNick=function(){return cc.sys.QQ_PLAY==cc.sys.platform?a.default.getNick():cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.userInfo&&i.wxsdk.userInfo.nickName||"\u81ea\u5df2":"\u73a9\u5bb6\u81ea\u5df2"},t.getHead=function(){if(cc.sys.QQ_PLAY==cc.sys.platform)return a.default.getHead();if(cc.sys.WECHAT_GAME==cc.sys.platform){var t=i.wxsdk.userInfo;return t&&t.avatarUrl?t.avatarUrl:"https://tank.wdfunny.com/speed_logo/2.jpg"}return"https://tank.wdfunny.com/speed_logo/1.jpg"},t.loadHeadQQ=function(t){var e="GameSandBox://_head/"+GameStatusInfo.openId+".jpg",o=BK.FileUtil.isFileExist(e);cc.log(e+" is exit :"+o),o?cc.loader.load(e,function(e,o){null==e&&(t.spriteFrame=new cc.SpriteFrame(o))}):BK.MQQ.Account.getHeadEx(GameStatusInfo.openId,function(e,o){cc.log("openId:"+e+" imgPath:"+o);var n=new Image;n.onload=function(){var e=new cc.Texture2D;e.initWithElement(n),e.handleLoadedTexture(),t.spriteFrame=new cc.SpriteFrame(e)},n.src=o})},t.loadSelfHead=function(e){cc.sys.QQ_PLAY==cc.sys.platform?this.loadHeadQQ(e):c.default.instance.getSpriteFrame(t.getHead()).then(function(t){return e.spriteFrame=t})},t.exit=function(){cc.sys.WECHAT_GAME==cc.sys.platform?(wx.offShow(t.onEnterForeground),wx.offHide(t.onEnterBackground)):(cc.sys.QQ_PLAY,cc.sys.platform)},t.login=function(t){cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.login(t):cc.sys.QQ_PLAY==cc.sys.platform&&a.default.login()},t.startAuth=function(){if(cc.sys.WECHAT_GAME==cc.sys.platform)return i.wxsdk.startAuth();return Promise.resolve({avatarUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1030399321,1493970029&fm=27&gp=0.jpg",city:"WuHan",gender:1,nickName:"aliwangzai"})},t.checkAuth=function(){if(cc.sys.WECHAT_GAME==cc.sys.platform)return i.wxsdk.checkAuth();return Promise.resolve({avatarUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1030399321,1493970029&fm=27&gp=0.jpg",city:"WuHan",gender:1,nickName:"aliwangzai"})},t.fix_wechat_subContext=function(t,e){t.node.active=!1,e.scheduleOnce(function(){t.node.active=!0},.1)},t.initShare=function(e,o){e&&e.queryObjects&&(e.queryObjects.userId=o),this.defaultShareConfig=e,this.userId=o,this.isAndroid="Android"==cc.sys.os,console.log("================= os",cc.sys.os),this.isIOS="iOS"==cc.sys.os,cc.sys.WECHAT_GAME==cc.sys.platform?(i.wxsdk.showShareMenu(e),wx.onShow(t.onEnterForeground),wx.onHide(t.onEnterBackground)):cc.sys.QQ_PLAY==cc.sys.platform&&(BK.onEnterForeground(t.onEnterForeground),BK.onEnterBackground(t.onEnterBackground)),this.initUpdate()},t.getGameID=function(){return cc.sys.QQ_PLAY==cc.sys.platform&&GameStatusInfo.gameId,"speed_wanyiwan"},t.getLaunchOptions=function(){return cc.sys.WECHAT_GAME==cc.sys.platform?wx.getLaunchOptionsSync():{}},t.getCity=function(){return""},t.share=function(t,e){this.doShare(this.defaultShareConfig,t,e)},t.setShareFailTipEnable=function(t){this._shareTipEnabled=t},t.doShareWithParams=function(e,o,n,c,s){var l=this;if(void 0===s&&(s=3e3),o=o||this.defaultShareConfig,console.log("######\u5f00\u59cb\u5206\u4eab"),cc.sys.WECHAT_GAME==cc.sys.platform){(e=e||{}).userId=this.userId,i.wxsdk.openShare(o,e);var u=(new Date).getTime();t.onEnterForegroundSignal.on(function(){t.onEnterForegroundSignal.clear(),(new Date).getTime()-u>s?(l.shareCount=0,setTimeout(function(){n&&n.call(c)},500)):r.Toast.make("\u5206\u4eab\u5931\u8d25,\u8bf7\u5c1d\u8bd5\u6362\u5176\u5b83\u7fa4\u5206\u4eab")})}else cc.sys.QQ_PLAY==cc.sys.platform?a.default.share(function(t){"success"==t&&n&&n.call(c)}):n&&n.call(c)},t.doShare=function(t,e,o,n){void 0===n&&(n=3e3),this.doShareWithParams(null,t,e,o,n)},t.watch_video=function(e,o,n){if(console.log("######\u5f00\u59cb\u770b\u89c6\u9891"),cc.sys.WECHAT_GAME==cc.sys.platform)i.wxsdk.loadVideoAd(function(i,a){"load"==i?t._refreshEnabled=!1:"show"==i?cc.audioEngine.pauseMusic():"close"==i?(t._refreshEnabled=!0,cc.audioEngine.pauseMusic(),cc.audioEngine.resumeMusic(),a?e&&e.call(o):(r.Toast.make("\u5fc5\u987b\u770b\u5b8c\u89c6\u9891,\u624d\u80fd\u83b7\u53d6\u5956\u52b1"),n&&n.call(o))):"error"==i&&r.Toast.make("\u6ca1\u6709\u89c6\u9891,\u8bf7\u7a0d\u540e\u518d\u8bd5!")});else if(cc.sys.QQ_PLAY==cc.sys.platform){cc.audioEngine.pauseMusic();var c=!1;a.default.loadVideoAd(function(t,n){"load"==t?n.show():"finish"==t?c=!0:"close"==t&&(c?e&&e.call(o):r.Toast.make("\u5fc5\u987b\u770b\u5b8c\u89c6\u9891,\u624d\u80fd\u83b7\u53d6\u5956\u52b1"))})}else cc.sys.isNative?window.native.getAds().showRewardVideo(function(t){t&&e&&e.call(o)}):e&&e.call(o)},t.showFeedAd=function(t){cc.sys.isNative&&window.native.getAds().showFeedAd(t)},t.hideFeedAd=function(){cc.sys.isNative&&window.native.getAds().hideFeedAd()},t.showInterstitial=function(t){console.log("####\u663e\u793a\u63d2\u5c4f\u5e7f\u544a"),CC_WECHATGAME&&i.wxsdk.showInterstitial(t)},t.showGamePortal=function(t){var e=null;console.log("\u521b\u5efa\u63a8\u8350\u4f4d\u5b9e\u4f8b-----"),wx.createGamePortal?e=wx.createGamePortal({adUnitId:"PBgAAFyauPDghaOU"}):(console.error("\u4e0d\u652f\u6301wx.createGamePortal"),t&&t(0)),e&&e.load().then(function(){e.show()}).catch(function(e){console.error("createGamePortal:"+e),t&&t(1,e)})},t.showBannerAd=function(t){console.log("######\u663e\u793aBanner\u5e7f\u544a"),cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.showBannerAd(t):cc.sys.QQ_PLAY==cc.sys.platform?a.default.showBannerAd():cc.sys.isNative&&window.native.getAds().showBanner()},t.isBannerShow=function(){if(CC_WECHATGAME)return i.wxsdk.isBannerShow()},t.hideBannerAd=function(){console.log("######\u9690\u85cfBanner\u5e7f\u544a"),cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.hideBannerAd():cc.sys.QQ_PLAY==cc.sys.platform?a.default.hideBannerAd():cc.sys.isNative&&window.native.getAds().removeBanner()},t.refreshBannerAd=function(){console.log("\u5237\u65b0 banner "),CC_WECHATGAME&&i.wxsdk.loadBannerAd()},t.reloadBannerAd=function(t,e){void 0===t&&(t=1),CC_WECHATGAME&&(t?(i.wxsdk.hideBannerAd(),i.wxsdk.loadBannerAd(function(t){"load"==t?i.wxsdk.showBannerAd():"error"==t&&e&&e()})):i.wxsdk.showBannerAd())},t.initBannerAd=function(e){void 0===e&&(e=1),0!=e&&(cc.sys.QQ_PLAY==cc.sys.platform?setInterval(function(){console.log("######\u52a0\u8f7dQQ Banner\u5e7f\u544a"),a.default.hideBannerAd(),a.default.loadBannerAd(function(t){"load"==t&&a.default.showBannerAd()})},3e4):cc.sys.WECHAT_GAME==cc.sys.platform&&setInterval(function(){t.bannnerRefreshEnabled&&t._refreshEnabled&&(console.log("######\u52a0\u8f7dWX Banner\u5e7f\u544a"),i.wxsdk.hideBannerAd(),i.wxsdk.loadBannerAd(function(t){"load"==t&&i.wxsdk.showBannerAd()}))},4e4))},t.jumpTo=function(){},t.showRankDialog=function(){console.log("[Platform]#showRankDialog"),r.Toast.make("#[Platform]#showRankDialog")},t.onEnterForeground=function(e){console.log("=====================onEnterForeground====================="),cc.sys.platform==cc.sys.QQ_PLAY&&cc.audioEngine.resumeMusic(),t.onEnterForegroundSignal.fire(e),l.event.emit("onEnterForeground")},t.onEnterBackground=function(){l.event.emit("onEnterBackground")},t.onGameExit=function(){},t.showSmallRank=function(t,e){i.wxsdk.postMessage(n.RankSmall,{rankName:t,rankType:e})},t.showRank=function(t,e){i.wxsdk.postMessage(n.Rank,{rankName:t,rankType:e})},t.hideRank=function(){i.wxsdk.postMessage(n.Hide)},t.getRankList=function(t,e){if(console.log("[Platform]#\u83b7\u53d6\u6392\u884c\u699c\u6570\u636e"),cc.sys.platform==cc.sys.QQ_PLAY)return a.default.getRankList(function(o,n){t&&t.call(e,o,n)});cc.sys.platform,cc.sys.WECHAT_GAME},t.uploadScore=function(t,e){if(console.log("[Platform]#\u4e0a\u4f20\u5206\u6570"),cc.sys.platform==cc.sys.QQ_PLAY)a.default.uploadScore(t);else if(cc.sys.WECHAT_GAME==cc.sys.platform){var o=JSON.stringify(e);i.wxsdk.uploadScore(t,o)}},t.uploadScores=function(t){if(cc.sys.platform!=cc.sys.QQ_PLAY)return cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.uploadScores(t):Promise.resolve({});console.warn("not suppported yet ")},Object.defineProperty(t,"launch_options",{get:function(){return CC_WECHATGAME?(null==this._launch_options&&(this._launch_options=wx.getLaunchOptionsSync()),this._launch_options):null},enumerable:!1,configurable:!0}),t.matchPath=function(t){var e=this;return null!=this.launch_options&&(t+"").split(/[,\s]+/).some(function(t){var o=t.split(/[\?&@\*]/);return(o=o.filter(function(t){return""!=t})).every(function(t){var o=t.split("="),n=o[0],i=o[1],r=e.launch_options.query[n];return(null!=r||null!=i)&&r==i})})},t.loadSubPackage=function(t,e){return CC_WECHATGAME?new Promise(function(o,n){wx.loadSubpackage({name:t,success:function(){o()},fail:function(){n()}}).onProgressUpdate(function(t){e&&e(t.progress,t.totalBytesWritten,t.totalBytesExpectedToWrite)})}):new Promise(function(t){return setTimeout(t,100)})},t.initUpdate=function(){if(CC_WECHATGAME){var t=wx.getUpdateManager();t.onCheckForUpdate(function(t){console.log(t.hasUpdate)}),t.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(e){e.confirm&&t.applyUpdate()}})}),t.onUpdateFailed(function(){})}},t.bannnerRefreshEnabled=!0,t._refreshEnabled=!1,t.onEnterForegroundSignal=new s.default,t.isAndroid=!1,t.isIOS=!1,t.configGetSignal=new s.default,t.defaultShareConfig=null,t.userId="0",t._shareTipEnabled=!0,t.shareCount=0,t}();o.default=u,cc._RF.pop()},{"./plugin_boosts/misc/Signal":"Signal","./plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","./plugin_boosts/ui/ToastManager":"ToastManager","./plugin_boosts/utils/EventManager":"EventManager","./qqsdk/BKTool":"BKTool","./wxsdk/sdk":"sdk"}],PlayController:[function(t,e,o){"use strict";cc._RF.push(e,"9bf5dPxIrdPVoVjN3LdZ8ca","PlayController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../misc/Signal"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isTouching=!1,e.canHolding=!1,e.holdingSigal=new a.default,e.pressSignal=new a.default,e.releaseSignal=new a.default,e.pos=cc.Vec2.ZERO,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onEnd,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onBegan,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onEnd,this)},e.prototype.start=function(){},e.prototype.onBegan=function(t){this.isTouching=!0,this.pressSignal.fire();var e=t.touch.getLocation();e=this.node.convertToNodeSpaceAR(e),this.pos=e},e.prototype.onMove=function(t){var e=t.touch.getLocation();e=this.node.convertToNodeSpaceAR(e),this.pos=e},e.prototype.onEnd=function(){this.isTouching=!1,this.releaseSignal.fire()},e.prototype.update=function(){this.canHolding&&this.isTouching&&this.holdingSigal.fire(this.pos)},r([l],e.prototype,"canHolding",void 0),r([l(cc.Vec2)],e.prototype,"pos",void 0),r([s,u("\u5176\u5b83/PlayController")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../misc/Signal":"Signal"}],PlayerInfo:[function(t,e,o){"use strict";cc._RF.push(e,"4a2adH0RghJYriq5atCEVcs","PlayerInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/misc/DataCenter"),c=t("../../../framework/Platform"),s=t("../Common/UserInfo"),l=t("../../../framework/weak_net_game/WeakNetGame"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinList={1:!0,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1,16:!1,17:!1,18:!1,19:!1,20:!1,21:!1,22:!1,23:!1,24:!1,25:!1,26:!1,27:!1,28:!1,29:!1},e.birdID=1,e.eggID=1,e.tmpscore=0,e.userId="",e.createTime=0,e.coin=0,e.best=0,e.sel_char=0,e.ADSkinCount=0,e.level=1,e.freeCoinCount=0,e.freeCoinTime=0,e.timestamp=0,e.checkInNum=1,e.loginTime=1,e.firstlogin=!1,e.playinglevel=1,e.distance=0,e.bestdistance=0,e.perfect=0,e.buff_power=0,e.lastStates=[0,0,0],e.isRevive=!1,e.perfectcount=0,e.isNew=!1,e.isFirst=!0,e.lv_coin=0,e}return i(e,t),e.prototype.initData=function(){this.isRevive=!1,this.perfectcount=0,this.distance=0,this.lv_coin=0},e.prototype.upRank=function(){var t=[{key:"rank",value:JSON.stringify({level:o.PlayerInfo.level,distance:o.PlayerInfo.bestdistance})}];c.default.uploadScores(t)},e.prototype.authSave=function(t){return isEmpty(s.UserInfo.nickName)?(console.log("auth save",t),s.UserInfo.nickName=t.nickName,l.default.syncData(JSON.stringify(t)).then(function(){return Promise.resolve()}).catch(function(){return Promise.reject()})):Promise.resolve()},e.prototype.resetSkin=function(){for(var t in this.skinList)this.skinList[t]="1"==t;this.save("skinList")},e.prototype.allSkin=function(){for(var t in this.skinList)this.skinList[t]=!0;this.save("skinList")},e.prototype.islock=function(t){return null==typeof this.skinList[t]?(this.skinList[t]=!1,this.islock(t)):!!this.skinList[t]},e.prototype.unlockSkin=function(t){if(null==typeof this.skinList[t])return this.skinList[t]=!1,this.unlockSkin(t);this.skinList[t]=!0;var e=Number(t);e>18&&e<24&&(this.ADSkinCount++,this.save("ADSkinCount"))},e.prototype.save=function(e,o){void 0===o&&(o=!1);var n=this.save_timestamps;if(e)t.prototype.save.call(this,e);else if(t.prototype.save.call(this),!o&&Date.now()-n<1e3*csv.Config.Sync_User_Data_Time)console.log("\u4e0a\u62a5\u592a\u9891\u7e41\uff0c\u4e0b\u6b21\u540c\u6b65\u3002\u3002\u3002\u3002");else{var i=this.toString();null==e&&(console.warn("Start sync to server!",i),l.default.syncData(i).then(function(t){t&&console.log("\u4e0a\u62a5\u7528\u6237\u6570\u636e\u6210\u529f")}))}},r([a.field()],e.prototype,"skinList",void 0),r([a.field()],e.prototype,"birdID",void 0),r([a.field()],e.prototype,"eggID",void 0),r([a.field()],e.prototype,"tmpscore",void 0),r([a.field()],e.prototype,"userId",void 0),r([a.field()],e.prototype,"createTime",void 0),r([a.field()],e.prototype,"coin",void 0),r([a.field()],e.prototype,"best",void 0),r([a.field()],e.prototype,"sel_char",void 0),r([a.field()],e.prototype,"ADSkinCount",void 0),r([a.field()],e.prototype,"level",void 0),r([a.field()],e.prototype,"freeCoinCount",void 0),r([a.field()],e.prototype,"freeCoinTime",void 0),r([a.field()],e.prototype,"timestamp",void 0),r([a.field()],e.prototype,"checkInNum",void 0),r([a.field()],e.prototype,"loginTime",void 0),r([a.field()],e.prototype,"playinglevel",void 0),r([a.field()],e.prototype,"distance",void 0),r([a.field()],e.prototype,"bestdistance",void 0),r([a.field()],e.prototype,"perfect",void 0),r([a.field()],e.prototype,"isFirst",void 0),r([a.dc("PlayerInfo")],e)}(a.default);o.default=u,o.PlayerInfo=a.default.register(u),cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/misc/DataCenter":"DataCenter","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Common/UserInfo":"UserInfo"}],PoolManager:[function(t,e,o){"use strict";cc._RF.push(e,"c9f58k8ABpPp5mEkDxlfZC+","PoolManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Signal"),i=function(){function t(t,e,o){this.nodePool={},this.nodes={},this.managed=!1,this.aliveObjects=[],this.onRecycleSignal=new n.default,this.onCreateObject=e,this.target=o,this.root=t,t&&t.on(cc.Node.EventType.CHILD_REMOVED,this.onNodeRemove,this)}return t.prototype.onNodeRemove=function(t){this.put(t),this.onRecycleSignal.fire(t)},t.prototype.objects=function(){return this.aliveObjects},t.prototype.clearAlives=function(){for(;0<this.aliveObjects.length;)this.aliveObjects[0].removeFromParent()},t.prototype.getPool=function(t){"object"==typeof t&&(t=t._uuid||t.name);var e=this.nodePool[t];return null==e&&(e=new cc.NodePool,this.nodePool[t]=e),e},t.prototype.get=function(t){var e=this.getPool(t).get();return this.onCreateObject&&null==e?(e=this.onCreateObject.call(this.target,t),this.root&&e.setParent(this.root),e||console.warn(e,"onCreateObject must return an object"),this.managed&&this.aliveObjects.push(e),this.nodes[e.uuid]=t,e):(this.root&&(e.active=!0,e.setParent(this.root)),this.managed&&this.aliveObjects.push(e),e)},t.prototype.tag=function(t,e){this.nodes[t.uuid]=e},t.prototype.put=function(t,e){void 0===e&&(e=null),null==e&&(e=this.nodes[t.uuid]),this.getPool(e).put(t),this.managed&&this.aliveObjects.splice(this.aliveObjects.indexOf(t),1)},t.prototype.clear=function(t){var e=this;if(this.managed&&(this.aliveObjects.forEach(function(t){e.put(t)}),this.aliveObjects.splice(0,this.aliveObjects.length)),t)this.getPool(t).clear();else for(var o in this.nodePool)this.nodePool[o].clear()},t.prototype.size=function(t){return this.getPool(t).size()},t}();o.default=i,cc._RF.pop()},{"./Signal":"Signal"}],PowerBuff:[function(t,e,o){"use strict";cc._RF.push(e,"125f0h2TUpK8pK/Feh2PbfZ","PowerBuff");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/buff_system/BuffBase"),c=t("../Logic/PlayerInfo"),s=t("../../../framework/buff_system/BuffManager"),l=t("./BirdManager"),u=cc._decorator,p=u.ccclass,f=(u.property,u.menu,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnabled=function(){c.PlayerInfo.buff_power=this.timeLeft,l.bm.ActivePowerUpMode()},e.prototype.onDisabled=function(){c.PlayerInfo.buff_power=0,l.bm.DeActivePowerUpMode()},e.prototype.updateTimeLeft=function(){c.PlayerInfo.buff_power=this.timeLeft,l.bm.hud.updatePowerBar(this.timeLeft/this.duration,this.timeLeft)},r([p],e)}(a.default));o.default=f,s.default.register("Power",f),cc._RF.pop()},{"../../../framework/buff_system/BuffBase":"BuffBase","../../../framework/buff_system/BuffManager":"BuffManager","../Logic/PlayerInfo":"PlayerInfo","./BirdManager":"BirdManager"}],PowerSlider:[function(t,e,o){"use strict";cc._RF.push(e,"8b020BuSgxE0p7gqMOFm4hY","PowerSlider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,a.menu,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.HideThunder=function(){},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],PsFxPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"dc35b3gh69DGIz45mLQJxDM","PsFxPlayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./PsFx"),l=t("../misc/Device"),u=cc._decorator,p=u.ccclass,f=u.property,d=u.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.prefabPath="",e.defaultFx=null,e.spriteFrame=null,e.duration=-1,e.randomRotaion=!1,e.scale=1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.loadPrefab=function(){var t=this;if(null!=this.prefabPath&&!isEmpty(this.prefabPath))return new Promise(function(e){cc.loader.loadRes(t.prefabPath,function(o,n){t.prefab=n,e(n)})})},e.prototype.clear=function(){this.defaultFx&&this.defaultFx.node.destroy(),this.defaultFx=null,this.prefab=null},Object.defineProperty(e.prototype,"fx",{get:function(){if(null==this.defaultFx&&this.prefab){var t=cc.instantiate(this.prefab);if(null==t)return null;var e=t.getComponent(s.default);null==e&&(e=t.addComponent(s.default)),t.setPosition(0,0),t.setParent(this.node),this.defaultFx=e}return this.defaultFx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return!!this.fx&&this.fx.isPlaying},enumerable:!0,configurable:!0}),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){var t=this.defaultFx;t&&(t.node.active=!1)},e.prototype.sleep=function(t){return new Promise(function(e){setTimeout(function(){e()},t)})},e.prototype.hide=function(){this.fx&&this.fx.node&&(this.fx.node.active=!1)},e.prototype.setOptions=function(t,e){e&&(t.node.x=e.x||t.node.x,t.node.y=e.y||t.node.y,t.label.string=e.label||t.label.string)},e.prototype.play=function(t,e){return a(this,void 0,void 0,function(){var o;return c(this,function(n){switch(n.label){case 0:return l.default.playEffect(this.audioClip,!1),(o=this.fx)?[3,2]:null!=this.prefab||null==this.prefabPath?[3,2]:[4,this.loadPrefab()];case 1:n.sent(),n.label=2;case 2:return(o=this.fx)?(this.randomRotaion&&(o.node.rotation=g.randomInt(0,360)),o.reset(),this.setOptions(o,t),o.node.scale=this.scale,[2,o.play(e||this.audioClip,t&&t.spriteFrame||this.spriteFrame)]):[3,3];case 3:return this.duration>0?[4,this.sleep(1e3*this.duration)]:[3,5];case 4:n.sent(),n.label=5;case 5:this.hide(),n.label=6;case 6:return[2]}})})},r([f(cc.Prefab)],e.prototype,"prefab",void 0),r([f],e.prototype,"prefabPath",void 0),r([f(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),r([f({type:cc.AudioClip})],e.prototype,"audioClip",void 0),r([f],e.prototype,"duration",void 0),r([f],e.prototype,"randomRotaion",void 0),r([f],e.prototype,"scale",void 0),r([p,d("\u52a8\u753b\u7279\u6548/PsFxPlayer")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../misc/Device":"Device","./PsFx":"PsFx"}],PsFx:[function(t,e,o){"use strict";cc._RF.push(e,"5e90fpm8LtO1JagTdF3cTrm","PsFx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../misc/Device"),c=t("../utils/Common"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particles=[],e.animations=[],e.armature=null,e.defaultAnim="",e.isPlaying=!1,e.sfx=null,e.sprite=null,e.childAnimation=!0,e.duration=-1,e.fadeAfterFinish=-1,e.repeatTime=1,e.removeAfterFinish=!1,e.hideAfterFinish=!0,e._label=null,e.resetOrigin=!0,e}return i(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return null==this._label&&(this._label=this.getComponentInChildren(cc.Label)),this._label},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite),this.sprite=this.sprite||this.node.getComponentInChildren(cc.Sprite));var t=this.getComponent(cc.Animation);t&&this.animations.push(t);var e=this.getComponent(cc.ParticleSystem);e&&this.particles.push(e);for(var o=0;o<this.node.childrenCount;o++){var n=this.node.children[o],i=n.getComponent(cc.ParticleSystem);if(i)this.particles.push(i);else if(this.childAnimation){var r=n.getComponent(cc.Animation);r&&this.animations.push(r)}}"undefined"!=typeof dragonBones&&(this.armature=this.getComponent(dragonBones.ArmatureDisplay),this.armature&&(this.defaultAnim=this.armature.animationName))},e.prototype.play=function(t,e){var o=this;void 0===t&&(t=null),void 0===e&&(e=null),this.isPlaying=!0;var n=0;t&&(this.sfx=t),e&&("string"==typeof e?c.default.setDisplay(this.sprite,e):this.sprite.spriteFrame=e),this.node.active=!0;for(var i=0;i<this.particles.length;i++)(r=this.particles[i]).resetSystem(),n<r.duration&&(n=r.duration+r.life+r.lifeVar);for(i=0;i<this.animations.length;i++){var r,s=(r=this.animations[i]).getClips();if(s&&s.length>0){var l=s[0],u=l.duration/l.speed;u>n&&(n=u),r.play(l.name)}}if(this.sfx&&a.default.playEffect(this.sfx,!1),this.armature){if(this.armature.playAnimation(this.defaultAnim,this.repeatTime),(n=this.duration)<=0)return new Promise(function(t){o.armature.addEventListener(dragonBones.EventObject.COMPLETE,function(){console.log("armature play complete"),o.removeAfterFinish?o.node.removeFromParent():o.fadeOnFinish(t)})})}else this.duration>0?n=this.duration:n+=.1;return new Promise(function(t){o.scheduleOnce(function(){if(!o.isValid)return t();o.removeAfterFinish?(o.node.removeFromParent(),t()):o.fadeOnFinish(t)},n)})},e.prototype.fadeOnFinish=function(t){this.isPlaying=!1;for(var e=0;e<this.particles.length;e++)this.particles[e].stopSystem();if(this.fadeAfterFinish>0){var o=cc.sequence(cc.fadeOut(this.fadeAfterFinish),cc.callFunc(t));this.node.runAction(o)}else this.hideAfterFinish&&(this.node.active=!1),t()},e.prototype.reset=function(){this.resetOrigin&&(this.node.position=cc.Vec2.ZERO),this.node.opacity=255,this.animations.forEach(function(t){return t.stepTo(0)})},e.prototype.start=function(){},r([u({type:cc.AudioClip})],e.prototype,"sfx",void 0),r([u(cc.Sprite)],e.prototype,"sprite",void 0),r([u],e.prototype,"childAnimation",void 0),r([u],e.prototype,"duration",void 0),r([u],e.prototype,"fadeAfterFinish",void 0),r([u],e.prototype,"repeatTime",void 0),r([u],e.prototype,"removeAfterFinish",void 0),r([u],e.prototype,"hideAfterFinish",void 0),r([u],e.prototype,"resetOrigin",void 0),r([l,p("\u52a8\u753b\u7279\u6548/PSFX")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../misc/Device":"Device","../utils/Common":"Common"}],PsSpawner:[function(t,e,o){"use strict";cc._RF.push(e,"12e8aPL0IBPxYKO3t/sxN/O","PsSpawner");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./PsFx"),l=t("../misc/PoolManager"),u=cc._decorator,p=u.ccclass,f=(u.property,u.menu),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.poolmgr=new l.default},e.prototype.start=function(){},e.prototype.clear=function(){this.poolmgr&&this.poolmgr.clear()},e.prototype.getFx=function(t){var e=this;return new Promise(function(o){var n=e.poolmgr.get(t);if(null==n){if(!(t instanceof cc.Prefab))return void cc.loader.loadRes(t,cc.Prefab,function(i,r){(n=cc.instantiate(r)).setParent(e.node);var a=n.getOrAddComponent(s.default);a.name=t,o(a)});n=cc.instantiate(t),e.poolmgr.tag(n,t)}n.setParent(e.node),n.active=!1;var i=n.getOrAddComponent(s.default);i.reset(),o(i)})},e.prototype.onFxFinshPlay=function(t){this.poolmgr.put(t.node)},e.prototype.finish=function(t){this.poolmgr.put(t.node)},e.prototype.play=function(t,e,o,n,i){return void 0===e&&(e=cc.Vec2.ZERO),void 0===o&&(o=0),a(this,void 0,void 0,function(){var r;return c(this,function(a){switch(a.label){case 0:return[4,this.getFx(t)];case 1:return(r=a.sent()).node.position=e,r.node.rotation=o,[4,r.play(n,i)];case 2:return a.sent(),this.onFxFinshPlay(r),[2]}})})},e.prototype.playWithoutFinish=function(t,e,o,n,i){return void 0===e&&(e=cc.Vec2.ZERO),void 0===o&&(o=0),a(this,void 0,void 0,function(){var r;return c(this,function(a){switch(a.label){case 0:return[4,this.getFx(t)];case 1:return(r=a.sent()).node.position=e,r.node.rotation=o,[4,r.play(n,i)];case 2:return a.sent(),[2]}})})},e.prototype.play2=function(t,e,o,n){return void 0===e&&(e=cc.Vec2.ZERO),void 0===o&&(o=0),void 0===n&&(n=0),a(this,void 0,void 0,function(){var i;return c(this,function(r){switch(r.label){case 0:return[4,this.getFx(t)];case 1:return(i=r.sent()).node.position=e,i.node.scale=n,i.node.rotation=o,[4,i.play()];case 2:return r.sent(),this.onFxFinshPlay(i),[2]}})})},e.prototype.play3=function(t,e){return void 0===e&&(e=cc.Vec2.ZERO),a(this,void 0,void 0,function(){var o,n=this;return c(this,function(i){switch(i.label){case 0:return[4,this.getFx(t)];case 1:return(o=i.sent()).node.position=e,o.play().then(function(){return n.onFxFinshPlay(o)}),[2,o]}})})},r([p,f("\u52a8\u753b\u7279\u6548/PsSpawner")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../misc/PoolManager":"PoolManager","./PsFx":"PsFx"}],RemoteTMXLoader:[function(t,e,o){"use strict";cc._RF.push(e,"56250AfyUtNtKx+DidxKUqk","RemoteTMXLoader"),Object.defineProperty(o,"__esModule",{value:!0});var n=new RegExp(/\<image source=\"([^\"]+)\"/,"g"),i=function(){function t(){this._baseUrl="",this.cache_tmx={},this.cache_images={}}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(t){this._baseUrl=t},enumerable:!0,configurable:!0}),t.prototype.loadRemote=function(t){var e=this;return new Promise(function(o){t=e._baseUrl+t;var n=e.cache_tmx[t];if(n)return o(n);cc.loader.load({url:t,type:"tmx"},function(n,i){if(!i)return o();var r=new cc.TiledMapAsset;r.tmxXmlStr=i;var a=e.getImages(i);e.cache_images[t]=a,r.textureNames=a;var c=a.map(function(t){return e.baseUrl+t});cc.loader.load(c,function(n,i){r.textures=Object.keys(i.map).map(function(t){return i.map[t].content}),o(r),e.cache_tmx[t]=r})})})},t.prototype.release=function(t,e){var o=this;void 0===e&&(e=!1),delete this.cache_tmx[t],e&&this.cache_images[t].map(function(t){return o.baseUrl+t}).forEach(function(t){return cc.loader.release(t)}),cc.loader.release(t)},t.prototype.loadRes=function(t){return new Promise(function(e){cc.loader.loadRes(t,cc.TiledMapAsset,function(t,o){t?e():e(o)})})},t.prototype.getImages=function(t){var e,o=[];do{(e=n.exec(t))&&e[1]&&o.push(e[1])}while(e);return n.lastIndex=0,o},t}();o.default=i,o.tmxLoader=new i,cc._RF.pop()},{}],RemoveIfInvisible:[function(t,e,o){"use strict";cc._RF.push(e,"49ddcdrNuFIIao6/781Co0X","RemoveIfInvisible");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,a.menu),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(){cc.Camera.main.canSee(this.node)||this.node.removeFromParent()},r([c,s("game/RemoveIfInvisible")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Rest:[function(t,e,o){"use strict";cc._RF.push(e,"34942fATBxOEITH69ZSvYku","Rest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property;a.menu,o.R=null;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab_coin=null,e}return i(e,t),e.prototype.onLoad=function(){o.R=this},e.prototype.start=function(){},r([s(cc.Prefab)],e.prototype,"prefab_coin",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SAutoRotate:[function(t,e,o){"use strict";cc._RF.push(e,"4f0f8BSL8VHbKF2xS0xZF6k","SAutoRotate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("./SGameEntity"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu;(function(t){t[t.Idle=0]="Idle",t[t.Rotate=1]="Rotate"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.maxTurnRate=.02,e.heading=cc.v2(1,0),e.isRotating=!1,e.canRotateBack=!1,e}return i(e,t),e.prototype.onLoad=function(){this.node.scaleX<0&&(this.heading=cc.v2(-1,0))},e.prototype.isBackRotate=function(t){if(!this.canRotateBack)if(this.node.scaleX<0){if(t.x>0)return!0}else if(t.x<0)return!0;return!1},e.prototype.rotate=function(){if(!cc.isValid(this.target))return this.rotateToVec(),0;if(this.target&&this.target.isDead())return this.rotateToVec(),0;var t=this.node.getBoundingBoxToWorld(),e=this.target.node.getBoundingBoxToWorld().center.sub(t.center);if(!this.isBackRotate(e))return e.normalizeSelf(),this.rotateToVec(e);this.rotateToVec()},e.prototype.signVec2=function(t,e){return t.y*e.x>t.x*e.y?-1:1},e.prototype.rotateToVec=function(t){void 0===t&&(t=null),null==t&&(t=this.node.scaleX<0?cc.v2(-1,0):cc.Vec2.RIGHT);var e=this.signVec2(this.heading,t),o=Math.acos(this.heading.dot(t));if(o<1e-4)return 0;isNaN(o)&&(o=0),o>this.maxTurnRate&&(o=this.maxTurnRate),this.heading.rotateSelf(e*o);var n=this.heading.signAngle(cc.Vec2.RIGHT);return this.node.rotation=cc.macro.DEG*n,this.node.scaleX<0&&(this.node.rotation+=180),1},e.prototype.update=function(){this.isRotating=!!this.rotate()},e.inaccuracyScalar=3,r([u(c.default)],e.prototype,"target",void 0),r([u],e.prototype,"maxTurnRate",void 0),r([l,p("shooter/AutoRotate")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./SGameEntity":"SGameEntity"}],SBullet2:[function(t,e,o){"use strict";cc._RF.push(e,"b7dd8ihOSxNFqJGAlsmqCjA","SBullet2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SGameEntity"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=c.requireComponent,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=5,e.tails=[],e.def_opacity=155,e.entity=null,e}return i(e,t),Object.defineProperty(e.prototype,"damage",{set:function(t){this.entity.damage=t},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){var t=this;this.entity=this.getComponent(a.default),this.entity.on(a.default.Event.Dead,this.onDead,this),0==this.tails.length&&(this.tails=this.getComponentsInChildren(cc.Sprite),this.tails=this.tails.filter(function(e){return e.node!=t.node}))},e.prototype.onDestroy=function(){this.entity.off(a.default.Event.Dead,this.onDead,this)},e.prototype.onEnable=function(){var t=this;this.tails.forEach(function(e){e.node.width=0,e.node.opacity=t.def_opacity})},e.prototype.onDead=function(){this.tails.forEach(function(t){t.node.runAction(cc.fadeOut(.2))})},e.prototype.onCollisionEnter=function(t){var e=t.getComponent(a.default);null==e&&(e=t.getComponentInParent(a.default)),e.isActive&&this.entity.isActive&&(e.decreaseHp(this.entity.damage),this.entity.decreaseHp(e.damage),this.onHitEntity(e,t))},e.prototype.onHitEntity=function(){},e.prototype.fire=function(t){this.entity.moveEngine&&(this.entity.moveEngine.velocity=t),this.entity.run()},e.prototype.update=function(){var t=this;this.tails.forEach(function(e){e.node.width+=t.speed})},r([l],e.prototype,"speed",void 0),r([l([cc.Sprite])],e.prototype,"tails",void 0),r([l],e.prototype,"def_opacity",void 0),r([s,u("game/BulletWithEntity"),p(a.default)],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./SGameEntity":"SGameEntity"}],SBulletWithBody:[function(t,e,o){"use strict";cc._RF.push(e,"0a580ri0IxHNbKsqea3b2xR","SBulletWithBody");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Tag"),c=t("./BirdManager"),s=t("../../../framework/plugin_shootgame/ShootManager"),l=t("../Logic/PlayerInfo"),u=cc._decorator,p=u.ccclass,f=u.property,d=u.menu,h=u.requireComponent,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.body=null,e.vel=cc.Vec2.ZERO,e}return i(e,t),e.prototype.onLoad=function(){this.body=this.getComponent(cc.RigidBody)},e.prototype.onEnable=function(){},e.prototype.onBeginContact=function(t){var e=t.colliderA.node==this.node?t.colliderB:t.colliderA,o=e.node.groupIndex;if(o==a.Tag.Block){e.node.destroy();var n=e.node.getBoundingBoxToWorld().center;n=c.bm.node.convertToNodeSpaceAR(n),c.bm.play("Prefab/fx/block_bomb",n),l.PlayerInfo.tmpscore+=l.PlayerInfo.playinglevel,l.PlayerInfo.playinglevel>0&&c.bm.hud.playWithText("Prefab/fx/add_score",cc.Vec2.ZERO,"+"+l.PlayerInfo.playinglevel),l.PlayerInfo.coin+=1,l.PlayerInfo.lv_coin+=1,this.node.removeFromParent()}else o==a.Tag.InvincibleBlock&&this.node.removeFromParent()},e.prototype.fire=function(t){this.body.syncPosition(!1),this.vel=t},e.prototype.update=function(){this.body.linearVelocity=this.vel,s.default.instance.canSee(this.node)||this.node.removeFromParent()},r([f(cc.Vec2)],e.prototype,"vel",void 0),r([p,d("shooter/BulletWithBody"),h(cc.RigidBody)],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../framework/plugin_shootgame/ShootManager":"ShootManager","../Logic/PlayerInfo":"PlayerInfo","./BirdManager":"BirdManager","./Tag":"Tag"}],SBullet:[function(t,e,o){"use strict";cc._RF.push(e,"9c351+bI0tPqbc0vLxFTH7n","SBullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SGameEntity"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=5,e.tails=[],e.def_opacity=155,e}return i(e,t),e.prototype.onDead=function(){this.tails.forEach(function(t){t.node.runAction(cc.fadeOut(.2))})},e.prototype.onLoad=function(){var e=this;t.prototype.onLoad.call(this),0==this.tails.length&&(this.tails=this.getComponentsInChildren(cc.Sprite),this.tails=this.tails.filter(function(t){return t.node!=e.node}))},e.prototype.onEnable=function(){var e=this;t.prototype.onEnable.call(this),this.tails.forEach(function(t){t.node.width=0,t.node.opacity=e.def_opacity})},e.prototype.onCollisionEnter=function(t){var e=t.getComponent(a.default);null==e&&(e=t.getComponentInParent(a.default)),e.isActive&&this.isActive&&(e.decreaseHp(this.damage),this.decreaseHp(e.damage),this.onHitEntity(e,t))},e.prototype.onHitEntity=function(){},e.prototype.fire=function(t){this.moveEngine.velocity=t,this.run()},e.prototype.update=function(){var t=this;this.tails.forEach(function(e){e.node.width+=t.speed})},r([l],e.prototype,"speed",void 0),r([l([cc.Sprite])],e.prototype,"tails",void 0),r([l],e.prototype,"def_opacity",void 0),r([s,u("shooter/Bullet")],e)}(a.default);o.default=p,cc._RF.pop()},{"./SGameEntity":"SGameEntity"}],SElegantFollow:[function(t,e,o){"use strict";cc._RF.push(e,"2439fBM+7VCRYPbogT9Q/b7","SElegantFollow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SMoveBase"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxSpeed=10,e.dir=cc.Vec2.UP,e.enableTarget=!0,e.targetAngle=0,e.rotateSpeed=10,e.intervalCheckTarget=1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.reset=function(){this.dir=cc.Vec2.UP,this.node.rotation=0,this.targetAngle=0,this.tar=null},e.prototype.onTargetChanged=function(){if(this.target){var t=this.node.getBoundingBoxToWorld(),e=this.target.getBoundingBoxToWorld().center.sub(t.center);this.targetAngle=e.signAngle(cc.Vec2.RIGHT)*cc.macro.DEG}},e.prototype._step=function(){var t=this.dir.signAngle(cc.Vec2.RIGHT)*cc.macro.DEG;this.enableTarget&&(Math.abs(t%360-this.targetAngle)>30?this.dir=this.dir.rotateSelf(-cc.macro.RAD*this.rotateSpeed):this.onTargetChanged()),this.velocity=this.dir.mul(this.maxSpeed),this.node.setPosition(this.node.position.add(this.velocity)),this.rotateByVelocity&&(this.node.rotation=this.rotationOffset+t)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},r([l({tooltip:"0-1 is appropriate value range"})],e.prototype,"intervalCheckTarget",void 0),r([s],e)}(a.default);o.default=u,cc._RF.pop()},{"./SMoveBase":"SMoveBase"}],SEnemy:[function(t,e,o){"use strict";cc._RF.push(e,"f4f1bGOH+BGOpErFlpE8whm","SEnemy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SGameEntity"),c=t("./SBullet"),s=t("./ShootManager"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},e.prototype.onActive=function(){s.default.instance.addEnemy(this.node)},e.prototype.onCollisionEnter=function(t){var e=t.getComponent(c.default);e&&this.decreaseHp(e.damage)},e.prototype.onDelete=function(){t.prototype.onDelete.call(this),s.default.instance.removeEnemy(this.node)},r([u],e)}(a.default));o.default=p,cc._RF.pop()},{"./SBullet":"SBullet","./SGameEntity":"SGameEntity","./ShootManager":"ShootManager"}],SEquipSystem:[function(t,e,o){"use strict";cc._RF.push(e,"aa221tK42VAnbWR7mYHwCkT","SEquipSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SWeapon"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weaponPrefab=null,e.weapon=null,e.weapons={},e}return i(e,t),e.prototype.start=function(){this.switchWeapon(this.weaponPrefab)},e.prototype.onDisable=function(){this.removeMainWeapon()},e.prototype.createWeapon=function(t){var e=cc.instantiate(t);e.setParent(this.node),e.setPosition(0,0);var o=e.getComponent(a.default);return o||(console.log("[SEquipSystem] target node is not a SWeapon"),o=e.addComponent(a.default)),o},e.prototype.addWeapon=function(t,e){this.removeWeapon(t);var o=this.createWeapon(e);this.weapons[t]=o},e.prototype.removeMainWeapon=function(){this.weapon&&this.weapon.node.destroy()},e.prototype.removeWeapon=function(t){var e=this.weapons[t];e&&e.node.destroy(),this.weapons[t]=null},e.prototype.switchWeapon=function(t){null!=t&&(this.weapon&&this.weapon.node.destroy(),this.weapon=this.createWeapon(t))},r([l(cc.Prefab)],e.prototype,"weaponPrefab",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./SWeapon":"SWeapon"}],SExplode:[function(t,e,o){"use strict";cc._RF.push(e,"f8697pU05hC1rwIAF4ytfNT","SExplode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SGameEntity"),c=t("../../Game/Scripts/Logic/PlayerInfo"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=5,e.damage=200,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.onDead=function(){},e.prototype.onCollisionEnter=function(t){var e=t.getComponent(a.default);null==e&&(e=t.getComponentInParent(a.default)),e.isActive&&this.isActive&&(this.damage=Math.round(Math.pow(c.PlayerInfo.g_lv,3)/3+200),e.decreaseHp(this.damage),this.onHitEntity(e,t))},e.prototype.onHitEntity=function(){},r([u],e.prototype,"speed",void 0),r([u],e.prototype,"damage",void 0),r([l,p("shooter/Explode")],e)}(a.default);o.default=f,cc._RF.pop()},{"../../Game/Scripts/Logic/PlayerInfo":"PlayerInfo","./SGameEntity":"SGameEntity"}],SFireAgent:[function(t,e,o){"use strict";cc._RF.push(e,"6fc8eboP6dCloNCWK5kdA/5","SFireAgent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("./ShootManager"),s=t("./SGameEntity"),l=t("../plugin_boosts/components/PsFxPlayer"),u=t("../plugin_boosts/misc/Signal"),p=cc._decorator,f=p.ccclass,d=p.property,h=p.menu;(function(t){t[t.FixDir=0]="FixDir",t[t.SelfRotation=1]="SelfRotation",t[t.ParentRotation=2]="ParentRotation",t[t.Target=3]="Target"})(a||(a={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dirType=a.SelfRotation,e.aimTarget=null,e.rotation=-90,e.auto_fire=!0,e.paused=!1,e.fireInterval=.1,e.fireFx=null,e.initSpeed=5,e.host=null,e.fireTimestamp=0,e.bulletDamage=10,e.numOfFire=1,e.anglePadding=4,e.reloadTimestamp=0,e.bullet_capcity=-1,e.bullets_left=1,e.auto_reload=!0,e.dur_reload=0,e.fireSignal=new u.default,e.reloadStartSignal=new u.default,e.reloadEndSignal=new u.default,e.bulletCompTypeName=null,e}return i(e,t),e.prototype.onLoad=function(){this.fireFx||(this.fireFx=this.getComponent(l.default)),null==this.host&&(this.host=this.getComponentInParent(s.default))},e.prototype.setMuzzleFlash=function(t,e){void 0===e&&(e=1),this.fireFx.clear(),"string"==typeof t?this.fireFx.prefabPath=t:this.fireFx.prefab=t,this.fireFx.scale=e},e.prototype.createBullet=function(){if(null==this.bulletPrefab)return null;var t=this.node.getParent().convertToWorldSpaceAR(this.node.getPosition()),e=c.default.instance.createBullet(this.bulletPrefab,t);if(null==this.bulletCompTypeName){var o=e.getComponents(cc.Component).find(function(t){return null!=t.fire});o&&(this.bulletCompTypeName=o.__proto__.__classname__)}return e},e.prototype.onDoFire=function(){var t=0;this.numOfFire>1&&(t=Math.floor(this.numOfFire/2));for(var e=[],o=0;o<this.numOfFire;o++){var n=this.createBullet();if(n){var i=n.getComponent(this.bulletCompTypeName);if(i){i.damage=this.bulletDamage;var r=this.rotation+this.anglePadding*(o-t),a=cc.Vec2.RIGHT;a.rotateSelf(-cc.macro.RAD*r),a.mulSelf(this.initSpeed),i.fire(a),n.rotation=r,e.push(i),this.bullet_capcity>0&&this.bullets_left--}}else console.warn("[SFireAgent ] create bullet failed, check prefab nil and prefab if has[SBullet] !")}return this.fireSignal.fire(e),e},e.prototype.fire=function(t){if(this.paused)return[];if(this.bullets_left<=0)return[];if(this.host&&!this.host.isActive)return[];if(null!=t)this.rotation=t;else if(this.dirType==a.SelfRotation)this.rotation=this.node.rotation;else if(this.dirType==a.Target){var e=this.aimTarget.getBoundingBoxToWorld().center.sub(this.node.getBoundingBoxToWorld().center);this.rotation=Math.atan2(-e.y,e.x)*cc.macro.DEG,this.node.rotation=this.rotation}else this.dirType==a.ParentRotation&&(this.rotation=this.node.parent.rotation-this.node.rotation,this.node.parent.scaleX<0&&(this.rotation+=180));return this.fireFx&&this.fireFx.play(),this.onDoFire()},e.prototype.start=function(){},e.prototype.fillBullets=function(){this.bullets_left=this.bullet_capcity},Object.defineProperty(e.prototype,"autoFire",{set:function(t){this.auto_fire=t},enumerable:!0,configurable:!0}),e.prototype.reload_succ=function(){this.bullet_capcity<=0||(this.reloadTimestamp=0,this.bullets_left=this.bullet_capcity,this.reloadEndSignal.fire(this))},e.prototype.isReloading=function(){return this.reloadTimestamp>0},e.prototype.reloadManually=function(){this.bullet_capcity<=0||(this.onReloadStart(),this.reloadTimestamp=1,this.scheduleOnce(this.reload_succ,this.dur_reload))},e.prototype.onReloadStart=function(){this.reloadStartSignal.fire(this)},e.prototype.update=function(t){this.paused||(this.auto_fire&&(this.fireTimestamp+=t,this.fireTimestamp>this.fireInterval&&(this.fireTimestamp=0,this.fire())),this.bullets_left<=0&&this.auto_reload&&(0==this.reloadTimestamp&&this.onReloadStart(),this.reloadTimestamp+=t,this.reloadTimestamp>this.dur_reload&&(this.reloadTimestamp=0,this.reload_succ())))},e.prototype.onDisable=function(){},r([d(cc.Prefab)],e.prototype,"bulletPrefab",void 0),r([d({type:cc.Enum(a)})],e.prototype,"dirType",void 0),r([d({type:cc.Node,visible:function(){return this.dirType==a.Target}})],e.prototype,"aimTarget",void 0),r([d({visible:function(){return this.dirType==a.FixDir}})],e.prototype,"rotation",void 0),r([d],e.prototype,"auto_fire",void 0),r([d({visible:function(){return this.auto_fire}})],e.prototype,"fireInterval",void 0),r([d(l.default)],e.prototype,"fireFx",void 0),r([d],e.prototype,"initSpeed",void 0),r([d],e.prototype,"bulletDamage",void 0),r([d],e.prototype,"anglePadding",void 0),r([f,h("shooter/FireAgent")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../plugin_boosts/components/PsFxPlayer":"PsFxPlayer","../plugin_boosts/misc/Signal":"Signal","./SGameEntity":"SGameEntity","./ShootManager":"ShootManager"}],SFollowCamera:[function(t,e,o){"use strict";cc._RF.push(e,"ab1bdx+TzJO9rfqJ75XWBg+","SFollowCamera");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../plugin_boosts/misc/BoostsAction"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.offset=cc.Vec2.ZERO,e.velocity=cc.Vec2.ZERO,e}return i(e,t),e.prototype.onLoad=function(){this.camera=this.getComponent(cc.Camera)},e.prototype.start=function(){},e.prototype.reset=function(){this.node.y=0,this.offset=cc.Vec2.ZERO},e.prototype.startFollow=function(t){this.target=t},e.prototype.animOffset=function(t,e){var o=this;void 0===e&&(e=1);var n=a.ValueChangeAction.create(e,this.offset.y,t,function(t){o.offset.y=t}).easing(cc.easeSineInOut());this.node.runAction(n)},e.prototype.canSee=function(t){var e=t.position.add(cc.v2(0,t.height/2));return this.camera.getWorldToScreenPoint(e,cc.Vec2.ZERO).y>-cc.visibleRect.height/2},e.prototype.update=function(){this.target&&(this.camera.node.y=this.target.y+this.offset.y)},r([l(cc.Node)],e.prototype,"target",void 0),r([s,u(cc.Camera)],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../plugin_boosts/misc/BoostsAction":"BoostsAction"}],SGameEntity:[function(t,e,o){"use strict";cc._RF.push(e,"dec38NrArVCjZbUKAJHeA/m","SGameEntity");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c,s,l,u=t("../plugin_boosts/components/PsFxPlayer"),p=t("../plugin_boosts/components/FSM"),f=t("./ShootManager"),d=t("../plugin_boosts/misc/Signal"),h=t("../plugin_movement/SMoveEntity"),y=cc._decorator,_=y.ccclass,g=y.property,v=y.requireComponent,m=y.menu;(function(t){t[t.Default=0]="Default",t[t.Run=1]="Run",t[t.Dead=2]="Dead",t[t.Disapear=3]="Disapear",t[t.Remove=4]="Remove"})(a=o.EntityState||(o.EntityState={})),function(t){t[t.Invalid=0]="Invalid",t[t.Check=1]="Check",t[t.Visible=2]="Visible",t[t.Invisible=3]="Invisible"}(c||(c={})),function(t){t[t.Dead=0]="Dead",t[t.Remove=1]="Remove",t[t.Appear=2]="Appear",t[t.Active=3]="Active",t[t.Disapear=4]="Disapear",t[t.Hurt=5]="Hurt",t[t.HpChanged=6]="HpChanged"}(s||(s={})),function(t){t[t.None=0]="None",t[t.PlayerDistance=1]="PlayerDistance",t[t.Visible=2]="Visible",t[t.CameraDistance=3]="CameraDistance",t[t.Load=4]="Load"}(l||(l={}));var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=0,e.mHp=10,e.damage=10,e.activeOn=l.Load,e.activeDistance=0,e.autoRemoveDelay=-1,e.disapearRemove=!1,e.disapearDelay=0,e.alwasyShow=!1,e.has_shown=!1,e.ps=[],e._hp=0,e.signals=[],e.sm=null,e.suicide=!1,e}return i(e,t),e.prototype.onLoad=function(){this.deadFx=this.getComponent(u.default),this.sprit=this.getComponent(cc.Sprite),this.moveEngine=this.getComponent(h.default),this.ps=this.getComponentsInChildren(cc.ParticleSystem),this.onInitFSM(),this.fsm_visible=this.addComponent(p.default),this.fsm_visible.init(this),this.fsm_visible.addStates(c),this.fsm_visible.enterState(c.Check)},e.prototype.start=function(){this.sm=f.default.instance,this.activeOn==l.Load&&this.run()},e.prototype.onInitFSM=function(){var t=this.addComponent(p.default);t.init(this),t.addStates(a),t.enterState(a.Default),this.__fsm=t},Object.defineProperty(e.prototype,"isActive",{get:function(){return this.__fsm.isInState(a.Run)},set:function(t){t?this.run():this.stopRun()},enumerable:!0,configurable:!0}),e.prototype.onEnable=function(){this._hp=this.mHp,this.suicide=!1,this.node.rotation=0,this.sprit&&(this.sprit.enabled=!0)},e.prototype.onDisable=function(){this.clear()},Object.defineProperty(e.prototype,"hp",{get:function(){return this._hp},set:function(t){var e=this._hp;t>this.maxHp||e!=t&&(this._hp=t,this.emitEvents(s.HpChanged,t,e),this.onHpChanged(this._hp,e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHp",{get:function(){return this.mHp},set:function(t){this.mHp=t},enumerable:!0,configurable:!0}),e.prototype.respawn=function(t){t?this.hp=this.maxHp:this._hp=this.maxHp,this.isActive=!0},e.prototype.isDead=function(){return this._hp<=0},e.prototype.onHpChanged=function(){},e.prototype.onDead=function(){},e.prototype.onRemove=function(){},e.prototype.onActive=function(){},e.prototype.decreaseHp=function(t){if(0!=this.hp&&(this.hp-=t,this.emitEvents(s.Hurt,this.hp,t),this.hp<=0)){if(this.hp=0,this.__fsm.isInState(a.Dead))return;this.__fsm.changeState(a.Dead)}},e.prototype.run=function(){this.__fsm.changeState(a.Run)},e.prototype.stopRun=function(){this.__fsm.changeState(a.Default)},e.prototype.onEnter_CheckState=function(){},e.prototype.onExit_CheckState=function(){},e.prototype.onUpdate_CheckState=function(){this.sm.canSee(this.node)?this.fsm_visible.changeState(c.Visible):this.fsm_visible.changeState(c.Invisible)},e.prototype.onEnter_VisibleState=function(){0==this.has_shown&&this.emitEvents(s.Appear,this),this.has_shown=!0},e.prototype.onUpdate_VisibleState=function(){this.sm.canSee(this.node)||this.fsm_visible.changeState(c.Invisible)},e.prototype.onUpdate_InvisibleState=function(){this.has_shown&&this.disapearRemove&&this.fsm_visible.timeElapsed>this.disapearDelay?this.__fsm.changeState(a.Disapear):this.sm.canSee(this.node)&&this.fsm_visible.changeState(c.Visible)},e.prototype.checkVisible=function(){this.fsm_visible.isInState(c.Visible)&&this.run()},e.prototype.onEnter_DefaultState=function(){!this.alwasyShow&&this.sprit&&(this.sprit.enabled=!1)},e.prototype.onUpdate_DefaultState=function(){},e.prototype.onEnter_RunState=function(t){this.sprit&&(this.sprit.enabled=!0),this.onActive(t),this.emitEvents(s.Active,this),this.ps.forEach(function(t){return t.resetSystem()})},e.prototype.onUpdate_RunState=function(t,e){this.moveEngine&&this.moveEngine.step(e),-1!=this.autoRemoveDelay&&this.__fsm.timeElapsed>=this.autoRemoveDelay&&this.__fsm.changeState(a.Remove)},e.prototype.onEnter_DeadState=function(t,e){var o=this;this.sprit&&(this.sprit.enabled=!1),this.ps.forEach(function(t){return t.stopSystem()}),e?e.play().then(function(){o.__fsm.changeState(a.Default)}):this.deadFx?this.deadFx.play().then(function(){o.__fsm.changeState(a.Default)}):this.__fsm.changeState(a.Default),this.clear(),this.emitDeadEvents()},e.prototype.onExit_DeadState=function(){this.onDelete()},e.prototype.clear=function(){this.has_shown=!1,this.fsm_visible.changeState(c.Check),this.moveEngine&&this.moveEngine.reset()},e.prototype.onDelete=function(){this.node.removeFromParent()},e.prototype.onDestroy=function(){this.signals.forEach(function(t){return t.clear()})},e.prototype.onEnter_RemoveState=function(){var t=this;this.sprit.enabled=!1,this.ps.forEach(function(t){return t.stopSystem()}),this.removeFx?this.removeFx.play().then(function(){t.__fsm.changeState(a.Default)}):this.__fsm.changeState(a.Default),this.clear(),this.emitRemoveEvents()},e.prototype.onExit_RemoveState=function(){this.onDelete()},e.prototype.onUpdate_RemoveState=function(){},e.prototype.onEnter_DisapearState=function(){this.clear(),this.onDelete()},e.prototype.onExit_DisapearState=function(){},e.prototype.onUpdate_DisapearState=function(){},e.prototype.emitDeadEvents=function(){this.onDead(),this.emitEvents(s.Dead,this)},e.prototype.emitRemoveEvents=function(){this.onRemove(),this.emitEvents(s.Remove,this)},e.prototype.on=function(t,e,o){this.getEventSignal(t).add(e,o)},e.prototype.off=function(t,e,o){this.getEventSignal(t).remove(e,o)},e.prototype.getEventSignal=function(t){var e=this.signals[t];return null==e&&(e=new d.default,this.signals[t]=e),e},e.prototype.emitEvents=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.getEventSignal(t);n.fire.apply(n,e)},e.prototype.kill=function(t){void 0===t&&(t=null),this._hp=0,this.suicide=!0,this.__fsm.changeState(a.Dead,t)},e.prototype.remove=function(){this.onDelete()},e.Event=s,e.States=a,r([g({displayName:"\u6700\u5927\u751f\u547d\u503c"})],e.prototype,"mHp",void 0),r([g({displayName:"\u4f24\u5bb3\u503c"})],e.prototype,"damage",void 0),r([g({type:cc.Enum(l),displayName:"\u6fc0\u6d3b\u65b9\u5f0f"})],e.prototype,"activeOn",void 0),r([g({visible:function(){return this.activeOn!=l.Load}})],e.prototype,"activeDistance",void 0),r([g({displayName:"\u5ef6\u8fdf\u81ea\u52a8\u9500\u6bc1"})],e.prototype,"autoRemoveDelay",void 0),r([g({type:u.default,displayName:"\u81ea\u52a8\u9500\u6bc1\u7279\u6548",visible:function(){return this.autoRemoveDelay>0}})],e.prototype,"removeFx",void 0),r([g({displayName:"\u770b\u4e0d\u89c1\u540e\u5220\u9664"})],e.prototype,"disapearRemove",void 0),r([g({tooltip:"\u770b\u4e0d\u89c1\u5ef6\u8fdf\u5220\u9664\u65f6\u95f4",visible:function(){return this.removeAfterDisapear}})],e.prototype,"disapearDelay",void 0),r([g({tooltip:"\u6b63\u5e38\u53ea\u6709active \u72b6\u6001\u624d\u4f1a\u663e\u793a\u3002\u52fe\u4e0a\u540e\u4f1a\u4e00\u76f4\u663e\u793a"})],e.prototype,"alwasyShow",void 0),r([_,m("shooter/GameEntity"),v(u.default)],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../plugin_boosts/components/FSM":"FSM","../plugin_boosts/components/PsFxPlayer":"PsFxPlayer","../plugin_boosts/misc/Signal":"Signal","../plugin_movement/SMoveEntity":"SMoveEntity","./ShootManager":"ShootManager"}],SItem:[function(t,e,o){"use strict";cc._RF.push(e,"93f07uu37RHT4vqNhQtuSLc","SItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SGameEntity"),c=t("./ShootManager"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(){console.log("eat item 11111111111"),this.fsm.changeState(a.EntityState.Dead)},e.prototype.onActive=function(){c.default.instance.addItem(this.node)},e.prototype.onDelete=function(){t.prototype.onDelete.call(this),c.default.instance.removeItem(this.node)},r([l],e)}(a.default));o.default=u,cc._RF.pop()},{"./SGameEntity":"SGameEntity","./ShootManager":"ShootManager"}],SMoveBase:[function(t,e,o){"use strict";cc._RF.push(e,"51afcUiRwROj7mCYywhsGlR","SMoveBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveOnLoad=!0,e.velocity=cc.Vec2.RIGHT,e.tar=null,e.rotateByVelocity=!1,e.rotationOffset=0,e._paused=!1,e.tarPos=cc.Vec2.ZERO,e}return i(e,t),e.prototype.onTargetChanged=function(){},Object.defineProperty(e.prototype,"target",{get:function(){return this.tar},set:function(t){t instanceof cc.Vec2?this.tarPos=t:this.tar=t,this.onTargetChanged(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetPosition",{get:function(){return this.tarPos},enumerable:!0,configurable:!0}),e.prototype.reset=function(){},e.prototype._step=function(){},e.prototype.onBeforeUpdate=function(t,e,o){void 0===o&&(o=-1)},e.prototype.onDisable=function(){},e.prototype.update=function(){},e.prototype.isInDistance=function(t,e){return t.sub(this.node.getBoundingBoxToWorld().center).magSqr()<e},e.prototype.isStatic=function(t){return void 0===t&&(t=1),this.velocity.fuzzyEquals(cc.Vec2.ZERO,t)},e.prototype.step=function(t){this.moveOnLoad||this._paused||this._step(t)},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.lateUpdate=function(){this.moveOnLoad&&!this._paused&&this._step()},r([s],e.prototype,"moveOnLoad",void 0),r([s],e.prototype,"velocity",void 0),r([s({type:cc.Node,displayName:"target"})],e.prototype,"tar",void 0),r([s],e.prototype,"rotateByVelocity",void 0),r([s],e.prototype,"rotationOffset",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SMoveEntity:[function(t,e,o){"use strict";cc._RF.push(e,"d6aaaJtWHdPi6n5pWOJrcW8","SMoveEntity");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c,s=t("./SMoveBase"),l=t("../plugin_shootgame/SGameEntity"),u=cc._decorator,p=u.ccclass,f=u.property,d=u.menu;(function(t){t[t.Simple=0]="Simple",t[t.FixedPosition=1]="FixedPosition",t[t.Seek=2]="Seek",t[t.Arrive=3]="Arrive",t[t.Wander=4]="Wander",t[t.Bezeir=5]="Bezeir",t[t.Path=6]="Path"})(a=o.Behavior||(o.Behavior={})),function(t){t[t.Load=0]="Load",t[t.FirstShow=1]="FirstShow",t[t.Delay=2]="Delay"}(c||(c={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveType=a.Simple,e.maxSpeed=15,e.forceWeight=.1,e.acc=cc.Vec2.ZERO,e.gravity=new cc.Vec2(0,0),e.path=[],e._runningPath=[],e.pathRadius=10,e.isPathLoop=!0,e._currentPathIndex=0,e._ge=null,e.wanderAngle=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this._ge=this.getComponent(l.default)},e.prototype.start=function(){this.rotateByVelocity&&(this.node.rotation=this.rotationOffset+this.velocity.signAngle(cc.Vec2.RIGHT)*cc.macro.DEG),this.setPath(this.path,this.isPathLoop,!0)},e.prototype.setPath=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=!0),this.isPathLoop=e,this._runningPath.splice(0,this._runningPath.length);for(var n=0;n<t.length;n++){var i=t[n].clone();o&&i.addSelf(this.node.position),this._runningPath.push(i)}if(this.isPathLoop&&this._runningPath.length>0){var r=this._runningPath[0];this._runningPath.push(r)}this._currentPathIndex=0},e.prototype.resetPath=function(){this.setPath(this.path,this.isPathLoop,!0)},e.prototype.reset=function(){this.target=null,this.velocity=cc.Vec2.ZERO,this.resetPath()},e.prototype.changeBeheavior=function(t,e){void 0===e&&(e=null),this.moveType=t,e&&(this.target=e)},e.prototype.applyForce=function(t){this.acc.addSelf(t)},e.prototype.getNormalPoint=function(t,e,o){var n=o.sub(e),i=t.sub(e).project(n);return e.add(i)},e.prototype.drawPath=function(t){t.moveTo(this._runningPath[0].x,this._runningPath[0].y);for(var e=0;e<this._runningPath.length-1;e++){this._runningPath[e];var o=this._runningPath[e+1];t.lineTo(o.x,o.y)}t.stroke()},e.prototype.followPath=function(t,e){if(this._currentPathIndex==t.length-1)return cc.Vec2.ZERO;var n,i=this.velocity.clone();i.normalizeSelf(),i.mulSelf(o.PathPredictLength),i.addSelf(this.node.position);var r=t[this._currentPathIndex],a=t[this._currentPathIndex+1],c=this.getNormalPoint(i,r,a),s=c.sub(a).magSqr();return s<o.ReachPathEndThreshold&&(this._currentPathIndex+=1,this.isPathLoop&&this._currentPathIndex>=t.length-1&&(this._currentPathIndex=0)),n=c.addSelf(a.sub(r).normalizeSelf().mulSelf(o.PathPredictLength+10)),s>e*e?this.seek(n):cc.Vec2.ZERO},e.prototype.seek=function(t){var e=t.clone();return e.subSelf(this.node.position),e.normalizeSelf(),e.mulSelf(this.maxSpeed),e.subSelf(this.velocity),e},e.prototype.arrive=function(t){var e=t.clone();e.subSelf(this.node.position);var o=e.mag();if(e.normalizeSelf(),o<100){var n=this.map(o,0,100,0,this.maxSpeed);e.mulSelf(n)}else e.mulSelf(this.maxSpeed);return e.subSelf(this.velocity),e},e.prototype.wander=function(){var t=this.node.position,e=this.node.parent.getContentSize();if(t.x<-e.width/2||t.y<-e.height/2||t.x>e.width/2||t.y>e.height/2)return this.seek(cc.v2(0,0));var o=this.velocity.clone();o.normalize(),o.mulSelf(0);var n=cc.v2(-1,0);return n.mulSelf(1),n.rotateSelf(this.wanderAngle),this.wanderAngle+=g.randomFloat(-1,1),o.add(n)},e.prototype._applyForces=function(){var t=cc.Vec2.ZERO,e=this.tarPos;this.target&&this.target.activeInHierarchy&&(e=this.target.position),this.moveType==a.Seek?t.addSelf(this.seek(e)):this.moveType==a.Arrive&&t.addSelf(this.arrive(e)),this.moveType==a.Path&&this._runningPath.length>0?t.addSelf(this.followPath(this._runningPath,this.pathRadius)):this.moveType==a.Wander&&t.addSelf(this.wander()),this.applyForce(this.gravity),this.applyForce(t)},e.prototype.limitVec2=function(t,e){var o=t.magSqr();return o>e*e&&t.mulSelf(e/Math.sqrt(o)),o},e.prototype.map=function(t,e,o,n,i){var r=(i-n)*t/(o-e)+n;return Math.max(n,Math.min(r,i))},e.prototype._step=function(){if(this._ge&&this._ge.isDead())return!0;this._applyForces();var t=this.acc.mul(this.forceWeight);this.velocity.addSelf(t),this.limitVec2(this.velocity,this.maxSpeed),this.node.setPosition(this.node.position.add(this.velocity)),this.acc.set(cc.Vec2.ZERO),this.rotateByVelocity&&this.moveType!=a.Simple&&(this.node.rotation=this.rotationOffset+this.velocity.signAngle(cc.Vec2.RIGHT)*cc.macro.DEG)},e.Behavior=a,e.ReachPathEndThreshold=400,e.PathPredictLength=25,r([f({type:cc.Enum(a)})],e.prototype,"moveType",void 0),r([f],e.prototype,"maxSpeed",void 0),r([f],e.prototype,"forceWeight",void 0),r([f({type:[cc.Vec2],visible:function(){return this.moveType==a.Path}})],e.prototype,"path",void 0),r([f({visible:function(){return this.moveType==a.Path}})],e.prototype,"pathRadius",void 0),r([f({visible:function(){return this.moveType==a.Path}})],e.prototype,"isPathLoop",void 0),o=r([p,d("movement/MoveEntity")],e)}(s.default);o.default=h,cc._RF.pop()},{"../plugin_shootgame/SGameEntity":"SGameEntity","./SMoveBase":"SMoveBase"}],STargetEnemies:[function(t,e,o){"use strict";cc._RF.push(e,"605ae73CBxEz4HS7tGfUegA","STargetEnemies");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../plugin_movement/SMoveBase"),c=t("./ShootManager"),s=cc._decorator,l=s.ccclass,u=s.property,p=(s.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetInterval=.2,e}return i(e,t),e.prototype.onLoad=function(){this.moveEntity=this.getComponent(a.default)},Object.defineProperty(e.prototype,"interval",{set:function(t){this.targetInterval=t,this.onDisable(),this.onEnable()},enumerable:!0,configurable:!0}),e.prototype.random=function(t){return Math.floor(Math.random()*t)},e.prototype.seekTarget=function(){if(!this.moveEntity.target||!this.moveEntity.target.activeInHierarchy){var t=c.default.instance.allEnemies,e=this.random(t.length);this.moveEntity.target=t[e]}},e.prototype.onEnable=function(){this.schedule(this.seekTarget,this.targetInterval)},e.prototype.onDisable=function(){this.unschedule(this.seekTarget)},r([u],e.prototype,"targetInterval",void 0),r([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../plugin_movement/SMoveBase":"SMoveBase","./ShootManager":"ShootManager"}],STargetPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"cc787x1xu1OCamO8vAZfoDH","STargetPlayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../plugin_movement/SMoveEntity"),c=t("./ShootManager"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.requireComponent,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alwaysPointTarget=!1,e.rotationOffset=0,e.duration=4,e.lastVel=cc.Vec2.ZERO,e}return i(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){this.moveEntity=this.getComponent(a.default)},e.prototype.onEnable=function(){this.lastVel=cc.Vec2.ZERO,this.target=c.default.instance.player,this.moveEntity.target=this.target,this.scheduleOnce(this.disableTarget,this.duration)},e.prototype.onDisable=function(){this.unschedule(this.disableTarget)},e.prototype.disableTarget=function(){this.moveEntity.target=null;var t=cc.misc.degreesToRadians(this.rotationOffset-this.node.rotation);this.lastVel=cc.v2(Math.cos(t),Math.sin(t))},e.prototype.update=function(){var t=this.target.position.sub(this.node.position);null!=this.moveEntity.target?this.alwaysPointTarget&&(this.node.rotation=this.rotationOffset+t.signAngle(cc.Vec2.RIGHT)*cc.macro.DEG):this.moveEntity.applyForce(this.lastVel)},r([u],e.prototype,"alwaysPointTarget",void 0),r([u],e.prototype,"rotationOffset",void 0),r([u],e.prototype,"duration",void 0),r([l,p(a.default)],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../plugin_movement/SMoveEntity":"SMoveEntity","./ShootManager":"ShootManager"}],SWeapon:[function(t,e,o){"use strict";cc._RF.push(e,"977e10uu7ZMsqqaBe5sSFqA","SWeapon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SFireAgent"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fireAgents=[],e}return i(e,t),e.prototype.onLoad=function(){this.fireAgents=this.getComponentsInChildren(a.default)},e.prototype.fire=function(t){for(var e in this.fireAgents)this.fireAgents[e].fire(t)},e.prototype.pause=function(){this.fireAgents.forEach(function(t){return t.paused=!0})},e.prototype.resume=function(){this.fireAgents.forEach(function(t){return t.paused=!1})},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./SFireAgent":"SFireAgent"}],SegmentInfo:[function(t,e,o){"use strict";cc._RF.push(e,"2e97es6xh5KgrBpnPk41HZt","SegmentInfo"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(t){this.diffLevel=0,this.name="",this.id=0,this.id=t;var e=csv.Segments.get(t);this.diffLevel=e.category,this.name=e.Name},cc._RF.pop()},{}],ServerConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c77afeUEzVOV7qcRpWWaf89","ServerConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../UI/UIRank");o.ServerConfig={version:"1.1.8",root_url:"https://www.mimgame.com/v1/brickbird",cdn_url:"https://www.mimgame.com/games/brickbird",ip_api:"https://pv.sohu.com/cityjson?ie=utf-8",ip_query:"https://apis.juhe.cn/ip/ipNew?key=047ffdc934b3229f78059746143bede0&ip=",config_url:"config.json",is_local_game:!0,userId:"oJMUQ5UEbNZfX766T7tzeoRwBNBI"},o.ServerConfig.cdn_url=o.ServerConfig.cdn_url+"/"+o.ServerConfig.version+"/",o.ServerConfig.config_url=o.ServerConfig.cdn_url+o.ServerConfig.config_url,n.default.rankUrl=o.ServerConfig.root_url+"/game/rank",cc._RF.pop()},{"../UI/UIRank":"UIRank"}],ShootManager:[function(t,e,o){"use strict";cc._RF.push(e,"162c1rUSW1Pzogn/l0WTpO6","ShootManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../plugin_boosts/misc/PoolManager"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu;(function(t){t[t.SelfBounding=0]="SelfBounding",t[t.Camera=1]="Camera"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.player=null,e.halfSize=cc.size(0,0),e.prefabs={},e.canseeType=a.SelfBounding,e.allEnemies=[],e.allItems=[],e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.camera||(this.camera=cc.Camera.main),o.instance=this,this.bulletPool=new c.default(this.node,this.onCreateObject,this),g.setGlobalInstance(this),this.halfSize.width=cc.visibleRect.width/2,this.halfSize.height=cc.visibleRect.height/2},Object.defineProperty(e.prototype,"bullets",{get:function(){return this.node.children},enumerable:!1,configurable:!0}),e.prototype.removeEnemy=function(t){this.allEnemies.splice(this.allEnemies.indexOf(t),1)},e.prototype.addEnemy=function(t){this.allEnemies.push(t)},e.prototype.addItem=function(t){this.allItems.push(t)},e.prototype.removeItem=function(t){this.allItems.splice(this.allItems.indexOf(t),1)},e.prototype.onCreateObject=function(t){var e=this.prefabs[t];return cc.instantiate(e)},e.prototype.createBullet=function(t,e){var o=this.get(t);return e=this.node.convertToNodeSpaceAR(e),o.setPosition(e),o},e.prototype.get=function(t){return this.prefabs[t._uuid]=t,this.bulletPool.get(t._uuid)},e.prototype.start=function(){},e.prototype.canSee=function(t){if(this.canseeType==a.SelfBounding){var e=t.getBoundingBox(),o=this.node.width/2,n=this.node.height/2;return!(e.xMax<-o||e.xMin>o||e.yMax<-n||e.yMin>n)}if(this.canseeType==a.Camera)return this.camera||(this.camera=cc.Camera.main),this.camera.canSee(t)},r([u(cc.Camera)],e.prototype,"camera",void 0),r([u(cc.Node)],e.prototype,"player",void 0),r([u({type:cc.Enum(a)})],e.prototype,"canseeType",void 0),o=r([l,p("shooter/ShootManager")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../plugin_boosts/misc/PoolManager":"PoolManager"}],Signal:[function(t,e,o){"use strict";cc._RF.push(e,"bf602DYuhZP7Z8VfN9eJFzO","Signal"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.allReceivers=[]}return t.prototype.add=function(t,e){this.allReceivers.find(function(o){return o.c==t&&o.t==e})||this.allReceivers.push({c:t,t:e})},t.prototype.remove=function(t,e){this.allReceivers=this.allReceivers.filter(function(o){return o.c!=t&&o.t!=e})},t.prototype.fire=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.allReceivers.forEach(function(e){var o;e.c?(o=e.c).call.apply(o,[e.t].concat(t)):console.warn("not found callback ",e.c,e.t)})},t.prototype.on=function(t,e){this.add(t,e)},t.prototype.off=function(t,e){this.remove(t,e)},t.prototype.clear=function(){this.allReceivers.splice(0)},t}();o.default=n,cc._RF.pop()},{}],SkinInfo:[function(t,e,o){"use strict";cc._RF.push(e,"c73b0gTYLJIRLfjxy5PdNb7","SkinInfo");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(t){this.id=0,this.lv=0,this.type="",this.eggId="",this.birdId="",this.color=[];var e=csv.SkinInfo.get(t);this.id=e.Id,this.lv=e.Lv,this.type=e.Type;var o=e.Id>9?e.Id.toString():"0"+e.Id;this.birdId=o,this.eggId=o,this.color=e.Color.split(",").map(function(t){return parseInt(t)})}return n([r],t)}());o.default=a,cc._RF.pop()},{}],Skins:[function(t,e,o){"use strict";cc._RF.push(e,"ec3513Ki1ZHS4G3Ta8dSLIt","Skins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../framework/plugin_boosts/utils/EventManager"),c=t("../../../../framework/plugin_boosts/ui/PandoraPoint"),s=t("../../Logic/PlayerInfo"),l=t("../../Module/SkinInfo"),u=t("../../Module/model_manager"),p=cc._decorator,f=p.ccclass,d=(p.property,p.menu),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.event.on("PlayerInfo.level",this.onLevelChanged,this),a.event.on("PlayerInfo.coin",this.onLevelChanged,this),a.event.on("PlayerInfo.ADSkinCount",this.onLevelChanged,this),this.point=this.node.getComponent(c.default)},e.prototype.onDestroy=function(){a.event.off(this)},e.prototype.start=function(){this.onLevelChanged()},e.prototype.isSkinLock=function(){for(var t=csv.SkinInfo.values,e=0;e<t.length;e++){var o=u.default.get(l.default,t[e].Id);if("1"==o.type&&!s.PlayerInfo.islock(o.id)&&s.PlayerInfo.level>=o.lv)return!0;if("2"==o.type&&!s.PlayerInfo.islock(o.id)&&s.PlayerInfo.coin>=500)return!0;if("3"==o.type&&!s.PlayerInfo.islock(o.id)&&s.PlayerInfo.coin>=1e3)return!0;if("4"==o.type&&!s.PlayerInfo.islock(o.id))return!0}return!1},e.prototype.onLevelChanged=function(){this.isSkinLock(s.PlayerInfo.skinList)?this.point.setNumber(1):this.point.setNumber(0)},r([f,d("Game/redpoints/Skins")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/plugin_boosts/ui/PandoraPoint":"PandoraPoint","../../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../Logic/PlayerInfo":"PlayerInfo","../../Module/SkinInfo":"SkinInfo","../../Module/model_manager":"model_manager"}],SoundHelper:[function(t,e,o){"use strict";cc._RF.push(e,"09a8fa41vxIUZkdgCG77DBM","SoundHelper"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.int=function(){for(var t=0;t<this.music.length;t++)this.music[t].id=-1;cc.sys.platform===cc.sys.QQ_PLAY&&(this.QQMusic=[new BK.Audio(0,"GameRes://"+this.music[0].nativeUrl,-1),new BK.Audio(0,"GameRes://"+this.music[1].nativeUrl,-1),new BK.Audio(0,"GameRes://"+this.music[2].nativeUrl,-1)])},t.playMusic=function(t){if(t=void 0===t?0:t,cc.sys.platform===cc.sys.QQ_PLAY)return-1===this.music[t].id?(this.QQMusic[t].startMusic(),this.music[t].id=1):this.QQMusic[t].resumeMusic(),void(0!==t&&(this.qqFlag=!1));-1===this.music[t].id?this.music[t].id=cc.audioEngine.play(this.music[t],!0,this.musicVolume):cc.audioEngine.resume(this.music[t].id)},t.getSoundContext=function(){var t=this._soundContext[this._soundContext.length];return t?this._soundContext.pop():t=BK.createAudioContext(),t},t.playSound2=function(t){new BK.Audio(1,"GameRes://"+t.toString(),1).startMusic(t)},t.playSound=function(t){null==this.QQSoundContext&&(this.QQSoundContext=BK.createAudioContext({type:"effect"})),this.QQSoundContext.src="GameRes://"+t.toString(),this.QQSoundContext.play()},t.stopMusic=function(t){if(t=void 0===t?0:t,-1!==this.music[t].id){if(cc.sys.platform===cc.sys.QQ_PLAY)return this.QQMusic[t].stopMusic(),this.music[t].id=-1,void(this.QQMusic[t]=new BK.Audio(0,"GameRes://"+this.music[t].nativeUrl,-1));cc.audioEngine.stop(this.music[t].id),this.music[t].id=-1}},t.pauseMusic=function(t){t=void 0===t?0:t,cc.sys.platform!==cc.sys.QQ_PLAY?-1!==this.music[t].id&&cc.audioEngine.AudioState.PLAYING===cc.audioEngine.getState(this.music[t].id)&&cc.audioEngine.pause(this.music[t].id):this.QQMusic[t].pauseMusic()},t.setMusicOff=function(t){if(t)this.playMusic();else for(var e=0;e<this.music.length;e++)this.pauseMusic(e)},t.setSoundOff=function(){},t.setMusicVolume=function(t){this.musicVolume=t;for(var e=0;e<this.music.length;e++)-1!==this.music[e].id&&cc.audioEngine.AudioState.PLAYING===cc.audioEngine.getState(this.music[e].id)&&cc.audioEngine.setVolume(this.music[e].id,this.musicVolume)},t.setSoundVolume=function(){},t.qqMusicResume=function(){cc.sys.platform===cc.sys.QQ_PLAY&&(-1!==this.music[1].id||-1!==this.music[2].id||this.qqFlag||this.playMusic(0))},t.musicVolume=1,t.music=[],t.QQSoundContext=null,t.qqFlag=!0,t._soundContext=[],t}();o.default=n,cc._RF.pop()},{}],SpriteFrameCache:[function(t,e,o){"use strict";cc._RF.push(e,"8756by7qCVIPpJ06/9qmobv","SpriteFrameCache");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){this.frames={}}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getSpriteFrame=function(t){return n(this,void 0,Promise,function(){var e,o=this;return i(this,function(){return null==(e=this.frames[t])?[2,new Promise(function(n,i){t&&""!=t?-1==t.indexOf("http")?cc.loader.loadRes(t,cc.SpriteFrame,function(e,r){e?i(e):r?(o.addSpriteFrame(t,r),n(r)):i("frameNull")}):cc.loader.load({url:t,type:"png"},function(r,a){r?i(r):a?(e=new cc.SpriteFrame(a),o.addSpriteFrame(t,e),n(e)):i("frameNull")}):i("empty-url")})]:[2,new Promise(function(t){return t(e)})]})})},t.prototype.addSpriteFrame=function(t,e){return this.frames[t]=e,e},t.prototype.clear=function(){for(var t in this.frames){var e=this.frames[t];cc.loader.release(e),delete this.frames[t]}},t.prototype.remove=function(t){var e=this.frames[t];cc.loader.release(e),delete this.frames[t]},t}();o.default=r,cc._RF.pop()},{}],StatHelper:[function(t,e,o){"use strict";cc._RF.push(e,"ffea2zBSx5P+ouhn0URQW2m","StatHelper");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i,r,a=cc._decorator,c=a.ccclass;a.property,function(t){t[t.paySuccess=0]="paySuccess",t[t.payFail=1]="payFail",t[t.tools=2]="tools",t[t.revive=3]="revive",t[t.award=4]="award"}(i=o.EventType||(o.EventType={})),function(t){t[t.Exit=0]="Exit",t[t.Win=1]="Win",t[t.Lose=2]="Lose"}(r=o.LevelEndEventType||(o.LevelEndEventType={}));var s=function(){function t(){}var e;return e=t,t.init=function(t){this._userId=t},t.startLevel=function(t,o){this.levelId=t,this.current_lv_desc=o,e.level_end_event=r.Exit,cc.sys.platform==cc.sys.WECHAT_GAME&&wx.aldStage.onStart({stageId:t,stageName:this.current_lv_desc,userId:this._userId}),this.isInLevel=!0},t.setLevelEndEvent=function(t){e.level_end_event=t},t.userAction=function(t,e,o){var n;cc.sys.platform==cc.sys.WECHAT_GAME&&(e?((n={})[e]=o,wx.aldSendEvent(t,n)):((n={}).userId=this._userId,wx.aldSendEvent(t)))},t.doLevelEvent=function(t,e,o,n,r){void 0===n&&(n=1),void 0===r&&(r="1"),this.isInLevel&&cc.sys.platform==cc.sys.WECHAT_GAME&&wx.aldStage.onRunning({stageId:this.levelId,stageName:this.current_lv_desc,userId:this._userId,event:i[t],params:{itemName:e,itemId:o,itemCount:n,itemMoney:r}})},t.endLevel=function(){var t="",o="";switch(e.level_end_event){case r.Win:t="\u5b8c\u6210\u5173\u5361",o="complete";break;case r.Lose:t="\u5173\u5361\u5931\u8d25",o="fail";break;case r.Exit:return t="\u4e2d\u9014\u9000\u51fa",void(o="fail")}cc.sys.platform==cc.sys.WECHAT_GAME&&wx.aldStage.onEnd({stageId:this.levelId,stageName:this.current_lv_desc,userId:this._userId,event:o,params:{desc:t}}),this.isInLevel=!1},t.level_end_event=r.Exit,t.current_lv_desc="",t.isInLevel=!1,t._userId="",t.levelId="0",e=n([c],t)}();o.default=s,cc._RF.pop()},{}],TTNativeAds:[function(t,e,o){"use strict";cc._RF.push(e,"b5781VghS5EvbqCfB3GI+UB","TTNativeAds"),Object.defineProperty(o,"__esModule",{value:!0}),o.TTNativeAds=void 0;var n=t("../NativeConstants"),i=function(){function t(t){this.mAdsCfg=null,this.mAdsCfg=t,console.log("Create TTNativeAds 123456789"),cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("TTAdsController","initAdsJSB:interstitial:reward:",t.bannerId||"",t.interstitialId||"",t.rewardId||""):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"initAds","(Ljava/lang/String;)V",JSON.stringify(t))}return t.prototype.showPrivacy=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"showPrivacy","()V")},t.prototype.showBanner=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("TTAdsController","showBannerJSB"):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"showBanner","()V")},t.prototype.removeBanner=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("TTAdsController","removeBannerJSB"):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"hideBanner","()V")},t.prototype.hasFeedAd=function(){return cc.sys.platform!==cc.sys.IPHONE&&cc.sys.platform!==cc.sys.IPAD&&(cc.sys.platform===cc.sys.ANDROID?!!this.mAdsCfg.feedId:void 0)},t.prototype.showFeedAd=function(t){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"showFeedAd","(Z)V",!!t)},t.prototype.hideFeedAd=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"hideFeedAd","()V")},t.prototype.showIconAds=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"showIconAds","()V")},t.prototype.hideIconAds=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"hideIconAds","()V")},t.prototype.showImageAd=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD||cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"showImageAd","()V")},t.prototype.showInterstitial=function(){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?jsb.reflection.callStaticMethod("TTAdsController","showInterstitialJSB"):cc.sys.platform===cc.sys.ANDROID&&jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"showInterstitial","()V")},t.prototype.isRewardVideoLoaded=function(t){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?(window.native.m_isRewardVideoLoadedCb=t,jsb.reflection.callStaticMethod("TTAdsController","isRewardVideoLoaded")):cc.sys.platform===cc.sys.ANDROID&&(window.native.m_rewardVideoCb=function(e,o){"isLoaded"===e&&t(0===o)},jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"isRewardVideoLoaded","()V"))},t.prototype.showRewardVideo=function(t){cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?(cc.game.pause(),window.native.m_rewardVideoCb=function(e){cc.game.resume(),t(0===e,-1===e)},jsb.reflection.callStaticMethod("TTAdsController","showRewardVideoJSB")):cc.sys.platform===cc.sys.ANDROID&&(window.native.m_rewardVideoCb=function(e,o){"isReward"===e&&t(0===o,-1===o)},jsb.reflection.callStaticMethod(n.NativeConstants.GAME_JNI_PATH,"showRewardVideo","()V"))},t}();o.TTNativeAds=i,cc._RF.pop()},{"../NativeConstants":"NativeConstants"}],Tag:[function(t,e,o){"use strict";cc._RF.push(e,"9511a3TKCdFVov4ovoriga0","Tag"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.Default=0]="Default",t[t.Bird=1]="Bird",t[t.Egg=2]="Egg",t[t.Block=3]="Block",t[t.TopBlock=4]="TopBlock",t[t.BottomBlock=5]="BottomBlock",t[t.Star=6]="Star",t[t.Perfect=7]="Perfect",t[t.Finish=8]="Finish",t[t.BlockCover=9]="BlockCover",t[t.Spike=10]="Spike",t[t.UI=11]="UI",t[t.Win=12]="Win",t[t.Bullet=13]="Bullet",t[t.InvincibleBlock=14]="InvincibleBlock",t[t.Other=15]="Other"}(o.Tag||(o.Tag={})),cc._RF.pop()},{}],TiledLayer2Objects:[function(t,e,o){"use strict";cc._RF.push(e,"41613defPhJSLPWxqbYGfTS","TiledLayer2Objects");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,a.menu),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mw=0,e.mh=0,e.tw=0,e.th=0,e}return i(e,t),e.prototype.onLoad=function(){this.tiledmap=this.getComponent(cc.TiledMap);var t=this.tiledmap.getMapSize();this.mw=t.width,this.mh=t.height;var e=this.tiledmap.getTileSize();this.tw=e.width,this.th=e.height,this.ht=cc.v2(this.tw/2,this.th/2)},e.prototype.start=function(){},e.prototype.IDX=function(t,e){return t instanceof cc.Vec2&&(e=t.y,t=t.x),e*this.mw+t},e.prototype.createObjects=function(t,e){if(null==this._objectFactory)return console.log("[Tiledlayer2object] no factory provided!");this.objectLayer=this.tiledmap.getLayer("objects"),this.objectLayer.enabled=!1;for(var o=0,n=[],i=0,r=0;r<this.mw;r++)for(var a=0;a<this.mh;a++){var c=cc.v2(r,a),s=this.objectLayer.getTileGIDAt(c);if(0!=s){var l=this.createObj(s,c);l&&(l.then(function(){return t&&t(++i,o)}).catch(function(t){return console.log(t)}),n.push(l))}}o=n.length,Promise.all(n).then(function(){e&&e(0)}).catch(function(t){e&&e(t)})},e.prototype.setFactory=function(t){this._objectFactory=t},e.prototype.createObj=function(t,e){var o=this.tiledmap.getPropertiesForGID(t);if(!t||o){var n=this.objectLayer.getPositionAt(e);return n.addSelf(cc.v2(this.ht.x,0)),this._objectFactory.createObject(this.objectLayer,n,o,this.IDX(e))}console.warn("gid :"+t+" has no properties")},r([c,s("Tiledmap\u5de5\u5177/TiledLayer2Objects")],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ToastComponent:[function(t,e,o){"use strict";cc._RF.push(e,"c4ad6Rf0DpFeay8D3aly6IU","ToastComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./UIFunctions"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return i(e,t),e.prototype.onLoad=function(){this.animations=a.default.getChildrenAnimations(this.node)},e.prototype.start=function(){},e.prototype.hide=function(t){this.node.active=!0,a.default.doHideAnimations(this.animations,t)||(this.node.active=!1,t&&t(this))},e.prototype.show=function(t){this.label.string=t,a.default.doShowAnimations(this.animations)},r([l(cc.Label)],e.prototype,"label",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./UIFunctions":"UIFunctions"}],ToastManager:[function(t,e,o){"use strict";cc._RF.push(e,"129ed5o6uNHDKhz6KoueBpN","ToastManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ToastComponent"),c=cc._decorator,s=c.ccclass,l=c.property;o.Toast=null;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){o.Toast=this},e.prototype.start=function(){this.toastPool=new cc.NodePool},e.prototype.onDestroy=function(){this.toastPool.clear()},e.prototype.make=function(t,e){void 0===e&&(e=1.3);var o=this.toastPool.get(),n=null;return null==o?null==(n=(o=cc.instantiate(this.prefab)).getComponent(a.default))&&console.warn("Toast.make : Toast Prefab must contains ToastComponent"):n=o.getComponent(a.default),null==o.parent&&this.node.addChild(o,99999),this.show(n,t,e),n},e.prototype.show=function(t,e,o){var n=this;t.show(e),this.scheduleOnce(function(){t.hide(function(){n.toastPool.put(t.node),console.log("Toast.hide toastpool size:",n.toastPool.size())})},o)},r([l(cc.Prefab)],e.prototype,"prefab",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./ToastComponent":"ToastComponent"}],UIBirdTip:[function(t,e,o){"use strict";cc._RF.push(e,"3c52aAcTY1Mg6YBIqs/QPTb","UIBirdTip");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../framework/plugin_boosts/ui/mvc_View"),l=t("../Game/BirdManager"),u=t("../../../framework/plugin_boosts/utils/EventManager"),p=cc._decorator,f=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.op=null,e.label=null,e.icon=null,e.tiptipe={begin:["\u51b2\u9e2d\uff01\u8fce\u96be\u800c\u4e0a\uff01","\u6211\u53bb\u4e70\u51e0\u4e2a\u6a58\u5b50\uff01","\u9e1f\u4f60\u592a\u7f8e\uff01","\u72b9\u8c6b\u5c31\u4f1a\u8d25\u5317\uff01","\u6765\u4e86\u8001\u5f1f\uff01"],lose:["\u6211\u592a\u96be\u4e86...","\u8fd8\u662f\u5403\u5f97\u592a\u9971\u4e86...","\u6211\u67af\u4e86...","\u559d\u4e86\u5047\u9152...","\u6d3b\u4e0d\u8fc7\u4e09\u96c6..."],win:["\u5965\u5229\u7ed9","\u82cf\u5582\u82cf\u5582\u82cf\u5582","\u597d\u593a\u76ee\u597d\u70ab\u5f69","\u679c\u65ad\u5c31\u4f1a\u767d\u7ed9","\u6211\u8981\u9009\u674e\u767d"]},e.type="",e}return i(e,t),e.prototype.onLoad=function(){this.register(this.label,this.refreshLabel.bind(this)),this.register(this.icon,this.refreshIcon.bind(this))},e.prototype.onShown=function(t){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.type=t,this.setPos(),this.render(),"lose"==this.type?this.op.opacity=100:this.op.opacity=255,[4,u.event.sleep(2)];case 1:return e.sent(),vm.hide(this),[2]}})})},e.prototype.start=function(){},e.prototype.refreshLabel=function(){var t=Math.floor(5*Math.random());return this.tiptipe[this.type][t]},e.prototype.refreshIcon=function(){var t=Math.floor(3*Math.random());return console.log(t),"Texture/qipao"+t},e.prototype.setPos=function(){this.node.setParent(null),l.bm.node.addChild(this.node)},e.prototype.update=function(){"lose"!=this.type&&l.bm.bb.node&&this.node.setPosition(l.bm.bb.node.position.x,l.bm.bb.node.position.y+l.bm.bb.node.height)},r([d(cc.Node)],e.prototype,"op",void 0),r([d(cc.Label)],e.prototype,"label",void 0),r([d(cc.Sprite)],e.prototype,"icon",void 0),r([f],e)}(s.default);o.default=h,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../Game/BirdManager":"BirdManager"}],UICheck:[function(t,e,o){"use strict";cc._RF.push(e,"e25d7Z4TqtDHaAConIfZH/d","UICheck");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../../../framework/weak_net_game/WeakNetGame"),s=t("../Logic/PlayerInfo"),l=t("../Module/model_manager"),u=t("../../../framework/plugin_boosts/ui/ToastManager"),p=t("../Module/CheckInfo"),f=t("../Module/SkinInfo"),d=cc._decorator,h=d.ccclass,y=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_get=null,e.btn_close=null,e.layout=null,e.data=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.onClick(this.btn_get,this.click_get.bind(this)),this.onClick(this.btn_close,this.click_close.bind(this)),this.register(this.layout,function(){return t.data}),this.onInteractable(this.btn_get,function(){return t.checkEnable()})},e.prototype.checkEnable=function(){return new Date(s.PlayerInfo.timestamp).toDateString()!==(new Date).toDateString()&&(console.log(new Date(s.PlayerInfo.timestamp).toISOString().slice(0,10)),!0)},e.prototype.start=function(){},e.prototype.onShown=function(){this.data=csv.CheckIn.values.map(function(t){return l.default.get(p.default,t.Id)}),this.render(this.data)},e.prototype.isAllSkin=function(){var t=[];return csv.SkinInfo.values.forEach(function(e){"4"!=l.default.get(f.default,e.Id).type||s.PlayerInfo.islock(e.Id)||t.push(e.Id)}),t},e.prototype.getReward=function(t){void 0===t&&(t=1);var e=l.default.get(p.default,s.PlayerInfo.checkInNum);if(2==e.id)if(s.PlayerInfo.islock(e.skinid)){u.Toast.make("\u8be5\u76ae\u80a4\u5df2\u62e5\u6709,\u83b7\u5f97200\u91d1\u5e01\u8865\u507f");var o=200;s.PlayerInfo.coin+=o*t}else s.PlayerInfo.unlockSkin(e.skinid),u.Toast.make("\u5df2\u89e3\u9501\u8759\u8760\u4fa0\u76ae\u80a4");else if(7==e.id){var n=this.isAllSkin();if(0==n.length)u.Toast.make("\u5df2\u89e3\u9501\u5168\u90e8\u5e7f\u544a\u76ae\u80a4, \u83b7\u5f97200\u91d1\u5e01\u8865\u507f"),o=200,s.PlayerInfo.coin+=o*t;else{var i=g.randomInt(0,n.length-1);s.PlayerInfo.unlockSkin(n[i]),s.PlayerInfo.save("skinList"),u.Toast.make("\u606d\u559c\u89e3\u9501\u65b0\u76ae\u80a4")}}else o=Number(e.reward),s.PlayerInfo.coin+=o*t;s.PlayerInfo.save("coin"),s.PlayerInfo.checkInNum+=1,s.PlayerInfo.timestamp=(new Date).getTime(),s.PlayerInfo.save("timestamp"),this.render(),s.PlayerInfo.checkInNum>=8&&(s.PlayerInfo.checkInNum=1),s.PlayerInfo.save("checkInNum")},e.prototype.click_ad=function(){var t=this;c.default.doChoice("SOV_Double_Check",function(){t.getReward(2),t.render()},this,this.fail)},e.prototype.fail=function(){},e.prototype.click_close=function(){vm.hide(this)},e.prototype.click_get=function(){this.getReward(1),vm.hide(this)},r([y(cc.Node)],e.prototype,"btn_get",void 0),r([y(cc.Node)],e.prototype,"btn_close",void 0),r([y(cc.Layout)],e.prototype,"layout",void 0),r([h],e)}(a.default);o.default=_,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Logic/PlayerInfo":"PlayerInfo","../Module/CheckInfo":"CheckInfo","../Module/SkinInfo":"SkinInfo","../Module/model_manager":"model_manager"}],UIChoseLevel:[function(t,e,o){"use strict";cc._RF.push(e,"a184deiQa1K/rdSSKZP4H5Z","UIChoseLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../Module/model_manager"),s=t("../Module/LevelInfo"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bt_back=null,e.layout1=null,e.layout2=null,e.layout3=null,e.layout4=null,e.layout5=null,e.data=[],e.data1=[],e.data2=[],e.data3=[],e.data4=[],e.data5=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.onClick(this.bt_back,this.click_back.bind(this)),this.register(this.layout1,function(){return t.data1}),this.register(this.layout2,function(){return t.data2}),this.register(this.layout3,function(){return t.data3}),this.register(this.layout4,function(){return t.data4}),this.register(this.layout5,function(){return t.data5})},e.prototype.onShown=function(){var t=this;this.data1=[],this.data2=[],this.data3=[],this.data4=[],this.data5=[],this.data=csv.LevelInfo.values.map(function(t){return c.default.get(s.default,t.Id)}),this.data.forEach(function(e){1==e.scene&&t.data1.push(e),2==e.scene&&t.data2.push(e),3==e.scene&&t.data3.push(e),4==e.scene&&t.data4.push(e),5==e.scene&&t.data5.push(e)}),this.render()},e.prototype.click_back=function(){vm.hide(this)},r([p(cc.Node)],e.prototype,"bt_back",void 0),r([p(cc.Layout)],e.prototype,"layout1",void 0),r([p(cc.Layout)],e.prototype,"layout2",void 0),r([p(cc.Layout)],e.prototype,"layout3",void 0),r([p(cc.Layout)],e.prototype,"layout4",void 0),r([p(cc.Layout)],e.prototype,"layout5",void 0),r([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../Module/LevelInfo":"LevelInfo","../Module/model_manager":"model_manager"}],UIFunctions:[function(t,e,o){"use strict";cc._RF.push(e,"10205trRZVOELcrvc3TW2mW","UIFunctions"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getChildrenAnimations=function(t){var e=[];(n=t.getComponent(cc.Animation))&&e.push(n);for(var o=0;o<t.childrenCount;o++){var n;(n=t.children[o].getComponent(cc.Animation))&&e.push(n)}return e},t.stopAnimations=function(t){t.forEach(function(t){t.stop()})},t.doShowAnimations=function(t,e,o){var n,i=0;if(t.forEach(function(t){var e=t.getClips();if(e.length>0){var o=e[0];t.play(o.name).wrapMode=cc.WrapMode.Normal,o.duration>i&&(i=o.duration,n=t)}}),e){var r=function(){n&&n.off("finished",r),e.call(o)};n?n.on("finished",r):e.call(o)}},t.isAnimationRunning=function(){return!1},t.doHideAnimations=function(t,e,o){var n,i=!1,r=0;if(t.forEach(function(t){var e=t.getClips();if(2==e.length){var o=e[e.length-1];i=!0,t.play(o.name),o.duration>r&&(r=o.duration,n=t)}else 1==e.length&&(o=e[0],i=!0,t.play(o.name).wrapMode=cc.WrapMode.Reverse,o.duration>r&&(r=o.duration,n=t))}),n&&e){var a=function(){n.off("finished",a),e.call(o)};n.on("finished",a)}return i},t.getToggleIndex=function(t){for(var e=t.node.getParent(),o=0;o<e.childrenCount;o++){var n=e.children[o];if(t.node==n)return o}return-1},t.selectToggleIndex=function(t,e){if(null!=t){var o=t.children[e];if(o){var n=o.getComponent(cc.Toggle);n&&(console.log("[UIFunction.selectToggleIndex] :"+e),n.check())}else console.warn("[UIFunction.selectToggleIndex] :cannot find toggle with index:"+e)}else console.warn("[UIFunction.selectToggleIndex] : invalid toggleContainer :")},t.setTouchEnabled=function(t,e){g.foreachNode(t,function(t){var o=t.getComponent(cc.Button);o&&(console.log("[UIFunction] "+t.name+" touch : "+e),o.interactable=e)})},t}();o.default=n,cc._RF.pop()},{}],UIGuide:[function(t,e,o){"use strict";cc._RF.push(e,"1cf63LQ2lNHgbZQXQfgta0C","UIGuide");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../Game/BirdManager"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Btn_continue=null,e.pageView=null,e}return i(e,t),e.prototype.onLoad=function(){this.onClick(this.Btn_continue,this.click_continue.bind(this)),this.node.zIndex=999},e.prototype.onShown=function(){c.bm.pauseGame()},e.prototype.click_continue=function(){var t=this.pageView.getCurrentPageIndex();2==t?(vm.hide(this),c.bm.resumeGame()):this.pageView.scrollToPage(t+1,.3)},r([u(cc.Node)],e.prototype,"Btn_continue",void 0),r([u(cc.PageView)],e.prototype,"pageView",void 0),r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../Game/BirdManager":"BirdManager"}],UILevelItem:[function(t,e,o){"use strict";cc._RF.push(e,"3b908WM6sFKWav7R0SqTi9W","UILevelItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Logic/PlayerInfo"),c=t("../Common/LoadingScene"),s=t("../../../framework/plugin_boosts/ui/ToastManager"),l=t("../../../framework/plugin_boosts/ui/mvc_View"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label_level=null,e.node_lock=null,e.node_cursor=null,e.node_btn=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.register(this.label_level,function(){return t.LevelNum()}),this.onClick(this.node_btn,this.click_level.bind(this)),this.onInteractable(this.node_btn,this.checkEnable.bind(this))},e.prototype.LevelNum=function(){return this.getData().id.toString()},e.prototype.click_level=function(){var t=this.getData();a.PlayerInfo.level<t.id?s.Toast.make("\u672a\u89e3\u9501"):(vm.hide(this),a.PlayerInfo.playinglevel=t.id,a.PlayerInfo.save("playinglevel"),c.default.goto("Main",t.content))},e.prototype.checkEnable=function(){var t=this.getData();return a.PlayerInfo.level<t.id?(this.node_lock.active=!0,!1):(this.node_lock.active=!1,!0)},r([f(cc.Label)],e.prototype,"label_level",void 0),r([f(cc.Node)],e.prototype,"node_lock",void 0),r([f(cc.Node)],e.prototype,"node_cursor",void 0),r([f(cc.Node)],e.prototype,"node_btn",void 0),r([p],e)}(l.default);o.default=d,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../Common/LoadingScene":"LoadingScene","../Logic/PlayerInfo":"PlayerInfo"}],UILose:[function(t,e,o){"use strict";cc._RF.push(e,"2df52h2nAxHNbpT1GnyFVX2","UILose");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../framework/plugin_boosts/ui/mvc_View"),l=t("../../../framework/weak_net_game/WeakNetGame"),u=t("../Game/Unity"),p=t("../Game/BirdManager"),f=t("../Common/LoadingScene"),d=t("../Logic/PlayerInfo"),h=t("../Module/model_manager"),y=t("../Module/PerformanceInfo"),_=t("../../../framework/Platform"),g=cc._decorator,v=g.ccclass,m=g.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bt_resurgence=null,e.bt_restart=null,e.bt_flaunt=null,e.bt_return=null,e.bt_tiao=null,e.flaunt_coin=null,e.label_score=null,e.label_best=null,e.label_coin=null,e.label_counter=null,e.label_Performance=null,e.share_icon=null,e.isdistance=!1,e.score=0,e.counter=2,e.isShare=!0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.onClick(this.bt_resurgence,this.click_revive.bind(this)),this.onClick(this.bt_return,this.click_return.bind(this)),this.onClick(this.bt_tiao,this.click_tiao.bind(this)),this.onClick(this.bt_flaunt,this.click_flaunt.bind(this)),this.register(this.share_icon,function(){return u.default.iconSOV(l.default.getChoice("SOV_Revive_Game"))}),this.register(this.label_score,this.showScore.bind(this)),this.register(this.label_Performance,this.setLabel.bind(this)),this.register(this.label_best,function(){return t.isdistance?d.PlayerInfo.bestdistance:d.PlayerInfo.best.toString()}),this.register(this.label_coin,function(){return"+"+d.PlayerInfo.lv_coin}),this.onInteractable(this.bt_flaunt,this.checkflaunt.bind(this)),cc.tween(this.bt_resurgence).repeatForever(cc.tween().to(.5,{scale:1.1}).to(.5,{scale:1})).start()},e.prototype.click_tiao=function(){this.bt_tiao.active=!1,this.bt_resurgence.active=!1,this.bt_restart.active=!0,this.bt_restart.x=0,this.bt_return.active=!0,this.scheduleOnce(function(){_.default.showFeedAd(!0)},.5)},e.prototype.click_flaunt=function(){var t=l.default.shareConfigs.default;t&&t.title&&(t.title="\u6211\u8f7b\u677e\u62ff\u5230\u4e86"+this.score+"\u5206\uff0c\u6562\u6765\u6311\u6218\u6211\u5417\uff01\uff1f"),_.default.doShare(t,this.getAward,this)},e.prototype.checkflaunt=function(){return!!this.isShare},e.prototype.getAward=function(){return a(this,void 0,void 0,function(){return c(this,function(){return this.isShare=!1,this.bt_flaunt.active=!1,p.bm.hud.flyCoin(this.flaunt_coin,100,!0),this.render(),[2]})})},e.prototype.setLabel=function(){for(var t=csv.Performance.values.map(function(t){return h.default.get(y.default,t.Id)}),e=0;e<t.length;e++)if(this.isdistance){if(d.PlayerInfo.distance>=t[e].distance1&&d.PlayerInfo.distance<=t[e].distance2)return cc.js.formatStr("\u60a8\u6b64\u6b21\u5f97\u5206\u5df2\u7ecf\u6253\u8d25\u4e86\u5168\u56fd%s\u7684\u73a9\u5bb6",t[e].percentage)}else if(d.PlayerInfo.tmpscore>=t[e].score1&&d.PlayerInfo.tmpscore<=t[e].score2)return cc.js.formatStr("\u60a8\u6b64\u6b21\u5f97\u5206\u5df2\u7ecf\u6253\u8d25\u4e86\u5168\u56fd%s\u7684\u73a9\u5bb6",t[e].percentage)},e.prototype.showScore=function(){return-1==d.PlayerInfo.playinglevel?d.PlayerInfo.distance.toString():(console.log(d.PlayerInfo.tmpscore),d.PlayerInfo.tmpscore.toString())},e.prototype.onShown=function(){this.isShare=!0,l.default.is_forbidden&&(this.flaunt_coin.active=!1),-1==d.PlayerInfo.playinglevel?(this.isdistance=!0,d.PlayerInfo.distance>d.PlayerInfo.bestdistance&&(d.PlayerInfo.bestdistance=d.PlayerInfo.distance)):this.isdistance=!1,-1==d.PlayerInfo.playinglevel&&(this.isdistance=!0),d.PlayerInfo.isRevive?this.normalState():(this.bt_restart.active=!1,this.bt_flaunt.active=!1,this.bt_resurgence.active=!0,this.counter=2,this.unschedule(this.countdown),this.schedule(this.countdown,1)),this.bt_tiao.active=!1,d.PlayerInfo.upRank(),this.score=d.PlayerInfo.tmpscore,this.render(),d.PlayerInfo.tmpscore=0,d.PlayerInfo.save()},e.prototype.countdown=function(){this.counter--,0==this.counter&&(this.counter=2,this.unschedule(this.countdown),this.bt_tiao.active=!0,this.bt_tiao.opacity=0,cc.tween(this.bt_tiao).to(.5,{opacity:255}).start())},e.prototype.onHidden=function(){this.unschedule(this.countdown)},e.prototype.normalState=function(){this.bt_resurgence.active=!1,this.bt_restart.active=!0,this.bt_restart.x=0,this.bt_return.active=!0},e.prototype.start=function(){},e.prototype.click_revive=function(){var t=this;l.default.doChoice("SOV_Revive_Game",function(){p.bm.revive(),vm.hide(t)},this)},e.prototype.click_restart=function(){d.PlayerInfo.tmpscore=0,f.default.goto("Main")},e.prototype.click_return=function(){d.PlayerInfo.tmpscore=0,f.default.goto("Home")},r([m(cc.Node)],e.prototype,"bt_resurgence",void 0),r([m(cc.Node)],e.prototype,"bt_restart",void 0),r([m(cc.Node)],e.prototype,"bt_flaunt",void 0),r([m(cc.Node)],e.prototype,"bt_return",void 0),r([m(cc.Node)],e.prototype,"bt_tiao",void 0),r([m(cc.Node)],e.prototype,"flaunt_coin",void 0),r([m(cc.Label)],e.prototype,"label_score",void 0),r([m(cc.Label)],e.prototype,"label_best",void 0),r([m(cc.Label)],e.prototype,"label_coin",void 0),r([m(cc.Label)],e.prototype,"label_counter",void 0),r([m(cc.Label)],e.prototype,"label_Performance",void 0),r([m(cc.Sprite)],e.prototype,"share_icon",void 0),r([v],e)}(s.default);o.default=b,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Common/LoadingScene":"LoadingScene","../Game/BirdManager":"BirdManager","../Game/Unity":"Unity","../Logic/PlayerInfo":"PlayerInfo","../Module/PerformanceInfo":"PerformanceInfo","../Module/model_manager":"model_manager"}],UINewSkin:[function(t,e,o){"use strict";cc._RF.push(e,"7cd69n4oL1L2pnhCVPnB2Nc","UINewSkin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../Logic/PlayerInfo"),s=t("../../../framework/plugin_boosts/ui/ToastManager"),l=t("../../../framework/plugin_boosts/utils/EventManager"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bt_select=null,e.bt_later=null,e.birdIcon=null,e.data=null,e}return i(e,t),e.prototype.onLoad=function(){this.register(this.birdIcon,this.setIcon.bind(this)),this.onClick(this.bt_select,this.click_select.bind(this)),this.onClick(this.bt_later,this.click_later.bind(this))},e.prototype.onShown=function(t){this.data=t,this.render()},e.prototype.setIcon=function(){return console.log(this.data),"Texture/birds/start_"+this.data.birdId},e.prototype.click_select=function(){c.PlayerInfo.birdID=this.data.id,c.PlayerInfo.save("birdID"),c.PlayerInfo.eggID=this.data.id,c.PlayerInfo.save("eggID"),s.Toast.make("\u5df2\u66f4\u6362"),l.event.emit("changeBirdID"),this.scheduleOnce(this.click_later,.5)},e.prototype.click_later=function(){this.unschedule(this.click_later),vm.hide(this)},r([f(cc.Node)],e.prototype,"bt_select",void 0),r([f(cc.Node)],e.prototype,"bt_later",void 0),r([f(cc.Sprite)],e.prototype,"birdIcon",void 0),r([p],e)}(a.default);o.default=d,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../Logic/PlayerInfo":"PlayerInfo"}],UIOpenID:[function(t,e,o){"use strict";cc._RF.push(e,"ac87dM95hlAjZWDrvvd7obB","UIOpenID");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Logic/PlayerInfo"),c=t("../../../framework/plugin_boosts/ui/ToastManager"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDoubleClick=function(){CC_WECHATGAME?wx.setClipboardData({data:a.PlayerInfo.userId,success:function(){wx.getClipboardData({success:function(t){console.log(t.data)}})}}):c.Toast.make("\u5df2\u590d\u5236")},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../Logic/PlayerInfo":"PlayerInfo"}],UIRank:[function(t,e,o){"use strict";cc._RF.push(e,"ab638HPY8tETqScReFhOaO1","UIRank");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/UIFunctions"),c=t("../../../framework/Platform"),s=t("../../../framework/plugin_boosts/ui/mvc_View"),l=t("../../../framework/plugin_boosts/utils/Common"),u=t("../../../framework/weak_net_game/WeakNetGame"),p=t("../../../framework/plugin_boosts/misc/Net"),f=t("../../../framework/plugin_boosts/ui/ToastManager"),d=t("../Logic/PlayerInfo"),h=cc._decorator,y=h.ccclass,_=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Idle=-2,e.Auth_Fail=-1,e.Loading_Rank=0,e.Loading_Auth=1,e.Rank_Loaded=2,e.Rank_load_Error=3,e.lvRank=0,e.status=0,e.close_btn=null,e.node_worldRank=null,e.subContext=null,e.layout=null,e.myRank={},e.scoreEnable=!0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){var t=this;this.onClick(this.close_btn,this.click_close.bind(this)),this.register(this.layout,function(){return t.ranklist},this.itemAtIndex.bind(this))},e.prototype.itemAtIndex=function(t,e,o){var n=l.default.find("head",t,cc.Sprite),i=l.default.find("bg",t,cc.Sprite),r=l.default.find("name",t,cc.Label),a=l.default.find("rank",t,cc.Label),c=l.default.find("score",t,cc.Label),s=l.default.find("rankIcon",t,cc.Sprite);s.node.active=!1,a.node.active=!1,o%2==0&&l.default.setDisplay(i,"Texture/rank/bg1"),o<3?(l.default.setDisplay(s,"Texture/rank/"+(o+1)),s.node.active=!0):(a.string=o+1,a.node.active=!0),l.default.setDisplay(n,e.avatarUrl),r.string=e.nickName||e.userId,c.string=this.scoreEnable?(e.level||0).toString()+"\u5173":(e.distance||0).toString()+"m"},e.prototype.start=function(){c.default.fix_wechat_subContext(this.subContext,this)},e.prototype.onDestroy=function(){c.default.hideRank()},e.prototype.onShown=function(){var t=this.levelGroup.toggleItems.find(function(t){return t.isChecked});0==a.default.getToggleIndex(t)?this.scoreEnable=!0:this.scoreEnable=!1;var e=this.radioGroup.toggleItems.find(function(t){return t.isChecked});0==a.default.getToggleIndex(e)?this.click_friend():this.click_world()},e.prototype.requestAll=function(){var t=this;c.default.checkAuth().then(function(e){null==e?(t.status=t.Auth_Fail,t.render()):d.PlayerInfo.authSave(e).then(function(){t.requestRank(),t.status=t.Loading_Rank,t.render()})}).catch(function(){t.status=t.Auth_Fail,t.render()})},e.prototype.requestRank=function(){var t=this;console.log(this.scoreEnable);var e={orderBy:this.scoreEnable?"level":"distance",page:1,row:20};u.default.client.httpGet(o.rankUrl,e).then(function(e){if(e==p.default.Code.Timeout)t.status=t.Rank_load_Error,t.render(),f.Toast.make("\u8bf7\u6c42\u8d85\u65f6");else if(e){var o=JSON.parse(e),n=o.data;n?(t.ranklist=n.list,t.myRank=n.my,t.scheduleOnce(function(){return t.ranklist=null},60),console.log(n),t.status=t.Rank_Loaded,t.render()):(t.status=t.Rank_load_Error,t.render(),f.Toast.make("\u52a0\u8f7d\u5931\u8d25\uff01"),console.error(o))}})},e.prototype.click_close=function(){vm.hide(this)},e.prototype.click_friend=function(){console.log("show friend rank"),this.node_worldRank.active=!1,this.subContext.node.active=!0,this.status=this.Idle,c.default.showRank("rank",this.scoreEnable?"level":"distance"),this.render()},e.prototype.click_world=function(){console.log("show world rank"),this.node_worldRank.active=!0,this.subContext.node.active=!1,this.status!=this.Auth_Fail&&(this.ranklist?this.render():this.requestAll())},e.prototype.click_score=function(){this.scoreEnable=!0;var t=this.radioGroup.toggleItems.find(function(t){return t.isChecked});0==a.default.getToggleIndex(t)?this.click_friend():this.requestAll()},e.prototype.click_distance=function(){this.scoreEnable=!1;var t=this.radioGroup.toggleItems.find(function(t){return t.isChecked});0==a.default.getToggleIndex(t)?this.click_friend():(this.requestAll(),this.render())},e.prototype.click_world_wx=function(t){t?a.default.selectToggleIndex(this.radioGroup.node,1):(this.status=this.Auth_Fail,this.node_worldRank.active=!0,this.subContext.node.active=!1,a.default.selectToggleIndex(this.radioGroup.node,1),this.render())},e.rankUrl="",r([_(cc.ToggleContainer)],e.prototype,"radioGroup",void 0),r([_(cc.ToggleContainer)],e.prototype,"levelGroup",void 0),r([_(cc.Node)],e.prototype,"close_btn",void 0),r([_(cc.Node)],e.prototype,"node_worldRank",void 0),r([_(cc.WXSubContextView)],e.prototype,"subContext",void 0),r([_(cc.Layout)],e.prototype,"layout",void 0),o=r([y],e)}(s.default);o.default=g,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/misc/Net":"Net","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/UIFunctions":"UIFunctions","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/Common":"Common","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Logic/PlayerInfo":"PlayerInfo"}],UISkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"7322bMXQR5Oy5U6D6dpdwP6","UISkinItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../Logic/PlayerInfo"),s=t("../../../framework/plugin_boosts/ui/ToastManager"),l=t("../../../framework/plugin_boosts/utils/EventManager"),u=cc._decorator,p=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label_level=null,e.skin=null,e.egg=null,e.node_btn=null,e.node_coin=null,e.btn_free=null,e.kuang=null,e.cursor=null,e.islock=!0,e}return i(e,t),e.prototype.onLoad=function(){this.register(this.label_level,this.unLock_lv.bind(this)),this.register(this.skin,this.setSkin.bind(this)),this.register(this.egg,this.setEgg.bind(this)),this.onClick(this.node_btn,this.click_getSkin.bind(this)),this.onVisible(this.kuang,this.xuanzhong.bind(this))},e.prototype.click_changeSkin=function(){if(!this.node_btn.active){this.cursorMove();var t=this.getData();c.PlayerInfo.birdID=t.id,c.PlayerInfo.save("birdID"),c.PlayerInfo.eggID=t.id,c.PlayerInfo.save("eggID"),l.event.emit("changeBirdID"),s.Toast.make("\u5df2\u66f4\u6362")}},e.prototype.unLock_lv=function(){var t=this.getData();return t.lv>1?c.PlayerInfo.islock(t.id)?(this.label_level.node.active=!0,this.btn_free.active=!1,this.node_coin.active=!1,this.skin.node.opacity=255,"\u5df2\u89e3\u9501"):"1"==t.type?"\u7b2c"+t.lv+"\u5173\u89e3\u9501":(this.label_level.node.active=!1,""):(this.skin.node.opacity=255,"\u5df2\u89e3\u9501")},e.prototype.click_getSkin=function(){var t=this.getData();this.cursorMove(),c.PlayerInfo.level<t.lv?s.Toast.make("\u672a\u89e3\u9501"):this.unlock()},e.prototype.cursorMove=function(){var t=this.node.convertToWorldSpaceAR(cc.v2(0,0));t=this.cursor.parent.convertToNodeSpaceAR(t),this.cursor.active=!0,this.cursor.setPosition(t)},e.prototype.xuanzhong=function(){return this.getData().id==c.PlayerInfo.birdID},e.prototype.unlock=function(){this.islock=!1;var t=this.getData();c.PlayerInfo.unlockSkin(t.id),c.PlayerInfo.save("skinList"),this.btn_free.active=!1,this.label_level.node.active=!0,this.skin.node.opacity=255,this.render(t)},e.prototype.setSkin=function(){return"Texture/birds/end_"+this.getData().birdId},e.prototype.setEgg=function(){var t=this.getData();return this.node_btn.active=!c.PlayerInfo.islock(t.id),"Texture/box/Bird"+t.eggId+"Egg"},r([f(cc.Label)],e.prototype,"label_level",void 0),r([f(cc.Sprite)],e.prototype,"skin",void 0),r([f(cc.Sprite)],e.prototype,"egg",void 0),r([f(cc.Node)],e.prototype,"node_btn",void 0),r([f(cc.Node)],e.prototype,"node_coin",void 0),r([f(cc.Node)],e.prototype,"btn_free",void 0),r([f(cc.Node)],e.prototype,"kuang",void 0),r([f(cc.Node)],e.prototype,"cursor",void 0),r([p],e)}(a.default);o.default=d,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../Logic/PlayerInfo":"PlayerInfo"}],UISkinShop:[function(t,e,o){"use strict";cc._RF.push(e,"4d673ynZhxMn71t+FQe1vKk","UISkinShop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../../../framework/weak_net_game/WeakNetGame"),s=t("../Game/Unity"),l=t("../Logic/PlayerInfo"),u=t("../Module/model_manager"),p=t("../Module/SkinInfo"),f=t("../../../framework/plugin_boosts/ui/ToastManager"),d=t("../../../framework/plugin_boosts/utils/EventManager"),h=t("./UISkinItem"),y=t("../../../framework/Platform"),_=cc._decorator,v=_.ccclass,m=_.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_unclick=null,e.cj_btn=null,e.free_btn=null,e.bt_extract=null,e.bt_freecoin=null,e.bt_return=null,e.bt_icon=null,e.Label_free=null,e.Cj_coinNum=null,e.pageView=null,e.layout1=null,e.layout2=null,e.layout3=null,e.layout4=null,e.cursor=null,e.toggle=null,e.data=[],e.data1=[],e.data2=[],e.data3=[],e.data4=[],e.nodeList=[],e.posList=[],e.count=0,e.ran=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.onClick(this.free_btn,this.click_freeskin.bind(this)),this.onClick(this.bt_extract,this.click_extract.bind(this)),this.onClick(this.bt_freecoin,this.click_freecoin.bind(this)),this.onClick(this.bt_return,this.click_return.bind(this)),this.register(this.Label_free,this.free_Count.bind(this)),this.register(this.bt_icon,function(){return s.default.iconSOV(c.default.getChoice("SOV_Free_Coin"))}),this.onInteractable(this.bt_freecoin,function(){return t.checkEnable()}),this.register(this.layout1,function(){return t.data1}),this.register(this.layout2,function(){return t.data2}),this.register(this.layout3,function(){return t.data3}),this.register(this.layout4,function(){return t.data4}),cc.find("Canvas/uiLayout/coin").zIndex=this.node.zIndex+99},e.prototype.free_Count=function(){return"\u5269\u4f59\u6b21\u6570:"+(5-l.PlayerInfo.freeCoinCount)+"/ 5"},e.prototype.onShown=function(){cc.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx onShown unskinshop"),d.event.on("changeBirdID",this.zzz,this),this.data=csv.SkinInfo.values.map(function(t){return u.default.get(p.default,t.Id)}),this.data1=this.data.slice(0,9),this.data2=this.data.slice(9,18),this.data3=this.data.slice(23),this.data4=this.data.slice(18,23),this.render(),this.page(),y.default.hideBannerAd()},e.prototype.zzz=function(){this.render()},e.prototype.showBird=function(){var t;t=l.PlayerInfo.birdID>0&&l.PlayerInfo.birdID<=9?0:l.PlayerInfo.birdID>9&&l.PlayerInfo.birdID<=18?1:2,this.pageView.scrollToPage(t,.2),console.log(l.PlayerInfo.birdID),this["layout"+(t+1)].node.children[l.PlayerInfo.birdID-9*t].getComponent(h.default).kuangMove()},e.prototype.click_freeskin=function(){var t=this;this.unschedule(this.changePos),this.count=0,this.posList=[],this.posList=this.getPos(4),this.posList.length>0?c.default.doChoice("SOV_Free_Skin",function(){t.node_unclick.active=!0,t.yaojiang()},this):f.Toast.make("\u5e7f\u544a\u76ae\u80a4\u5df2\u5168\u90e8\u89e3\u9501")},e.prototype.onHidden=function(){cc.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx onhide unskinshop"),y.default.showBannerAd(),d.event.off(this)},e.prototype.click_extract=function(){var t=this.pageView.getCurrentPageIndex(),e=500;2==t&&(e=1e3),l.PlayerInfo.coin<e?f.Toast.make("\u91d1\u5e01\u4e0d\u8db3"):(this.unschedule(this.changePos),this.count=0,this.posList=[],this.posList=this.getPos(t+1),this.posList.length>0?(this.node_unclick.active=!0,l.PlayerInfo.coin-=e,l.PlayerInfo.save("coin"),this.yaojiang()):f.Toast.make("\u672c\u9875\u91d1\u5e01\u76ae\u80a4\u5df2\u5168\u90e8\u89e3\u9501"))},e.prototype.yaojiang=function(){this.cursor.active=!0,this.ran=g.randomInt(3*this.posList.length+1,4*this.posList.length),this.schedule(this.changePos,.1)},e.prototype.changePos=function(){var t=this.count%this.posList.length;if(this.cursor.setPosition(this.posList[t]),this.count++,this.count==this.ran){this.unschedule(this.changePos),this.count=0;var e=this.pageView.getCurrentPageIndex()+1,o=this["layout"+e].node.children.indexOf(this.nodeList[t]),n=this["data"+e][o-1];this.node_unclick.active=!1,vm.show("UI/UINewSkin",n),this.nodeList[t].getComponent(h.default).unlock()}},e.prototype.getPos=function(t){var e=[];this.nodeList=[];var o=this,n=0;return 2==t&&(n=9),3==t&&(n=23),4==t&&(n=18),this["layout"+t].node.children.forEach(function(t,i){if(i>0&&!l.PlayerInfo.islock(n+i)){var r=t.convertToWorldSpaceAR(cc.v2(0,0));r=o.cursor.parent.convertToNodeSpaceAR(r),e.push(r),o.nodeList.push(t)}}),e},e.prototype.checkEnable=function(){return l.PlayerInfo.freeCoinCount<5},e.prototype.click_freecoin=function(){var t=this;c.default.doChoice("SOV_Free_Coin",function(){l.PlayerInfo.coin+=300,l.PlayerInfo.save("coin"),l.PlayerInfo.freeCoinCount+=1,l.PlayerInfo.save("freeCoinCount"),l.PlayerInfo.freeCoinTime=(new Date).getTime(),l.PlayerInfo.save("freeCoinTime"),t.render()},this)},e.prototype.click_return=function(){vm.hide(this)},e.prototype.page=function(){this.cursor.active=!1;var t=this.pageView.getCurrentPageIndex();0==t&&(this.cj_btn.active=!1,this.free_btn.active=!1,this.toggle.toggleItems[0].isChecked=!0),1!=t&&2!=t||(1==t?(this.Cj_coinNum.string="500",this.toggle.toggleItems[1].isChecked=!0):(this.Cj_coinNum.string="1000",this.toggle.toggleItems[2].isChecked=!0),this.cj_btn.active=!0,this.free_btn.active=!1),3==t&&(this.toggle.toggleItems[3].isChecked=!0,this.free_btn.active=!0,this.cj_btn.active=!1)},e.prototype.pageNum=function(){return this.pageView.getCurrentPageIndex()+1+"/4"},e.prototype.clickToggle=function(){var t=this.toggle.toggleItems.find(function(t){return t.isChecked});console.log(1111),0==this.toggle.toggleItems.indexOf(t)&&this.pageView.scrollToPage(0,.2),1==this.toggle.toggleItems.indexOf(t)&&this.pageView.scrollToPage(1,.2),2==this.toggle.toggleItems.indexOf(t)&&this.pageView.scrollToPage(2,.2),3==this.toggle.toggleItems.indexOf(t)&&this.pageView.scrollToPage(3,.2)},r([m(cc.Node)],e.prototype,"node_unclick",void 0),r([m(cc.Node)],e.prototype,"cj_btn",void 0),r([m(cc.Node)],e.prototype,"free_btn",void 0),r([m(cc.Node)],e.prototype,"bt_extract",void 0),r([m(cc.Node)],e.prototype,"bt_freecoin",void 0),r([m(cc.Node)],e.prototype,"bt_return",void 0),r([m(cc.Sprite)],e.prototype,"bt_icon",void 0),r([m(cc.Label)],e.prototype,"Label_free",void 0),r([m(cc.Label)],e.prototype,"Cj_coinNum",void 0),r([m(cc.PageView)],e.prototype,"pageView",void 0),r([m(cc.Layout)],e.prototype,"layout1",void 0),r([m(cc.Layout)],e.prototype,"layout2",void 0),r([m(cc.Layout)],e.prototype,"layout3",void 0),r([m(cc.Layout)],e.prototype,"layout4",void 0),r([m(cc.Node)],e.prototype,"cursor",void 0),r([m(cc.ToggleContainer)],e.prototype,"toggle",void 0),r([v],e)}(a.default);o.default=b,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Game/Unity":"Unity","../Logic/PlayerInfo":"PlayerInfo","../Module/SkinInfo":"SkinInfo","../Module/model_manager":"model_manager","./UISkinItem":"UISkinItem"}],UIWelfare:[function(t,e,o){"use strict";cc._RF.push(e,"09df2XCpyNDFa9arg8mH1+V","UIWelfare");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../framework/plugin_boosts/ui/mvc_View"),l=t("../Logic/PlayerInfo"),u=t("../../../framework/plugin_boosts/ui/ToastManager"),p=t("../../../framework/weak_net_game/WeakNetGame"),f=t("../Game/Unity"),d=t("../../../framework/plugin_boosts/utils/EventManager"),h=t("../Common/LoadingScene"),y=t("../../../framework/plugin_boosts/ui/LoadingManager"),_=cc._decorator,g=_.ccclass,v=_.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bt_select=null,e.birdIcon=null,e.bt_icon=null,e.bt_later=null,e.skinID=0,e}return i(e,t),e.prototype.onLoad=function(){cc.winSize.width,this.register(this.birdIcon,this.setIcon.bind(this)),this.register(this.bt_icon,function(){return f.default.iconSOV(p.default.getChoice("SOV_Try_Skin"))}),this.onClick(this.bt_select,this.click_select.bind(this)),this.onClick(this.bt_later,this.click_giveup.bind(this))},e.prototype.onShown=function(){y.Loading.loadingNode&&y.Loading.hide();var t=this.bt_later.getComponent(cc.Widget);csv.Config.Banner_Button_Switch?t.bottom=350:t.bottom=320,t.updateAlignment(),this.render()},e.prototype.setIcon=function(){var t=[];for(var e in l.PlayerInfo.skinList)l.PlayerInfo.islock(e)||t.push(e);if(t.length){var o=Math.floor(Math.random()*t.length);this.skinID=Number(t[o]);var n=this.skinID>9?this.skinID.toString():"0"+this.skinID;return console.log(n),"Texture/birds/start_"+n}},e.prototype.onHidden=function(){l.PlayerInfo.level>100&&(l.PlayerInfo.level=100),l.PlayerInfo.playinglevel=l.PlayerInfo.level,h.default.goto("Main")},e.prototype.click_select=function(){var t=this;p.default.doChoice("SOV_Try_Skin",function(){return a(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return l.PlayerInfo.birdID=this.skinID,l.PlayerInfo.eggID=this.skinID,l.PlayerInfo.unlockSkin(this.skinID),l.PlayerInfo.save("birdID"),l.PlayerInfo.save("eggID"),l.PlayerInfo.save("skinList"),u.Toast.make("\u5df2\u89e3\u9501"),d.event.emit("changeBirdID"),[4,d.event.sleep(.5)];case 1:return t.sent(),vm.hide(this),[2]}})})},this)},e.prototype.click_giveup=function(){vm.hide(this)},r([v(cc.Node)],e.prototype,"bt_select",void 0),r([v(cc.Sprite)],e.prototype,"birdIcon",void 0),r([v(cc.Sprite)],e.prototype,"bt_icon",void 0),r([v(cc.Node)],e.prototype,"bt_later",void 0),r([g],e)}(s.default);o.default=m,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/LoadingManager":"LoadingManager","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Common/LoadingScene":"LoadingScene","../Game/Unity":"Unity","../Logic/PlayerInfo":"PlayerInfo"}],UIWin:[function(t,e,o){"use strict";cc._RF.push(e,"cd4bddDFbRDS7Gmo9C8Opch","UIWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/ui/mvc_View"),c=t("../Logic/PlayerInfo"),s=t("../Common/LoadingScene"),l=t("../../../framework/Platform"),u=t("../../../framework/weak_net_game/WeakNetGame"),p=t("../Game/BirdManager"),f=cc._decorator,d=f.ccclass,h=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bt_flaunt=null,e.bt_next=null,e.bt_return=null,e.flaunt_coin=null,e.label_coin=null,e.label_nextLevel=null,e.label_tip=null,e.score=0,e.isShare=!0,e}return i(e,t),e.prototype.onLoad=function(){this.onClick(this.bt_flaunt,this.click_flaunt.bind(this)),this.onClick(this.bt_next,this.click_next.bind(this)),this.onClick(this.bt_return,this.click_return.bind(this)),this.register(this.label_coin,function(){return"+"+c.PlayerInfo.lv_coin}),this.register(this.label_nextLevel,function(){return""+(c.PlayerInfo.playinglevel+1)}),this.onInteractable(this.bt_flaunt,this.checkflaunt.bind(this))},e.prototype.click_flaunt=function(){var t=u.default.shareConfigs.default;t&&t.title&&(t.title="\u6211\u8f7b\u677e\u95ef\u4e86"+c.PlayerInfo.playinglevel+"\u5173\uff0c\u6562\u6765\u6311\u6218\u6211\u5417\uff01\uff1f"),l.default.doShare(t,this.getAward,this)},e.prototype.getAward=function(){this.isShare=!1,this.bt_flaunt.active=!1,p.bm.hud.flyCoin(this.flaunt_coin,100,!0),this.render()},e.prototype.checkflaunt=function(){return!!this.isShare},e.prototype.onShown=function(){this.isShare=!0,u.default.is_forbidden&&(this.flaunt_coin.active=!1),this.render(),100==c.PlayerInfo.playinglevel?(this.bt_next.active=!1,this.label_nextLevel.node.active=!1,this.label_tip.node.active=!0):this.label_tip.node.active=!1,this.scheduleOnce(function(){l.default.showFeedAd(!0)},.5),cc.sys.isNative&&(c.PlayerInfo.playinglevel%6!=0||cc.sys.localStorage.getItem("isAlreadyRate")||this.showRate())},e.prototype.showRate=function(){cc.loader.loadRes("sdk/Rate",cc.Prefab,function(t,e){var o=cc.instantiate(e);cc.find("Canvas").addChild(o),o.setSiblingIndex(1e3),o.getComponent("Rate").setCloseCallBack(function(t){t&&cc.sys.localStorage.setItem("isAlreadyRate","true")})})},e.prototype.click_freeCoin=function(){},e.prototype.click_next=function(){c.PlayerInfo.playinglevel+=1,c.PlayerInfo.save("playinglevel"),s.default.goto("Main",c.PlayerInfo.playinglevel)},e.prototype.click_return=function(){s.default.goto("Home")},e.prototype.click_share=function(){l.default.doShare(u.default.shareConfigs.Share_Rank)},e.prototype.onHidden=function(){},r([h(cc.Node)],e.prototype,"bt_flaunt",void 0),r([h(cc.Node)],e.prototype,"bt_next",void 0),r([h(cc.Node)],e.prototype,"bt_return",void 0),r([h(cc.Node)],e.prototype,"flaunt_coin",void 0),r([h(cc.Label)],e.prototype,"label_coin",void 0),r([h(cc.Label)],e.prototype,"label_nextLevel",void 0),r([h(cc.Label)],e.prototype,"label_tip",void 0),r([d],e)}(a.default);o.default=y,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/mvc_View":"mvc_View","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Common/LoadingScene":"LoadingScene","../Game/BirdManager":"BirdManager","../Logic/PlayerInfo":"PlayerInfo"}],Unity:[function(t,e,o){"use strict";cc._RF.push(e,"80239I7mc1KXZ60kCFKqYcE","Unity"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.iconSOV=function(t){return 0==t?this.Icon_Share:this.Icon_Video},Object.defineProperty(t,"physicsManager",{get:function(){return null==this._physics_mgr&&(this._physics_mgr=cc.director.getPhysicsManager()),this._physics_mgr},enumerable:!0,configurable:!0}),t.rayCast=function(t,e){return this.physicsManager.rayCast(t,t.add(e),cc.RayCastType.Closest)[0]},t.Icon_Share="Texture/share",t.Icon_Video="Texture/video",t._physics_mgr=null,t}();o.default=n,cc._RF.pop()},{}],UserInfo:[function(t,e,o){"use strict";cc._RF.push(e,"5062eor0C5GPJsX0SpxVY2X","UserInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/misc/DataCenter"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ip_cname="",e.ip_addr="",e.ip_s=0,e.lastLoginTime=0,e.isFirstLoginToday=!1,e.nickName="",e}return i(e,t),r([a.field()],e.prototype,"ip_cname",void 0),r([a.field()],e.prototype,"ip_addr",void 0),r([a.field()],e.prototype,"ip_s",void 0),r([a.field()],e.prototype,"lastLoginTime",void 0),r([a.field()],e.prototype,"isFirstLoginToday",void 0),r([a.field()],e.prototype,"nickName",void 0),r([a.dc("UserInfo")],e)}(a.default);o.default=c,o.UserInfo=a.default.register(c),cc._RF.pop()},{"../../../framework/plugin_boosts/misc/DataCenter":"DataCenter"}],Util:[function(t,e,o){"use strict";cc._RF.push(e,"c084ea7Yx1OWaQWMnAn2ZPi","Util"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../framework/plugin_boosts/utils/Common"),i=function(){function t(){}return t.setBrickStyle=function(t,e){var o=t.spriteFrame.name;if(o[0]>0){var i="Texture/brick/"+e+o.substr(1);n.default.setDisplay(t,i)}},t}();o.default=i,cc._RF.pop()},{"../../../framework/plugin_boosts/utils/Common":"Common"}],ViewManager:[function(t,e,o){"use strict";cc._RF.push(e,"c0f79TopoBICobmtQjrjutG","ViewManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./View"),c=t("../utils/EventManager"),s=t("../misc/Device"),l=cc._decorator,u=l.ccclass,p=l.property,f="[ViewManager]",d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._views={},e.modal=null,e.modalOpacity=160,e.audio_show=null,e.audio_hide=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.modal.active=!1,g.setGlobalInstance(this)},Object.defineProperty(e.prototype,"allViews",{get:function(){var t=this;return Object.keys(this._views).map(function(e){return t._views[e]})},enumerable:!0,configurable:!0}),e.prototype.onEnable=function(){},e.prototype.onDestroy=function(){for(var t in this._views)delete this._views[t]},e.prototype.start=function(){},e.prototype.getVisibleDialog=function(){var t=this;return Object.keys(this._views).map(function(e){return t._views[e]}).sort(function(t,e){return e.node.zIndex-t.node.zIndex}).find(function(t){return t.isDialog&&t.node.active})},e.prototype.hasVisibleDialog=function(){for(var t in this._views)if(this._views[t].isDialog&&this.isVisible(t))return!0;return!1},e.prototype.isVisible=function(t){var e;return!!(e="string"==typeof t?this._views[t]:t)&&e.node.active},e.prototype.view=function(t){return this._views[t]},e.prototype.attachViewComp=function(t){var e=null;return null!=e&&null!=e||(null==(e=t.getComponent(a.default))&&(e=t.addComponent(a.default)).init(t.name),this._views[e.name]=e),e},e.prototype.showView=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return this.modal.active=t.isDialog,(this.hasVisibleDialog()||t.isDialog)&&(this.modal.active=!0),t.isDialog&&(this.modal.opacity=t.opacity),this.updateZIndex(t),this.audio_show&&s.default.playEffect(this.audio_show),t.show.apply(t,e)},e.prototype.showFromPrefab=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];var i=this._views[e];if(null==i){var r=cc.instantiate(t);if(null==r)throw new Error("Error Occurs While Creating View:"+e);null==(i=r.getComponent(a.default))&&((i=r.addComponent(a.default)).isDialog=!0);var c=i.getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),i.init(e),this._views[e]=i,i.isDialog,this.node.addChild(r,1e3)}return this.node.color.setA(255),console.log(f,"show view:"+e),this.showView.apply(this,[i].concat(o))},e.prototype.showFromPrefabPath=function(t){for(var e=this,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];var i=this._views[t];if(null==i||null==i){console.log("start load prefab:"+t);var r=(new Date).getTime();return new Promise(function(n){cc.loader.loadRes(t,cc.Prefab,function(i,a){console.log(f,"prefab loaded : "+t+" "+((new Date).getTime()-r)+"ms"),e.showFromPrefab.apply(e,[a,t].concat(o)).then(n)})})}return this.modal.active=i.isDialog,(this.hasVisibleDialog()||i.isDialog)&&(this.modal.active=!0,this.modal.opacity=i.opacity),console.log(f,"show view:"+t,o),this.updateZIndex(i),this.audio_show&&s.default.playEffect(this.audio_show),i.show.apply(i,o)},e.prototype.preload=function(t){var e=this,o=this._views[t];null!=o&&null!=o||cc.loader.loadRes(t,cc.Prefab,function(n,i){console.log(f,"preload view"+t);var r=cc.instantiate(i),c=(o=r.getComponent(a.default)).getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),o.init(t),e._views[t]=o,o.isDialog,e.node.addChild(r,1e3),o.hide()})},e.prototype.disableTouch=function(t){var e=t.getComponent(a.default);e&&(e.touchEnabled=!1)},e.prototype.enableTouch=function(t){var e=t.getComponent(a.default);e&&(e.touchEnabled=!0)},e.prototype.show=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];t instanceof cc.Component&&(r=t.getComponent(a.default)).isDialog;for(var n=0;n<this.node.childrenCount;n++){var i=(r=this.node.children[n]).getComponent(a.default);i?i.topMost?r.zIndex=9999:r.zIndex=2*n:r.zIndex=n}if("string"==typeof t)return this.showFromPrefabPath.apply(this,[t].concat(e));if(null!=t&&null!=t){t.node&&(t=t.node);var r=this.attachViewComp(t);return this.showView.apply(this,[r].concat(e))}},e.prototype.updateZIndex=function(t){t.topMost||t.isDialog&&(t.node.zIndex=1e3,this.modal.zIndex=999)},e.prototype.hide=function(t,e){if(void 0===e&&(e=!0),"string"!=typeof t){if(null==t||null==t)return;t=this.attachViewComp(t).name}var o=this._views[t];if(null!=o&&null!=o){if(0==o.node.active)return;o.node.active=!1,o.isDialog&&(this.modal.active=!1),this.hasVisibleDialog()&&(this.modal.active=!0),e&&o.doHideAnimation(),o.onHidden(),this.audio_hide&&s.default.playEffect(this.audio_hide),c.event.emit(o.node.name+".onHidden"),c.event.emit("View.onHidden",o)}},e.prototype.checkViewStacks=function(){var t=this.getVisibleDialog();t&&(this.modal.active=!0,this.modal.opacity=t.opacity,this.updateZIndex(t))},e.prototype.hideAll=function(){for(var t in this._views)this.hide(t)},r([p(cc.Node)],e.prototype,"modal",void 0),r([p],e.prototype,"modalOpacity",void 0),r([p({type:cc.AudioClip})],e.prototype,"audio_show",void 0),r([p({type:cc.AudioClip})],e.prototype,"audio_hide",void 0),o=r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../misc/Device":"Device","../utils/EventManager":"EventManager","./View":"View"}],View:[function(t,e,o){"use strict";cc._RF.push(e,"e1217OaHDFCEbPP4vjLJXLh","View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ViewManager"),c=t("../utils/EventManager"),s=t("./UIFunctions"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDialog=!1,e.closeOnClick=!1,e.opacity=160,e.childrenAnimation=!1,e._topMost=!1,e.touchBlocker=null,e.touchBlockerComp=null,e.animations=[],e._isHiding=!1,e}return i(e,t),e.prototype.emit=function(t,e){c.event.emit(e)},e.prototype.call=function(t,e){g.execScript(e)},e.prototype.setDelegate=function(t){this.target=t},e.prototype.onLoad=function(){if(this.childrenAnimation)this.animations=s.default.getChildrenAnimations(this.node);else{var t=this.node.getComponent(cc.Animation);t&&this.animations.push(t)}for(var e=this.getComponents(cc.Component),o=0;o<e.length;o++){var n=e[o];if(n!=this&&(n.onShown||n.onShow||n.onHidden)){this.target=n;break}}this.isDialog&&this.closeOnClick&&(this.node.on(cc.Node.EventType.TOUCH_END,this.hide,this),this.node.children[0]&&this.node.children[0].addComponent(cc.BlockInputEvents)),this.animations.length},e.prototype.start=function(){this.touchEnabled=!0},e.prototype.init=function(t){this.name=t;var e=t.lastIndexOf("/")+1;this.node.name=t.substr(e)},e.prototype.hideAnimationCallback=function(){this.node.active=this.visible,a.default.instance.checkViewStacks()},e.prototype.doHideAnimation=function(){this.node.active=!0,this._isHiding=!0,s.default.doHideAnimations(this.animations,this.hideAnimationCallback,this)||(this.node.active=!1,this._isHiding=!1,a.default.instance.checkViewStacks()),console.log("[View] hide:",this.name),this._visibleDirty=!1},e.prototype.isInHideAnimation=function(){return this._isHiding},e.prototype.onHidden=function(){this._visibleDirty=!1,this.target&&this.target.onHidden&&this.target.onHidden()},e.prototype.hide=function(){this.touchEnabled=!1,a.default.instance.hide(this.node)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visibleDirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topMost",{get:function(){return this._topMost},set:function(t){this._topMost&&(this._topMost=t),this.node.zIndex=9999},enumerable:!0,configurable:!0}),e.prototype.showAnimationNextFrame=function(t){var e=this;this.scheduleOnce(function(){s.default.doShowAnimations(e.animations,t)},0)},Object.defineProperty(e.prototype,"touchEnabled",{get:function(){return!this.touchBlocker||!this.touchBlocker.active},set:function(t){this.touchBlocker&&(this.touchBlocker.active=!t)},enumerable:!0,configurable:!0}),e.prototype.show=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return this.node.active=!0,this.topMost&&(this.node.zIndex=9999),console.log("[View] show:",this.name,e),s.default.stopAnimations(this.animations),new Promise(function(o){var n,i=t;if(t.showAnimationNextFrame(function(){var t;i.touchEnabled||(i.touchEnabled=!0);var n=null;if(i.target&&i.target.onShown)try{n=(t=i.target).onShown.apply(t,e)}catch(r){i.error(r)}c.event.emit(i.node.name+".onShown.After",i,n,e),c.event.emit("View.onShown",i,n,e),o(i)}),t._visibleDirty=!0,c.event.emitDelay(0,i.node.name+".onShown.Before",i,e),c.event.emit("View.onShow",i,e),t.target&&t.target.onShow)try{(n=t.target).onShow.apply(n,e)}catch(r){t.error(r)}})},r([p],e.prototype,"isDialog",void 0),r([p],e.prototype,"closeOnClick",void 0),r([p],e.prototype,"opacity",void 0),r([p],e.prototype,"childrenAnimation",void 0),r([p({visible:!0,displayName:"topMost"})],e.prototype,"_topMost",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../utils/EventManager":"EventManager","./UIFunctions":"UIFunctions","./ViewManager":"ViewManager"}],WeakNetConf:[function(t,e){"use strict";cc._RF.push(e,"4481b8s/VJPaKfilvw1r7Oe","WeakNetConf"),cc._RF.pop()},{}],WeakNetGame:[function(t,e,o){"use strict";cc._RF.push(e,"0bcf4uw82lEiZu0xHGC+nQ4","WeakNetGame");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Platform"),a=t("../plugin_boosts/utils/EventManager"),c=t("../plugin_boosts/misc/Net"),s=t("../plugin_boosts/ui/ToastManager"),l=function(){function t(){}return Object.defineProperty(t,"isLoggedIn",{get:function(){return null!=this.logined_useId},enumerable:!0,configurable:!0}),t.requestConfig=function(){var t=this;if(!this.config_inited)return new Promise(function(e,o){c.net.httpGet(t.serverConfig.config_url+"?r="+Date.now()).then(function(n){n==c.default.Code.Timeout?o("timeout"):n?(t.config=JSON.parse(n),t.config_inited=!0,console.log("\u914d\u7f6e",t.config),e()):e()})})},t.requestShareConfig=function(){var t=this;if(!this.shareConfig_inited)return new Promise(function(e){c.net.httpGet(t.serverConfig.cdn_url+t.config.share_config_url+"?t="+Date.now()).then(function(o){o==c.default.Code.Timeout?e():o?(t.shareConfigs=JSON.parse(o),t.shareConfig_inited=!0,console.log("\u5206\u4eab\u914d\u7f6e",t.shareConfigs),e()):e()})})},t.downloadCsv=function(t){var e=this,o=Date.now(),n=this._configstr_cache[t];if(n&&o-n.timestamp<=1e4)return console.log("\u521a\u5df2\u4e0b\u8f7d\u5e76\u52a0\u8f7d\u8868\uff1a "+t),Promise.resolve();var i=this.serverConfig.cdn_url+this.config.csv_url+t+".csv?t="+Date.now();return new Promise(function(o){console.log("download csv:"+t),c.net.httpGet(i).then(function(n){n==c.default.Code.Timeout?csv.load("Config/csv/"+t,o):n?(csv.loadString(t,n,o),delete e._configstr_cache[t],e._configstr_cache[t]={timestamp:Date.now(),data:n}):csv.load("Config/csv/"+t,o)})})},t.loadLocalCsv=function(t,e){return new Promise(function(o){console.log("load local csv:"+t),csv.load("Config/csv/"+t,o),e&&e(t)})},t.loadLocalCsvs=function(t){var e=this;if(this.config.local_csv.length>0){var o=[];return this.config.local_csv.forEach(function(n){var i=e.loadLocalCsv(n,t);o.push(i)}),Promise.all(o)}},t.downloadCsvs=function(){var t=this;if(0!=this.config.csv.length){var e=[];return this.config.csv.forEach(function(o){var n=t.downloadCsv(o);e.push(n)}),Promise.all(e)}csv.loadDir("Config/csv")},t.login=function(){return n(this,void 0,void 0,function(){var t,e,o,n,s;return i(this,function(i){switch(i.label){case 0:return t={userId:this.serverConfig.userId},CC_WECHATGAME?(r.default.login(),[4,a.event.wait("wxlogin")]):[3,2];case 1:e=i.sent()[0],o=wx.getLaunchOptionsSync(),t={code:e,type:"wxlogin",query:JSON.stringify(o.query),scene:o.scene},i.label=2;case 2:return[4,this.client.httpGet(this.serverConfig.root_url+"/game/login",t)];case 3:return(n=i.sent())==c.default.Code.Timeout?(console.log("\u767b\u9646\u5931\u8d25",this.retry_count),[2,!1]):n?(s=JSON.parse(n),console.log("\u767b\u9646\u8fd4\u56de",s),this.client.setHeader("Authorization",s.data.token),console.log("\u767b\u9646\u6210\u529f",s.data),this.logined_useId=s.data.userId,this.retry_count=0,this.userInfo=s.data,[2,!0]):(console.log("\u767b\u9646\u5931\u8d25",this.retry_count),[2,!1])}})})},t.syncData=function(t){return n(this,void 0,void 0,function(){var e,o;return i(this,function(n){switch(n.label){case 0:return this.isLoggedIn?[4,this.client.httpPut(this.serverConfig.root_url+"/user/"+this.logined_useId,t)]:[2,console.warn("\u4e0a\u4f20\u6570\u636e\u65f6\uff1a\u672a\u767b\u5f55")];case 1:return(e=n.sent())==c.default.Code.Timeout?(console.log("\u4e0a\u4f20\u6570\u636e \u8d85\u65f6...."),[2,!1]):e?(o=JSON.parse(e),console.log(o),[2,o]):(console.warn("\u540c\u6b65\u6570\u636e\u5931\u8d25"),[2,!1])}})})},t.loadUserInfo=function(){return n(this,void 0,void 0,function(){var t,e;return i(this,function(o){switch(o.label){case 0:return this.isLoggedIn?this.userInfo?[2,this.userInfo]:(console.log("\u62c9\u53d6\u7528\u6237\u6570\u636e"),[4,this.client.httpGet(this.serverConfig.root_url+"/user/"+this.logined_useId)]):[2,console.warn("\u62c9\u53d6\u6570\u636e\u65f6\uff1a\u672a\u767b\u5f55")];case 1:return(t=o.sent())==c.default.Code.Timeout?[2,this.userInfo]:t?(e=JSON.parse(t)).errno?[2]:[2,e.data]:[2,this.userInfo]}})})},t.setVideoWatchedCount=function(t){this.video_watched_count=t,localStorage.setItem("__video_watched_count__",this.video_watched_count+""),localStorage.setItem("__video_watched_date__",Date.now().toString())},t.initUserData=function(){var t=localStorage.getItem("__video_watched_count__"),e=localStorage.getItem("__video_watched_date__"),o=parseInt(e),n=parseInt(t);isNaN(n)?this.setVideoWatchedCount(0):this.video_watched_count=n,isNaN(o)||g.isNextDay(o)&&this.setVideoWatchedCount(0)},t.initConfig=function(t){this.serverConfig=t,this.client.setTimeout(2500),console.log("[WeakNetGame]\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6"),console.log(t)},t.doLogin=function(e){return n(this,void 0,Promise,function(){return i(this,function(o){switch(o.label){case 0:return this.isInit?[3,8]:(console.log("[WeakNetGame]\u5f00\u59cb\u767b\u9646"),t.initUserData(),this.serverConfig.is_local_game?[3,7]:(e&&e("config"),[4,t.requestConfig()]));case 1:return o.sent(),e&&e("local_csv"),[4,t.loadLocalCsvs(function(t){e&&e("local_csv_loaded",t)})];case 2:return o.sent(),e&&e("csv"),[4,t.downloadCsvs()];case 3:return o.sent(),e&&e("share_config"),[4,t.requestShareConfig()];case 4:return o.sent(),e&&e("login"),[4,t.login()];case 5:return o.sent(),r.default.initShare(this.shareConfigs.default,this.logined_useId),this.isLoggedIn?(this.isInit=!0,e&&e("complete"),[4,t.loadUserInfo()]):[2,!1];case 6:return[2,o.sent()];case 7:return this.isInit=!0,[2,new Promise(function(t){csv.loadDir("Config/csv",t)})];case 8:return[2]}})})},t.getChoice=function(t){if(this.video_watched_count>=(csv.Config.max_video_watch||3))return 0;var e=parseInt(csv.Config[t]);return isNaN(e)?1:(2==csv.Config[t]&&(null==this.choices[t]?(e=g.randomInt(0,2),this.choices[t]=e):e=this.choices[t]),e)},t.set_safe_check_callback=function(t){this._check_safe_callback=t},Object.defineProperty(t,"is_safe_mode",{get:function(){return!!this._check_safe_callback&&this._check_safe_callback()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"sharedUUIDs",{get:function(){return this._sharedUUIDs},enumerable:!0,configurable:!0}),t.isValidShare=function(t){return null!=this._sharedUUIDs[t]},t.isClaimedShare=function(t){return null!=this.claimedUUIDs[t]},t.claimShare=function(t){this.claimedUUIDs[t]=t;var e=this._sharedUUIDs[t];e&&e()},t.doChoice=function(t,e,o,n){var i=this,c=this.getChoice(t),l=function(){r.default.watch_video(function(){i.video_watched_count++,i.setVideoWatchedCount(i.video_watched_count),a.event.emit("WeakNetGame.watch_video",i.video_watched_count),e&&e.call(o,"video")},o,n)},u=function(n){if(void 0===n&&(n=!1),i.is_safe_mode)l();else if(i.is_forbidden)l();else if(n){var a=g.uuid(8,16);i._sharedUUIDs[a]=e.bind(o,"share_link_click"),r.default.doShareWithParams({uuid:a,share_link:!0},i.shareConfigs[t],function(){e&&e.call(o,"share_link")},i,0)}else r.default.doShare(i.shareConfigs[t],function(){e&&e.call(o,"share")})};0==c?u():1==c?this.video_watched_count>=(csv.Config.max_video_watch||6)?(s.Toast.make("\u5f53\u524d\u65e0\u53ef\u7528\u89c6\u9891"),u()):l():3==c?e&&e.call(o):4==c&&u(!0)},t.shareConfigs={},t.config={share_config_url:"share_config.json",csv_url:"csv/",csv:[],local_csv:[]},t.choices={},t.isInit=!1,t.config_inited=!1,t.shareConfig_inited=!1,t.logined_useId=null,t.is_forbidden=!1,t.video_watched_count=0,t._check_safe_callback=null,t._configstr_cache={},t.client=new c.default,t.retry_count=0,t.userInfo=null,t._sharedUUIDs={},t.claimedUUIDs={},t}();o.default=l,g.setGlobalInstance(l,"WeakNetGame"),cc._RF.pop()},{"../Platform":"Platform","../plugin_boosts/misc/Net":"Net","../plugin_boosts/ui/ToastManager":"ToastManager","../plugin_boosts/utils/EventManager":"EventManager"}],WxFeedbackButton:[function(t,e,o){"use strict";cc._RF.push(e,"56c5dQwMDVIbZzexb7961L/","WxFeedbackButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=new cc.Component.EventHandler,e.button=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this.button&&this.button.show()},e.prototype.onDisable=function(){this.button&&this.button.hide()},e.prototype.onDestroy=function(){this.button&&this.button.destroy()},e.prototype.createButton=function(t){a||(a=wx.getSystemInfoSync());var e,o,n=a.windowWidth,i=a.windowHeight;this.button&&this.button.destroy();var r=this.node.getBoundingBoxToWorld(),c=cc.view.getDevicePixelRatio(),s=cc.view.getScaleX()/c;n=r.x*s,i=a.screenHeight-(r.y+r.height)*s,e=r.width*s,o=r.height*s,this.button=wx.createFeedbackButton({type:"text",text:"        ",style:{left:n,top:i,width:e,height:o,lineHeight:60,textAlign:"center",backgroundColor:"#00000000",color:"#ffffff"}}),this.button.onTap(function(e){e?t&&t(e):t&&t(null)})},e.prototype.start=function(){var t=this;CC_WECHATGAME&&this.createButton(function(e){t.handler.emit([e])})},r([l(cc.Component.EventHandler)],e.prototype,"handler",void 0),r([s,u("Wxsdk/WxFeedbackButton")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],WxRankDialog:[function(t,e,o){"use strict";cc._RF.push(e,"80fd3Nn4dFF45QylMONs3ro","WxRankDialog");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Platform"),c=t("../plugin_boosts/ui/View"),s=t("../plugin_boosts/ui/ViewManager"),l=t("../plugin_boosts/misc/Signal"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.first=!0,e.closeSignal=new l.default,e}return i(e,t),e.prototype.onShown=function(t,e){this.closeSignal.on(t,e),this.first?this.scheduleOnce(this.reOpen,.1):a.default.showRank()},e.prototype.reOpen=function(){a.default.showRank(),this.first=!1,this.getComponent(c.default).hide(),s.default.instance.show("wechat/WxRankDialog")},e.prototype.click_close=function(){a.default.hideRank(),this.getComponent(c.default).hide(),this.closeSignal.fire()},r([p],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../Platform":"Platform","../plugin_boosts/misc/Signal":"Signal","../plugin_boosts/ui/View":"View","../plugin_boosts/ui/ViewManager":"ViewManager"}],WxgetInfoButton:[function(t,e,o){"use strict";cc._RF.push(e,"ec38chyDftF94LQwttCl+9C","WxgetInfoButton");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../Platform"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.infoHandler=new cc.Component.EventHandler,e.button=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this.button&&this.button.show()},e.prototype.onDisable=function(){this.button&&this.button.hide()},e.prototype.onDestroy=function(){this.button&&this.button.destroy()},e.prototype.createButton=function(t){var e=this;a||(a=wx.getSystemInfoSync()),console.log("------\u672a\u6388\u6743! \u8c03\u7528wx.createUserInfoButton-------",wx.getSystemInfoSync().windowWidth);var o,n,i=a.windowWidth,r=a.windowHeight;this.button&&this.button.destroy();var c=this.node.getBoundingBoxToWorld(),s=cc.view.getDevicePixelRatio(),l=cc.view.getScaleX()/s;i=c.x*l,r=a.screenHeight-(c.y+c.height)*l,o=c.width*l,n=c.height*l,this.button=wx.createUserInfoButton({type:"text",text:"        ",style:{left:i,top:r,width:o,height:n,lineHeight:60,textAlign:"center",backgroundColor:"#00000000",color:"#ffffff"}}),this.button.onTap(function(o){o&&o.userInfo?(e.button.destroy(),t&&t(o.userInfo)):t&&t(null)})},e.prototype.start=function(){var t=this;CC_WECHATGAME&&c.default.checkAuth().then(function(e){e||t.createButton(function(e){t.infoHandler.emit([e])})})},r([u(cc.Component.EventHandler)],e.prototype,"infoHandler",void 0),r([l,p("Wxsdk/WxgetInfoButton")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../Platform":"Platform"}],checkIns:[function(t,e,o){"use strict";cc._RF.push(e,"d3673vACHtCfZ4RAfM1ovd3","checkIns");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../framework/plugin_boosts/utils/EventManager"),c=t("../../../../framework/plugin_boosts/ui/PandoraPoint"),s=t("../../Logic/PlayerInfo"),l=cc._decorator,u=l.ccclass,p=(l.property,l.menu),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.event.on("PlayerInfo.skinlist",this.onCheckChanged,this),this.point=this.node.getComponent(c.default),a.event.on("PlayerInfo.coin",this.onCheckChanged,this)},e.prototype.onDestroy=function(){a.event.off(this)},e.prototype.start=function(){this.onCheckChanged()},e.prototype.isSkinLock=function(t){for(var e in t)if(!t[e])return!0;return!1},e.prototype.onCheckChanged=function(){this.isSkinLock(s.PlayerInfo.skinList)?this.point.setNumber(1):1!=this.point.n&&this.point.setNumber(0)},r([u,p("Game/redpoints/Skins")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../../framework/plugin_boosts/ui/PandoraPoint":"PandoraPoint","../../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../Logic/PlayerInfo":"PlayerInfo"}],chuanshuoSkins:[function(t,e,o){"use strict";cc._RF.push(e,"a8be5XCPFJOb7DgQb2UrmIj","chuanshuoSkins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../framework/plugin_boosts/utils/EventManager"),c=t("../../../../framework/plugin_boosts/ui/PandoraPoint"),s=t("../../Logic/PlayerInfo"),l=t("../../Module/SkinInfo"),u=t("../../Module/model_manager"),p=cc._decorator,f=p.ccclass,d=(p.property,p.menu),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.event.on("PlayerInfo.ADSkinCount",this.onskinChanged,this),this.point=this.node.getComponent(c.default)},e.prototype.onDestroy=function(){a.event.off(this)},e.prototype.start=function(){this.onskinChanged()},e.prototype.isSkinLock=function(){for(var t=csv.SkinInfo.values,e=0;e<t.length;e++){var o=u.default.get(l.default,t[e].Id);if("4"==o.type&&!s.PlayerInfo.islock(o.id))return!0}return!1},e.prototype.onskinChanged=function(){this.isSkinLock()?this.point.setNumber(1):this.point.setNumber(0)},r([f,d("Game/redpoints/shisiSkins")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/plugin_boosts/ui/PandoraPoint":"PandoraPoint","../../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../Logic/PlayerInfo":"PlayerInfo","../../Module/SkinInfo":"SkinInfo","../../Module/model_manager":"model_manager"}],easing:[function(t,e,o){"use strict";function n(t,e,o,n){return o-i(n-t,0,o,n)+e}function i(t,e,o,n){return(t/=n)<1/2.75?7.5625*o*t*t+e:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+e:o*(7.5625*(t-=2.625/2.75)*t+.984375)+e}cc._RF.push(e,"e6742QWT6FGKZZTNPiWFV4s","easing"),Object.defineProperty(o,"__esModule",{value:!0}),o.linear=function(t,e,o,n){return o*t/n+e},o.easeInQuad=function(t,e,o,n){return o*(t/=n)*t+e},o.easeOutQuad=function(t,e,o,n){return-o*(t/=n)*(t-2)+e},o.easeInOutQuad=function(t,e,o,n){return(t/=n/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e},o.easeInCubic=function(t,e,o,n){return o*(t/=n)*t*t+e},o.easeOutCubic=function(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e},o.easeInOutCubic=function(t,e,o,n){return(t/=n/2)<1?o/2*t*t*t+e:o/2*((t-=2)*t*t+2)+e},o.easeInQuart=function(t,e,o,n){return o*(t/=n)*t*t*t+e},o.easeOutQuart=function(t,e,o,n){return-o*((t=t/n-1)*t*t*t-1)+e},o.easeInOutQuart=function(t,e,o,n){return(t/=n/2)<1?o/2*t*t*t*t+e:-o/2*((t-=2)*t*t*t-2)+e},o.easeInQuint=function(t,e,o,n){return o*(t/=n)*t*t*t*t+e},o.easeOutQuint=function(t,e,o,n){return o*((t=t/n-1)*t*t*t*t+1)+e},o.easeInOutQuint=function(t,e,o,n){return(t/=n/2)<1?o/2*t*t*t*t*t+e:o/2*((t-=2)*t*t*t*t+2)+e},o.easeInSine=function(t,e,o,n){return-o*Math.cos(t/n*(Math.PI/2))+o+e},o.easeOutSine=function(t,e,o,n){return o*Math.sin(t/n*(Math.PI/2))+e},o.easeInOutSine=function(t,e,o,n){return-o/2*(Math.cos(Math.PI*t/n)-1)+e},o.easeInExpo=function(t,e,o,n){return 0===t?e:o*Math.pow(2,10*(t/n-1))+e},o.easeOutExpo=function(t,e,o,n){return t===n?e+o:o*(1-Math.pow(2,-10*t/n))+e},o.easeInOutExpo=function(t,e,o,n){return 0===t?e:t===n?e+o:(t/=n/2)<1?o/2*Math.pow(2,10*(t-1))+e:o/2*(2-Math.pow(2,-10*--t))+e},o.easeInCirc=function(t,e,o,n){return-o*(Math.sqrt(1-(t/=n)*t)-1)+e},o.easeOutCirc=function(t,e,o,n){return o*Math.sqrt(1-(t=t/n-1)*t)+e},o.easeInOutCirc=function(t,e,o,n){return(t/=n/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+e:o/2*(Math.sqrt(1-(t-=2)*t)+1)+e},o.easeInElastic=function(t,e,o,n){var i=1.70158,r=0,a=o;return 0===t?e:1==(t/=n)?e+o:(r||(r=.3*n),a<Math.abs(o)?(a=o,i=r/4):i=r/(2*Math.PI)*Math.asin(o/a),-a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-i)*Math.PI/r)+e)},o.easeOutElastic=function(t,e,o,n){var i=1.70158,r=0,a=o;return 0===t?e:1==(t/=n)?e+o:(r||(r=.3*n),a<Math.abs(o)?(a=o,i=r/4):i=r/(2*Math.PI)*Math.asin(o/a),a*Math.pow(2,-10*t)*Math.sin(2*(t*n-i)*Math.PI/r)+o+e)},o.easeInOutElastic=function(t,e,o,n){var i=1.70158,r=0,a=o;return 0===t?e:2==(t/=n/2)?e+o:(r||(r=.3*1.5*n),a<Math.abs(o)?(a=o,i=r/4):i=r/(2*Math.PI)*Math.asin(o/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-i)*Math.PI/r)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*n-i)*Math.PI/r)*.5+o+e)},o.easeInBack=function(t,e,o,n,i){return void 0===i&&(i=1.70158),o*(t/=n)*t*((i+1)*t-i)+e},o.easeOutBack=function(t,e,o,n,i){return void 0===i&&(i=1.70158),o*((t=t/n-1)*t*((i+1)*t+i)+1)+e},o.easeInOutBack=function(t,e,o,n,i){return void 0===i&&(i=1.70158),(t/=n/2)<1?o/2*t*t*((1+(i*=1.525))*t-i)+e:o/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},o.easeInBounce=n,o.easeOutBounce=i,o.easeInOutBounce=function(t,e,o,r){return t<r/2?.5*n(2*t,0,o,r)+e:.5*i(2*t-r,0,o,r)+.5*o+e},cc._RF.pop()},{}],forbid_func_adpater:[function(t,e,o){"use strict";cc._RF.push(e,"74a10FHDwRAVYvhf+vONoyf","forbid_func_adpater");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./UserInfo"),a=t("./ServerConfig"),c=t("../../../framework/weak_net_game/WeakNetGame"),s=t("../../../framework/plugin_boosts/misc/Net"),l=t("../Logic/PlayerInfo"),u=function(){function t(){}return t.checkSceneFobidden=function(t){if(csv.Config.Scene_Forbid_Switch){var e=csv.Config.Scene_Forbid_IDs.indexOf(t+"");c.default.is_forbidden=e>=0}else c.default.is_forbidden=!1},t.checkForbidden=function(t){csv.Config.IP_Forbid_Switch&&csv.Config.IP_Forbid_City.split(",").some(function(e){return t.cname.indexOf(e)>=0})?c.default.is_forbidden=!0:this.checkSceneFobidden(t.scene),console.log("WeakNetGame.scene",t.scene),console.warn("WeakNetGame.is_forbidden",c.default.is_forbidden),console.warn("WeakNetGame.is_safe_mode",c.default.is_safe_mode)},t.check_safe_mode=function(){return!!csv.Config.Safe_Mode&&1==l.PlayerInfo.playinglevel},t.checkIp=function(){return n(this,void 0,void 0,function(){var t,e,o,n,l,u;return i(this,function(i){switch(i.label){case 0:return c.default.set_safe_check_callback(this.check_safe_mode),t={cip:"",cname:"",scene:0},e=Date.now()-r.UserInfo.ip_s,console.log(r.UserInfo.ip_cname,r.UserInfo.ip_addr,e,csv.Config.IP_Refresh_Interval),""==r.UserInfo.ip_cname||""==r.UserInfo.ip_addr||e>864e5*csv.Config.IP_Refresh_Interval?[4,s.net.httpGet(a.ServerConfig.ip_api)]:[3,8];case 1:return(o=i.sent())!=s.default.Code.Timeout?[3,2]:[2,this.checkIp()];case 2:if(!o)return[3,7];i.label=3;case 3:return i.trys.push([3,5,,6]),n=o.substring(o.indexOf("{"),o.indexOf("}")+1),t=JSON.parse(n),r.UserInfo.ip_addr=t.cip,r.UserInfo.save("ip_addr"),[4,s.net.httpGet(a.ServerConfig.ip_query+t.cip)];case 4:return(l=i.sent())==s.default.Code.Timeout?[2,this.checkIp()]:(l&&0==(u=JSON.parse(l)).error_code&&(t.cname=u.result.City,r.UserInfo.ip_cname=t.cname,r.UserInfo.ip_s=Date.now(),r.UserInfo.save("ip_s"),r.UserInfo.save("ip_cname")),[3,6]);case 5:return i.sent(),[3,6];case 6:return[3,7];case 7:return[3,9];case 8:t.cip=r.UserInfo.ip_addr,t.cname=r.UserInfo.ip_cname,i.label=9;case 9:return CC_WECHATGAME?t.scene=wx.getLaunchOptionsSync().scene:t.scene=-1,this.checkForbidden(t),[2]}})})},t}();o.default=u,cc._RF.pop()},{"../../../framework/plugin_boosts/misc/Net":"Net","../../../framework/weak_net_game/WeakNetGame":"WeakNetGame","../Logic/PlayerInfo":"PlayerInfo","./ServerConfig":"ServerConfig","./UserInfo":"UserInfo"}],md5:[function(t,e,o){"use strict";cc._RF.push(e,"5ee08x6EQtCLpCKgX3hgvpw","md5"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.hexcase=0,this.b64pad=""}return t.prototype.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.any_hmac_md5=function(t,e,o){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),o)},t.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.prototype.rstr_hmac_md5=function(t,e){var o=this.rstr2binl(t);o.length>16&&(o=this.binl_md5(o,8*t.length));for(var n=Array(16),i=Array(16),r=0;r<16;r++)n[r]=909522486^o[r],i[r]=1549556828^o[r];var a=this.binl_md5(n.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(i.concat(a),640))},t.prototype.rstr2hex=function(t){try{this.hexcase}catch(r){this.hexcase=0}for(var e,o=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<t.length;i++)e=t.charCodeAt(i),n+=o.charAt(e>>>4&15)+o.charAt(15&e);return n},t.prototype.rstr2b64=function(t){try{this.b64pad}catch(a){this.b64pad=""}for(var e="",o=t.length,n=0;n<o;n+=3)for(var i=t.charCodeAt(n)<<16|(n+1<o?t.charCodeAt(n+1)<<8:0)|(n+2<o?t.charCodeAt(n+2):0),r=0;r<4;r++)8*n+6*r>8*t.length?e+=this.b64pad:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63);return e},t.prototype.rstr2any=function(t,e){var o,n,i,r,a,c=e.length,s=Array(Math.ceil(.5*t.length));for(o=0;o<s.length;o++)s[o]=t.charCodeAt(2*o)<<8|t.charCodeAt(2*o+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),u=Array(l);for(n=0;n<l;n++){for(a=Array(),r=0,o=0;o<s.length;o++)r=(r<<16)+s[o],r-=(i=Math.floor(r/c))*c,(a.length>0||i>0)&&(a[a.length]=i);u[n]=r,s=a}var p="";for(o=u.length-1;o>=0;o--)p+=e.charAt(u[o]);return p},t.prototype.str2rstr_utf8=function(t){for(var e,o,n="",i=-1;++i<t.length;)e=t.charCodeAt(i),o=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&e<=56319&&56320<=o&&o<=57343&&(e=65536+((1023&e)<<10)+(1023&o),i++),e<=127?n+=String.fromCharCode(e):e<=2047?n+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n},t.prototype.str2rstr_utf16le=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(255&t.charCodeAt(o),t.charCodeAt(o)>>>8&255);return e},t.prototype.str2rstr_utf16be=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(t.charCodeAt(o)>>>8&255,255&t.charCodeAt(o));return e},t.prototype.rstr2binl=function(t){for(var e=Array(t.length>>2),o=0;o<e.length;o++)e[o]=0;for(o=0;o<8*t.length;o+=8)e[o>>5]|=(255&t.charCodeAt(o/8))<<o%32;return e},t.prototype.binl2rstr=function(t){for(var e="",o=0;o<32*t.length;o+=8)e+=String.fromCharCode(t[o>>5]>>>o%32&255);return e},t.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var o=1732584193,n=-271733879,i=-1732584194,r=271733878,a=0;a<t.length;a+=16){var c=o,s=n,l=i,u=r;o=this.md5_ff(o,n,i,r,t[a+0],7,-680876936),r=this.md5_ff(r,o,n,i,t[a+1],12,-389564586),i=this.md5_ff(i,r,o,n,t[a+2],17,606105819),n=this.md5_ff(n,i,r,o,t[a+3],22,-1044525330),o=this.md5_ff(o,n,i,r,t[a+4],7,-176418897),r=this.md5_ff(r,o,n,i,t[a+5],12,1200080426),i=this.md5_ff(i,r,o,n,t[a+6],17,-1473231341),n=this.md5_ff(n,i,r,o,t[a+7],22,-45705983),o=this.md5_ff(o,n,i,r,t[a+8],7,1770035416),r=this.md5_ff(r,o,n,i,t[a+9],12,-1958414417),i=this.md5_ff(i,r,o,n,t[a+10],17,-42063),n=this.md5_ff(n,i,r,o,t[a+11],22,-1990404162),o=this.md5_ff(o,n,i,r,t[a+12],7,1804603682),r=this.md5_ff(r,o,n,i,t[a+13],12,-40341101),i=this.md5_ff(i,r,o,n,t[a+14],17,-1502002290),n=this.md5_ff(n,i,r,o,t[a+15],22,1236535329),o=this.md5_gg(o,n,i,r,t[a+1],5,-165796510),r=this.md5_gg(r,o,n,i,t[a+6],9,-1069501632),i=this.md5_gg(i,r,o,n,t[a+11],14,643717713),n=this.md5_gg(n,i,r,o,t[a+0],20,-373897302),o=this.md5_gg(o,n,i,r,t[a+5],5,-701558691),r=this.md5_gg(r,o,n,i,t[a+10],9,38016083),i=this.md5_gg(i,r,o,n,t[a+15],14,-660478335),n=this.md5_gg(n,i,r,o,t[a+4],20,-405537848),o=this.md5_gg(o,n,i,r,t[a+9],5,568446438),r=this.md5_gg(r,o,n,i,t[a+14],9,-1019803690),i=this.md5_gg(i,r,o,n,t[a+3],14,-187363961),n=this.md5_gg(n,i,r,o,t[a+8],20,1163531501),o=this.md5_gg(o,n,i,r,t[a+13],5,-1444681467),r=this.md5_gg(r,o,n,i,t[a+2],9,-51403784),i=this.md5_gg(i,r,o,n,t[a+7],14,1735328473),n=this.md5_gg(n,i,r,o,t[a+12],20,-1926607734),o=this.md5_hh(o,n,i,r,t[a+5],4,-378558),r=this.md5_hh(r,o,n,i,t[a+8],11,-2022574463),i=this.md5_hh(i,r,o,n,t[a+11],16,1839030562),n=this.md5_hh(n,i,r,o,t[a+14],23,-35309556),o=this.md5_hh(o,n,i,r,t[a+1],4,-1530992060),r=this.md5_hh(r,o,n,i,t[a+4],11,1272893353),i=this.md5_hh(i,r,o,n,t[a+7],16,-155497632),n=this.md5_hh(n,i,r,o,t[a+10],23,-1094730640),o=this.md5_hh(o,n,i,r,t[a+13],4,681279174),r=this.md5_hh(r,o,n,i,t[a+0],11,-358537222),i=this.md5_hh(i,r,o,n,t[a+3],16,-722521979),n=this.md5_hh(n,i,r,o,t[a+6],23,76029189),o=this.md5_hh(o,n,i,r,t[a+9],4,-640364487),r=this.md5_hh(r,o,n,i,t[a+12],11,-421815835),i=this.md5_hh(i,r,o,n,t[a+15],16,530742520),n=this.md5_hh(n,i,r,o,t[a+2],23,-995338651),o=this.md5_ii(o,n,i,r,t[a+0],6,-198630844),r=this.md5_ii(r,o,n,i,t[a+7],10,1126891415),i=this.md5_ii(i,r,o,n,t[a+14],15,-1416354905),n=this.md5_ii(n,i,r,o,t[a+5],21,-57434055),o=this.md5_ii(o,n,i,r,t[a+12],6,1700485571),r=this.md5_ii(r,o,n,i,t[a+3],10,-1894986606),i=this.md5_ii(i,r,o,n,t[a+10],15,-1051523),n=this.md5_ii(n,i,r,o,t[a+1],21,-2054922799),o=this.md5_ii(o,n,i,r,t[a+8],6,1873313359),r=this.md5_ii(r,o,n,i,t[a+15],10,-30611744),i=this.md5_ii(i,r,o,n,t[a+6],15,-1560198380),n=this.md5_ii(n,i,r,o,t[a+13],21,1309151649),o=this.md5_ii(o,n,i,r,t[a+4],6,-145523070),r=this.md5_ii(r,o,n,i,t[a+11],10,-1120210379),i=this.md5_ii(i,r,o,n,t[a+2],15,718787259),n=this.md5_ii(n,i,r,o,t[a+9],21,-343485551),o=this.safe_add(o,c),n=this.safe_add(n,s),i=this.safe_add(i,l),r=this.safe_add(r,u)}return[o,n,i,r]},t.prototype.md5_cmn=function(t,e,o,n,i,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(n,r)),i),o)},t.prototype.md5_ff=function(t,e,o,n,i,r,a){return this.md5_cmn(e&o|~e&n,t,e,i,r,a)},t.prototype.md5_gg=function(t,e,o,n,i,r,a){return this.md5_cmn(e&n|o&~n,t,e,i,r,a)},t.prototype.md5_hh=function(t,e,o,n,i,r,a){return this.md5_cmn(e^o^n,t,e,i,r,a)},t.prototype.md5_ii=function(t,e,o,n,i,r,a){return this.md5_cmn(o^(e|~n),t,e,i,r,a)},t.prototype.safe_add=function(t,e){var o=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(o>>16)<<16|65535&o},t.prototype.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();o.default=n,cc._RF.pop()},{}],model_manager:[function(t,e,o){"use strict";cc._RF.push(e,"c2018xeKOFOhpMnS/zMxKo7","model_manager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.get=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=t.prototype,i=this.types.indexOf(n);-1==i&&(this.types.push(n),i=this.types.length-1);var r=this.allInfos[i];r||(r={},this.allInfos[i]=r);var a=e.join("-"),c=r[a];if(!c){var s=t;c=Reflect.construct(s,e),r[a]=c}return c},t.clear=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.allInfos[t.prototype];n||(n={},this.allInfos[t.prototype]=n);var i=e.join("-");n[i]=null},t.allInfos={},t.types=[],t}();o.default=n,cc._RF.pop()},{}],mvc_View:[function(t,e,o){"use strict";cc._RF.push(e,"d365d5PxvZMV5PKucZ4kcwE","mvc_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../framework/plugin_boosts/utils/Common"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.render_interval=o.DisableAutoRender,e.auto_render_list=!0,e.labels=[],e.sprites=[],e.bars=[],e.buttons=[],e.nodes=[],e.subViews=[],e.events=[],e.layouts=[],e}var o;return i(e,t),o=e,e.prototype.getData=function(){return this.data_tobeRender},e.prototype.register=function(t,e,o){if("string"==typeof t){var n=cc.find(t,this.node);if(!n)throw new Error(t+" not found");var i=n.getComponent(cc.Label);if(i)this.registerLabel(i,e);else{var r=n.getComponent(cc.ProgressBar);if(r)this.registerProgressBar(r,e);else{var a=n.getComponent(cc.Sprite);a?this.registerSprite(a,e):console.warn("[mvc-View] not found : "+t)}}}else t instanceof cc.Label||cc.RichText&&t instanceof cc.RichText?this.registerLabel(t,e):t instanceof cc.ProgressBar?this.registerProgressBar(t,e):t instanceof cc.Sprite?this.registerSprite(t,e):t instanceof cc.Button?this.onClick(t.node,e):t instanceof cc.Layout||t instanceof cc.ScrollView?this.registerList(t,e,o):Array.isArray(t)&&this.registerSubviews(t,e)},e.prototype.registerSubviews=function(t,e){this.subViews.push({views:t,exp:e})},e.prototype.registerList=function(t,e,n){null==n&&(n=function(t,e){var n=t.getComponent(o);n&&n.render(e)}),t.node.attr({dataBind:e,setItemCallback:n}),this.layouts.push(t)},e.prototype.registerLabel=function(t,e){t.node.attr({getViewString:e}),this.labels.push(t)},e.prototype.onClick=function(t,e){"string"==typeof t&&(t=cc.find(t,this.node));var o=t.getComponent(cc.Button);return o&&o.destroy(),o=a.default.newButton(t,"mvc_View","__onButtonClicked",this.node),t.attr({onClick:e}),o},e.prototype.__onButtonClicked=function(t){t.target.onClick(this.data_tobeRender,this.data2_tobeRender)},e.prototype.onVisible=function(t,e){"string"!=typeof t||(t=cc.find(t,this.node))?(t.attr({isVisible:e}),this.nodes.push(t)):console.warn("[mvc-View] not found : "+t)},e.prototype.onInteractable=function(t,e){"string"!=typeof t||(t=cc.find(t,this.node))?(t instanceof cc.Node&&(t=t.getComponent(cc.Button)),t.node.attr({isInteractable:e}),this.buttons.push(t)):console.warn("[mvc-View] not found : "+t)},e.prototype.observe=function(t,e,o){var n={exp:t,callback:e,policy:o,triggered:!1};this.events.push(n)},e.prototype.registerSprite=function(t,e){return t.node.attr({url:e}),this.sprites.push(t),t},e.prototype.registerProgressBar=function(t,e){return t.node.attr({progress:e}),this.bars.push(t),t},e.prototype.renderList=function(t,e){this.layouts.forEach(function(o){if(o.node.activeInHierarchy){var n=o.node.dataBind(t,e),i=o.node.setItemCallback;o.showlist(i,n||[])}})},e.prototype.disableAutoRender=function(){this.render_interval=o.DisableAutoRender},e.prototype.onLaterRender=function(){},e.prototype._updateView=function(t,e){var o=this;0!=this.node.active&&(this.auto_render_list&&this.renderList(t,e),this.nodes.forEach(function(o){var n=o.isVisible(t,e);o.active=n}),this.labels.forEach(function(o){if(o.node.activeInHierarchy){var n=o.node.getViewString(t,e);null==n&&console.warn("[mvc_View] failed to render label:"+o.node.name,o.node.getViewString),o.string=n||"0"}}),this.sprites.forEach(function(o){if(o.node.activeInHierarchy){var n=o.node.url(t,e);n&&a.default.setDisplay(o,n)}}),this.events.forEach(function(n){!n.triggered&&n.exp(t,e)&&(n.callback&&n.callback.call(o),n.policy,n.triggered=!0)}),this.events.forEach(function(o){o.triggered&&!o.exp(t,e)&&(o.triggered=!1)}),this.subViews.forEach(function(o){var n=o.exp(t,e);o.views.forEach(function(e,o){return e.render(n[o],t)})}),this.buttons.forEach(function(o){if(o.node.activeInHierarchy){var n=o.node.isInteractable(t,e);o.interactable=n,o.node.opacity=n?255:120}}),this.onLaterRender())},e.prototype._renderBars=function(t,e){this.bars.forEach(function(o){var n=o.node.progress(t,e);o.progress=n})},e.prototype.update=function(){this._renderBars()},e.prototype.render=function(t,e){this.data_tobeRender=t,this.data2_tobeRender=e,this._updateView(t,e)},e.prototype.renderLabel=function(t){var e=t.node.getViewString();t.string=e},e.prototype.onEnable=function(){-1!=this.render_interval&&this.schedule(this.render,this.render_interval)},e.prototype.onDisable=function(){this.unschedule(this.render)},e.DisableAutoRender=-1,r([l],e.prototype,"render_interval",void 0),r([l],e.prototype,"auto_render_list",void 0),o=r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../framework/plugin_boosts/utils/Common":"Common"}],nomalSkins:[function(t,e,o){"use strict";cc._RF.push(e,"05b07YAbwFBVocDAMAufusx","nomalSkins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../framework/plugin_boosts/utils/EventManager"),c=t("../../../../framework/plugin_boosts/ui/PandoraPoint"),s=t("../../Logic/PlayerInfo"),l=t("../../Module/SkinInfo"),u=t("../../Module/model_manager"),p=cc._decorator,f=p.ccclass,d=(p.property,p.menu),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.event.on("PlayerInfo.level",this.onskinChanged,this),this.point=this.node.getComponent(c.default)},e.prototype.onDestroy=function(){a.event.off(this)},e.prototype.start=function(){this.onskinChanged()},e.prototype.isSkinLock=function(){for(var t=csv.SkinInfo.values,e=0;e<t.length;e++){var o=u.default.get(l.default,t[e].Id);if("1"==o.type&&!s.PlayerInfo.islock(o.id)&&s.PlayerInfo.level>=o.lv)return!0}return!1},e.prototype.onskinChanged=function(){this.isSkinLock()?this.point.setNumber(1):this.point.setNumber(0)},r([f,d("Game/redpoints/nomalSkins")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/plugin_boosts/ui/PandoraPoint":"PandoraPoint","../../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../Logic/PlayerInfo":"PlayerInfo","../../Module/SkinInfo":"SkinInfo","../../Module/model_manager":"model_manager"}],sdk:[function(t,e,o){"use strict";cc._RF.push(e,"39d4a0B6RRGXqBM/1udBqAy","sdk");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../plugin_boosts/utils/EventManager"),a=t("./GameConfigs"),c=function(){function t(){}return t.videoAd=void 0,t.bannerAd=void 0,t.interstitialAd=void 0,t.isBannerShow=!1,t.videoAdLoadCount=0,t.bannerAdLoadCount=0,t}(),s=function(){function t(){if(this._userInfo=null,this._openId="",g.iswxgame()&&null==this._version){this._systemInfo=wx.getSystemInfoSync();var t=this._systemInfo.SDKVersion.replace(/\./g,"");this._version=parseInt(t)}}return Object.defineProperty(t.prototype,"Ver",{get:function(){return this._version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userInfo",{get:function(){return this._userInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){if(!g.iswxgame())return"";var t=wx.getLaunchOptionsSync();return 1007==t.scene||1008==t.scene?t.query.user_id:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openId",{get:function(){return this._openId},set:function(t){this._openId=t},enumerable:!0,configurable:!0}),t.prototype.requestDB=function(t,e,o){this._db.collection(t).get({success:function(n){console.log("get "+t+" succ:",n.data),e&&e.call(o,n.data)},fail:function(){console.log("get "+t+" fail:"),e&&e.call(o)}})},t.prototype.requestConfig=function(t){this._db.collection("t_conf").get({success:function(e){console.log("get configs succ:",e.data),t&&t(e.data)},fail:function(e){console.log("get configs fail:",e),t&&t(null)}})},t.prototype.openShare=function(t,e){return n(this,void 0,void 0,function(){var o,n,r;return i(this,function(){return g.iswxgame()?((o={}).title=t.title,o.imageUrl=t.imageUrl,n=o.queryObjects||{},null!=o&&(r="",e=e||{},Object.keys(e).forEach(function(t){n[t]=e[t]}),r=Object.keys(n).reduce(function(t,e){return t+(e+"=")+n[e]+"&"},r),o.query=r+"time="+(new Date).getTime(),o.ald_desc=t.ald_desc,console.log("open Share",o),wx.aldShareAppMessage(o)),[2]):[2]})})},t.prototype.createButton=function(t,e,o,n,i){console.log("-------------createButton");var r=wx.createUserInfoButton({type:"text",text:"     ",style:{x:e||0,y:o||0,width:n||cc.winSize.width,height:i||cc.winSize.height,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff"}});r.onTap(function(e){r.destroy(),e&&e?t&&t(e):t&&t(null)})},t.prototype.getUserInfo=function(t){console.warn("-------------getUserInfo"),wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(e){console.log("getUserInfo success.",e),t&&t(e)},fail:function(e){console.log("getUserInfo:",e),t&&t(null)},complete:null})},t.prototype.oldAuthUser=function(t){wx.authorize({scope:"scope.userInfo",success:function(e){console.log(e),t&&t(!0)},fail:function(e){console.log(e),t&&t(!1)},complete:null})},t.prototype.showShareMenu=function(t){wx.showShareMenu({withShareTicket:!0,success:function(t){console.log(t)},fail:function(t){console.log(t)},complete:null}),wx.aldOnShareAppMessage(function(){return t})},t.prototype.wxLogin=function(t){var e=this;wx.login({success:function(o){console.log("code ",o.code),e._loginCode=o.code,r.event.emit("wxlogin",o.code),t&&t(!0)},fail:function(){t&&t(!1)},complete:null})},t.prototype.startAuth=function(){var t=this,e=this;return new Promise(function(o,n){e._version>=220?e.createButton(function(i){e.loginToServer(i),i?o(t._userInfo):n()}):e.oldAuthUser(function(i){i?e.getUserInfo(function(n){e.loginToServer(n),o(t._userInfo)}):n()})})},t.prototype.checkAuth=function(){var t=this;return o.wxsdk.userInfo?Promise.resolve(o.wxsdk.userInfo):new Promise(function(e){wx.getSetting({success:function(o){o.authSetting["scope.userInfo"]?t.getUserInfo(function(o){t.loginToServer(o),e(t._userInfo)}):e(null)},fail:null,complete:null})})},t.prototype.loginToServer=function(t){console.log("loginToServer",t),t&&t.userInfo&&(this._userInfo=t.userInfo),r.event.emit("wxUserInfo",this._userInfo,this._loginCode)},t.prototype.login=function(t){var e=this;g.iswxgame()&&this.wxLogin(function(o){o&&t&&e.startAuth()})},t.prototype.postMessage=function(t,e){if(g.iswxgame()){var o={cmd:t};e&&Object.keys(e).forEach(function(t){o[t]=e[t]}),wx.getOpenDataContext().postMessage(o)}},t.prototype.uploadScores=function(t){return new Promise(function(e,o){var n={KVDataList:t,success:function(t){e(t)},fail:function(){o()},complete:function(){}};console.warn("-------uploadScores",t),wx.setUserCloudStorage(n)})},t.prototype.uploadScore=function(t,e,o){var n=new Array;n.push({key:t,value:e});var i={KVDataList:n,success:function(t){o&&o(t)},fail:function(){},complete:function(){}};wx.setUserCloudStorage(i)},t.prototype.loadBannerAd=function(t){var e=this;c.bannerAd&&c.bannerAd.destroy(),this._systemInfo||(this._systemInfo=wx.getSystemInfoSync());var o=this._systemInfo.screenWidth/2,n=this._systemInfo.screenHeight,i=this._systemInfo.screenWidth<=this._systemInfo.screenHeight?this._systemInfo.screenWidth:this._systemInfo.screenHeight/3,r=wx.createBannerAd({adUnitId:a.GameConfig.banner_ad_id,style:{left:0,top:0,width:i-1}});c.bannerAd=r,r.onLoad(function(){c.bannerAdLoadCount=0,r.style.left=o-r.style.realWidth/2,r.style.top=n-r.style.realHeight,t&&t("load",r)}),r.onError(function(o){console.log("wxsdk bannerAd onError code:"+o.code+" msg:"+o.msg),c.bannerAdLoadCount+=1,c.bannerAdLoadCount<4&&e.loadBannerAd(t),c.bannerAd=null,t&&t("error")})},t.prototype.showBannerAd=function(t){var e=this;console.log("Wxsdk \u663e\u793abanner\u5e7f\u544a",c.bannerAd),c.bannerAd?(c.bannerAd.show(),c.isBannerShow=!0,r.event.emit("wxsdk.BannerReady")):(console.log("Wxsdk \u4e0d\u5b58\u5728banner\u8d44\u6e90...."),this.loadBannerAd(function(o){"load"==o?e.showBannerAd():"error"==o&&t&&t()}))},t.prototype.isBannerShow=function(){return c.isBannerShow},t.prototype.hideBannerAd=function(){c.bannerAd&&(c.bannerAd.hide(),c.isBannerShow=!1)},t.prototype.showInterstitial=function(t){wx.createInterstitialAd?c.interstitialAd=wx.createInterstitialAd({adUnitId:a.GameConfig.interstitial_ad_id}):(console.log("\u4e0d\u652f\u6301\u63d2\u5c4f\u5e7f\u544a"),t&&t("notsupport")),c.interstitialAd&&c.interstitialAd.show().catch(function(e){console.error(e),t&&t("err",e)})},t.prototype.loadVideoAd=function(t){console.log("============wxsdk.loadVideoAD");var e=this,o=c.videoAd;o?(o.offClose(c.video_close_callback),o.offError(c.video_error_callback),o.offLoad(c.video_load_callback)):o=wx.createRewardedVideoAd({adUnitId:a.GameConfig.video_ad_id}),c.video_error_callback=function(){c.videoAdLoadCount+=1,c.videoAdLoadCount<4?e.loadVideoAd(t):t&&t("error")},c.video_close_callback=function(e){console.log("wxsdk onClose..."),c.videoAdLoadCount=0,t&&t("close",e.isEnded),c.videoAd=null},c.video_load_callback=function(){console.log("wxsdk onLoad"),c.videoAd=o,c.videoAdLoadCount=0,t&&t("load",o)},o.show().catch(function(){o.load().then(function(){o.show(),t&&t("show")}).catch(function(){c.videoAdLoadCount+=1})}),o.onError(c.video_error_callback),o.onClose(c.video_close_callback),o.onLoad(c.video_load_callback),c.videoAd=o},t}();o.wxsdk=new s,cc._RF.pop()},{"../plugin_boosts/utils/EventManager":"EventManager","./GameConfigs":"GameConfigs"}],shisiSkins:[function(t,e,o){"use strict";cc._RF.push(e,"9102fYHoF1Op4HtU7VUYHY5","shisiSkins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../framework/plugin_boosts/utils/EventManager"),c=t("../../../../framework/plugin_boosts/ui/PandoraPoint"),s=t("../../Logic/PlayerInfo"),l=t("../../Module/SkinInfo"),u=t("../../Module/model_manager"),p=cc._decorator,f=p.ccclass,d=(p.property,p.menu),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.event.on("PlayerInfo.coin",this.onskinChanged,this),this.point=this.node.getComponent(c.default)},e.prototype.onDestroy=function(){a.event.off(this)},e.prototype.start=function(){this.onskinChanged()},e.prototype.isSkinLock=function(){for(var t=csv.SkinInfo.values,e=0;e<t.length;e++){var o=u.default.get(l.default,t[e].Id);if("3"==o.type&&!s.PlayerInfo.islock(o.id)&&s.PlayerInfo.coin>=1e3)return!0}return!1},e.prototype.onskinChanged=function(){this.isSkinLock()?this.point.setNumber(1):this.point.setNumber(0)},r([f,d("Game/redpoints/shisiSkins")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/plugin_boosts/ui/PandoraPoint":"PandoraPoint","../../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../Logic/PlayerInfo":"PlayerInfo","../../Module/SkinInfo":"SkinInfo","../../Module/model_manager":"model_manager"}],xySkins:[function(t,e,o){"use strict";cc._RF.push(e,"318c8t0tKxFp4rzjmjJzBjl","xySkins");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../framework/plugin_boosts/utils/EventManager"),c=t("../../../../framework/plugin_boosts/ui/PandoraPoint"),s=t("../../Logic/PlayerInfo"),l=t("../../Module/SkinInfo"),u=t("../../Module/model_manager"),p=cc._decorator,f=p.ccclass,d=(p.property,p.menu),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.event.on("PlayerInfo.coin",this.onskinChanged,this),this.point=this.node.getComponent(c.default)},e.prototype.onDestroy=function(){a.event.off(this)},e.prototype.start=function(){this.onskinChanged()},e.prototype.isSkinLock=function(){for(var t=csv.SkinInfo.values,e=0;e<t.length;e++){var o=u.default.get(l.default,t[e].Id);if("2"==o.type&&!s.PlayerInfo.islock(o.id)&&s.PlayerInfo.coin>=500)return!0}return!1},e.prototype.onskinChanged=function(){this.isSkinLock()?this.point.setNumber(1):this.point.setNumber(0)},r([f,d("Game/redpoints/xySkins")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../framework/plugin_boosts/ui/PandoraPoint":"PandoraPoint","../../../../framework/plugin_boosts/utils/EventManager":"EventManager","../../Logic/PlayerInfo":"PlayerInfo","../../Module/SkinInfo":"SkinInfo","../../Module/model_manager":"model_manager"}],zzsdkConfig:[function(t,e,o){"use strict";cc._RF.push(e,"c1f0eHX35ZIzojoEMX2hJ8g","zzsdkConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.ad_Url="https://wxa.332831.com/xsl/wx8377c793a5b1c7b7/v1.0.0/config.json",t.sendPathUrl="https://r.d1fm.com/r.gif",t.app_id="wx8377c793a5b1c7b7",t.ad_Ver="1.0.0",t.z_App="ccbxn",t.z_Openid="",t.z_Uuid="",t.z_Channel="0",t.z_Parent_Channel="-1",t.z_fromAppid="app_id",t.z_curModel="ios",t.offsetX=1,t.offsetY=1,t}();o.default=n,cc._RF.pop()},{}],zzsdkui:[function(t,e,o){"use strict";cc._RF.push(e,"078c7jnmZROfY7st41QySls","zzsdkui");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./zzsdkConfig"),c=t("../../../framework/plugin_boosts/utils/EventManager"),s=t("./zzsdk"),l=t("../Logic/LocalUser"),u=t("./CInter_full"),p=cc._decorator,f=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.floatAdParent1=null,e.floatAdParent2=null,e.btn_show=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){if(s.default.init(),s.default.loadConfig(this.add.bind(this)),this.btn_show=this.node.getChildByName("btn_drawer"),this.btn_show){var t=cc.scaleTo(.6,1),e=cc.scaleTo(.6,1.2),o=cc.sequence([t,e]),n=cc.repeatForever(o);this.btn_show.runAction(n);var i=this.btn_show.getChildByName("icon"),r=cc.rotateTo(.2,-20),a=cc.rotateTo(.2,20),c=cc.rotateTo(.2,0),l=cc.rotateTo(1,0),u=cc.sequence([r,a,r,c,l]),p=cc.repeatForever(u);i.runAction(p)}},e.prototype.click_openDrawer=function(){window.drawerPrefab&&(window.drawerPrefab.active=!0)},e.prototype.add=function(){var t=this,e=this.node;cc.loader.loadRes("./zzsdkui/CInter_full",function(t,n){var i=cc.instantiate(n);window.interFullPrefab=i,i.getComponent(u.default).adType="inter_full",o.CInterAd_full=i,"Home"==cc.director.getScene().name?l.LocalUser.isfirst?(l.LocalUser.isfirst=!1,o.CInterAd_full.active=!1):o.CInterAd_full.active=!0:o.CInterAd_full.active=!1,e.addChild(i)}),cc.loader.loadRes("./zzsdkui/CInterAd_over",function(t,n){var i=cc.instantiate(n);window.interOverPrefab=i,i.getComponent("CInterAd_over").adType="inter_six",o.CInterAd_over=i,o.CInterAd_over.active=!1,e.addChild(i)}),cc.loader.loadRes("./zzsdkui/CInter_full",function(t,n){var i=cc.instantiate(n);window.drawerPrefab=i,i.x=0,i.y=-(cc.view.getVisibleSize().height-i.height*a.default.offsetY),i.getComponent(u.default).adType="drawer_word",o.ad_draw=i,o.ad_draw.active=!1,e.addChild(i),c.event.emit("zzsdk.ad_draw")}),cc.loader.loadRes("./zzsdkui/CYouLikeAd_roll",function(t,n){var i=cc.instantiate(n);window.youlikePrefab_roll=i,CC_WECHATGAME&&window.wx.getSystemInfoSync().screenHeight>750&&(i.y+=25),i.getComponents("CYouLikeAd_roll")[0].adType="youlike_normal",o.ad_youlike=i,o.ad_youlike.zIndex=999,"Home"==cc.director.getScene().name?o.ad_youlike.active=!0:o.ad_youlike.active=!1,c.event.emit("ShowCYouLikeAd_roll"),e.addChild(i)}),cc.loader.loadRes("./zzsdkui/CFloatAd",function(e,n){var i=cc.instantiate(n),r=cc.instantiate(n);window.floatPrefab1=i,window.floatPrefab2=r,i.getComponents("CFloatAd")[0].adType="float",r.getComponents("CFloatAd")[0].adType="float",console.log("\u60ac\u6d6e\u5e7f\u544a"),o.ad_float1=i,o.ad_float2=r,"Home"==cc.director.getScene().name?(o.ad_float1.active=!0,o.ad_float2.active=!0):(o.ad_float1.active=!1,o.ad_float2.active=!1),t.floatAdParent1.addChild(i),t.floatAdParent2.addChild(r)})},e.prototype.start=function(){},e.prototype.openGame=function(t,e,o,n){var i=this;if(void 0===o&&(o=null),CC_WECHATGAME){var r=!0,c=0;if(window.wx.getStorageSync("adcount")){c=Number(window.wx.getStorageSync("adcount"));for(var l=window.wx.getStorageSync("adlist").split("&"),u=0;u<l.length;u++)if(l[u]==t.appname){r=!1;break}1==r&&(c++,window.wx.setStorageSync("adcount",c.toString()),l=l.join("&")+t.appname+"&",window.wx.setStorageSync("adlist",l))}else{c=1,window.wx.setStorageSync("adcount",c.toString());var p=t.appname+"&";window.wx.setStorageSync("adlist",p)}var f=(new Date).getTime(),d={xsl_unit:e,xsl_creative:t.appname,xsl_t:f,xsl_action:"click",xsl_adcount:c};d=s.default.addLogData(d,t),s.default.sendPath(d),s.default.adlTag(e,{Click:t.appname});try{var h=t.appid,y=t.path;-1!=window.wx.getSystemInfoSync().model.indexOf("iPhone")||t.android_appid&&(h=t.android_appid,y=t.android_path),y&&(y+="&appid="+a.default.z_fromAppid),window.wx.navigateToMiniProgram({appId:h,path:y,success:function(){var o=(new Date).getTime(),n={xsl_unit:e,xsl_creative:t.appname,xsl_t:o,xsl_action:"clickok",xsl_adcount:c};n=s.default.addLogData(n,t),s.default.sendPath(n),s.default.adlTag(e,{ClickOK:t.appname})},fail:function(){n&&n&&n("fail",e),"inter_full"!=e&&"drawer_word"!=e&&i.click_openDrawer()}})}catch(_){console.log(_)}}else"inter_full"!=e&&"drawer_word"!=e&&this.click_openDrawer()},e.prototype.getData=function(t,e,o){for(var n=0,i=[],r=t;r<e;r++)r>=window.ad_Data.length?(i.push(window.ad_Data[n]),n++,window.wx.setStorageSync(o,n)):i.push(window.ad_Data[r]);return i},e.prototype.getData_local=function(t){for(var e=t.split("&"),o=[],n=0;n<window.ad_Data.length;n++)for(var i=0;i<e.length;i++)window.ad_Data[n].appname==e[i]&&o.push(window.ad_Data[n]);return o},e.prototype.getData_local_others=function(t){for(var e=t.split("&"),o=[],n=0;n<window.ad_Data.length;n++){for(var i=!1,r=0;r<e.length;r++)window.ad_Data[n].appname==e[r]&&(i=!0);i||o.push(window.ad_Data[n])}return o},e.prototype.checkShow=function(t){if(!window.ad_Data)return!1;for(var e=!1,o=0;o<window.space.length;o++)if(window.space[o].type==t&&(s.default.curModel==window.space[o].device||"all"==window.space[o].device)){e=!0;break}return!!e},e.ad_draw=null,e.ad_youlike=null,e.ad_float1=null,e.ad_float2=null,e.CInterAd_over=null,e.CInterAd=null,e.CInterAd_full=null,r([d(cc.Node)],e.prototype,"floatAdParent1",void 0),r([d(cc.Node)],e.prototype,"floatAdParent2",void 0),r([d],e.prototype,"wx",void 0),o=r([f],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../framework/plugin_boosts/utils/EventManager":"EventManager","../Logic/LocalUser":"LocalUser","./CInter_full":"CInter_full","./zzsdk":"zzsdk","./zzsdkConfig":"zzsdkConfig"}],zzsdk:[function(t,e,o){"use strict";cc._RF.push(e,"27a99/7CupM1pmC9OfWOoiu","zzsdk"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./zzsdkConfig"),i=t("./md5"),r=t("../../../framework/plugin_boosts/utils/EventManager"),a=function(){function t(){}return t.init=function(){if(!this.inited){if(this.curModel="ios",CC_WECHATGAME){this.sysModel=window.wx.getSystemInfoSync().model,console.log(this.sysModel),-1!=this.sysModel.indexOf("iPhone")?this.curModel="ios":this.curModel="android";var t=window.wx.getLaunchOptionsSync();t.query&&t.query.appid&&(n.default.z_fromAppid=t.query.appid)}n.default.z_curModel=this.curModel,this.inited=!0}},t.loadConfig=function(e){if(CC_WECHATGAME)this.ajax(null,"https://wxa.639311.com/juliang.php?s=YxBox/ip","",function(o){var r=window.wx.getSystemInfoSync().model,a=window.wx.getSystemInfoSync().system;n.default.z_Uuid=(new i.default).hex_md5(o.data.ip+r+a),console.log("uuid: ",n.default.z_Uuid),t.getAdData(e)},function(t){console.log("get  fail: ",t)});else{var o=JSON.parse('{"code":200,"msg":"","data":{"space":[{"type":"youlike_normal","device":"all","width":"0rpx","height":"0rpx"},{"type":"inter_full","device":"all","width":"0rpx","height":"0rpx"},{"type":"drawer_word","device":"all","width":"0rpx","height":"0rpx"},{"type":"youlike_couplet","device":"all","width":"0rpx","height":"0rpx"},{"type":"float","device":"all","width":"0rpx","height":"0rpx"},{"type":"inter_six","device":"all","width":"0rpx","height":"0rpx"}],"creative":[{"appname":"\u523a\u6740\u56fd\u738b","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=742&xsl_from=1901251423060","product_id":"742","creative_id":"167","image":"https://static.2719.cn/Uploads/201909/wxa-add3c73e-8aa1-0e35-f506-74bee5040c61.png","type":"wxatransfer","frame":"9","device":"all","heat":"1","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=742&xsl_from=1901251423060","weight":5,"id":"167"},{"appname":"\u4e00\u7b14\u5012\u6c34","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=886&xsl_from=1901251423060","product_id":"886","creative_id":"227","image":"https://static.2719.cn/Uploads/201909/wxa-92359a6c-3dd5-f684-53bc-22ba720cdd9a.png","type":"wxatransfer","frame":"9","device":"all","heat":"1","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=886&xsl_from=1901251423060","weight":5,"id":"227"},{"appname":"\u7ffb\u74f6\u5b503D","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=1268&xsl_from=1901251423060","product_id":"1268","creative_id":"374","image":"https://static.2719.cn/Uploads/201909/wxa-fce2e1d4-6d26-0818-11a7-de57a2cedeea.jpg","type":"wxatransfer","frame":"9","device":"all","heat":"0","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=1268&xsl_from=1901251423060","weight":5,"id":"374"},{"appname":"\u6124\u6012\u7684\u5c0f\u9e1f","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=1313&xsl_from=1901251423060","product_id":"1313","creative_id":"396","image":"https://static.2719.cn/Uploads/201910/wxa-20d37f83-dc9c-08b0-7a7d-a8d99fc4017b.png","type":"wxatransfer","frame":"9","device":"all","heat":"0","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=1313&xsl_from=1901251423060","weight":5,"id":"396"},{"appname":"\u95ef\u5173\u7b2c\u4e00\u540d","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=1310&xsl_from=1901251423060","product_id":"1310","creative_id":"399","image":"https://static.2719.cn/Uploads/201910/wxa-574f7582-df7c-b940-da35-655b25657575.png","type":"wxatransfer","frame":"1","device":"all","heat":"0","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=1310&xsl_from=1901251423060","weight":5,"id":"399"},{"appname":"\u8d2a\u5403\u98df\u4eba\u82b1","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=1326&xsl_from=1901251423060","product_id":"1326","creative_id":"408","image":"https://static.2719.cn/Uploads/201910/wxa-521eb9f2-2452-b7e9-a3b6-c6b74d734372.png","type":"wxatransfer","frame":"9","device":"all","heat":"0","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=1326&xsl_from=1901251423060","weight":5,"id":"408"},{"appname":"\u706b\u62fc\u706b\u67f4\u4eba","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=1327&xsl_from=1901251423060","product_id":"1327","creative_id":"409","image":"https://static.2719.cn/Uploads/201910/wxa-6bb3bbcd-eef3-6aa1-0a24-550b4678562a.png","type":"wxatransfer","frame":"9","device":"all","heat":"0","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=1327&xsl_from=1901251423060","weight":5,"id":"409"},{"appname":"\u7ef3\u7d22\u8425\u6551","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=1353&xsl_from=1901251423060","product_id":"1353","creative_id":"417","image":"https://static.2719.cn/Uploads/201910/wxa-17a48fdf-c6de-f8df-bc7f-26f48568bfc4.png","type":"wxatransfer","frame":"9","device":"all","heat":"0","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=1353&xsl_from=1901251423060","weight":5,"id":"417"},{"appname":"\u846b\u82a6\u5a03\u51b2\u51b2\u51b2","appid":"wxf8dc32ad313a06ac","path":"pages/ad/index?xsl_index_id=1354&xsl_from=1901251423060","product_id":"1354","creative_id":"418","image":"https://static.2719.cn/Uploads/201910/wxa-54f52130-e824-00a2-6179-eee1de142973.png","type":"wxatransfer","frame":"9","device":"all","heat":"0","android_appid":"wxf8dc32ad313a06ac","android_path":"pages/ad/index?xsl_index_id=1354&xsl_from=1901251423060","weight":5,"id":"418"},{"appname":"\u65b9\u5757\u8d2a\u5403\u86c7","appid":"wx4def29f52ee18951","path":"?ald_media_id=18865&ald_link_key=80226be03327fd82&ald_position_id=0&chid=12306&subchid=123pizza","product_id":"924","creative_id":"249","image":"https://static.2719.cn/Uploads/201909/wxa-83f53791-eb7e-83f6-9c8b-1c60ee6fcdaa.jpg","type":"wxa","frame":"9","device":"all","heat":"1","android_appid":"","android_path":"","weight":5,"id":"249"},{"appname":"\u9ed1\u6d1e\u522b\u5403\u6211","appid":"wx42946652532941a6","path":"?type=ad&uid=1177&channel=1177&ald_media_id=17090&ald_link_key=a2253ffa827e3310&ald_position_id=0","product_id":"1006","creative_id":"271","image":"https://static.2719.cn/Uploads/201908/wxa-7ad62e44-7b60-372b-c2b6-ed12f2327991.jpg","type":"wxa","frame":"9","device":"all","heat":"4","android_appid":"","android_path":"","weight":5,"id":"271"},{"appname":"\u5b50\u5f39\u5148\u751f","appid":"wxffebfb53efc7529b","path":"?ald_media_id=19877&ald_link_key=8c6c73d6a2964233&ald_position_id=0&channel=xyjx","product_id":"1016","creative_id":"276","image":"https://static.2719.cn/Uploads/201909/wxa-1be6f9b4-ee44-a784-1ae1-f657b38484c3.png","type":"wxa","frame":"1","device":"all","heat":"2","android_appid":"","android_path":"","weight":5,"id":"276"},{"appname":"\u67aa\u795e\u8ba1\u5212","appid":"wx687b277ddffe3eaf","path":"?ald_media_id=23140&ald_link_key=fc3cc57e7649bd35&ald_position_id=0","product_id":"1214","creative_id":"351","image":"https://static.2719.cn/Uploads/201909/wxa-260df794-1064-c65e-a2e5-58d00970887b.jpg","type":"wxa","frame":"9","device":"all","heat":"1","android_appid":"","android_path":"","weight":5,"id":"351"},{"appname":"\u5168\u6c11\u81ea\u884c\u8f66","appid":"wxd82e26c63d544486","path":"?ald_media_id=24254&ald_link_key=e0a2a998ce6d331f&ald_position_id=0","product_id":"1258","creative_id":"373","image":"https://static.2719.cn/Uploads/201909/wxa-caddbfcb-4af1-443a-8fab-c54397acabdc.png","type":"wxa","frame":"9","device":"all","heat":"1","android_appid":"","android_path":"","weight":5,"id":"373"},{"appname":"\u6551\u6551\u6c99\u96d5","appid":"wx91f816f0267c8504","path":"?ald_media_id=25095&ald_link_key=49dc8ea1fccc4cee&ald_position_id=0","product_id":"1294","creative_id":"386","image":"https://static.2719.cn/Uploads/201909/wxa-2cf01afb-342b-a06b-f60c-411ecced12e3.jpg","type":"wxa","frame":"9","device":"all","heat":"1","android_appid":"","android_path":"","weight":5,"id":"386"},{"appname":"\u706b\u67f4\u4eba\u6311\u6218","appid":"wx5183864ab7af5343","path":"game/gamePage.html?channel=pisa","product_id":"1291","creative_id":"387","image":"https://static.2719.cn/Uploads/201909/wxa-2b7aaf4f-b2c9-64cb-68d1-982adf154d95.jpg","type":"wxa","frame":"9","device":"all","heat":"1","android_appid":"","android_path":"","weight":5,"id":"387"},{"appname":"\u6307\u4e0a\u51b2\u51b2\u51b2","appid":"wx354950fbb5422dd4","path":"?channel_id=sz8848","product_id":"1304","creative_id":"388","image":"https://static.2719.cn/Uploads/201910/wxa-553d00d9-0bc6-66a0-4a59-4803771bc7df.png","type":"wxa","frame":"9","device":"all","heat":"1","android_appid":"","android_path":"","weight":5,"id":"388"},{"appname":"\u706b\u67f4\u4eba\u6551\u63f4","appid":"wx6a5d5b354110e44c","path":"?appid=wxda64295f4e6366e4&ald_media_id=25614&ald_link_key=c2bfe7da32f5a7fa&ald_position_id=0","product_id":"1330","creative_id":"411","image":"https://static.2719.cn/Uploads/201910/wxa-d1409dd6-5843-e742-98d0-8f32d13cecd0.png","type":"wxa","frame":"9","device":"all","heat":"1","android_appid":"","android_path":"","weight":5,"id":"411"}],"aliyun_log_field":["creative_id"]}}');this.handConfigRequest(o),e(),r.event.emit("zzsdk.onLoaded")}},t.handConfigRequest=function(e){window.aliyun_log_field=e.data.aliyun_log_field,window.space=e.data.space;for(var o=e.data.creative,n=[],i=0;i<o.length;i++)o[i].device!=t.curModel&&"all"!=o[i].device||n.push(o[i]);window.ad_Data=t.sort(n);var r=!0;for(i=1;i<window.ad_Data.length;i++)if(window.ad_Data[0].weight!=window.ad_Data[i].weight){r=!1;break}r&&(window.ad_Data=t.luanxu(window.ad_Data))},t.getAdData=function(t){var e=this;this.ajax(null,n.default.ad_Url,"",function(o){e.handConfigRequest(o),t&&t(),r.event.emit("zzsdk.onLoaded")},function(t){console.log("get  fail: ",t)})},t.sort=function(t){for(var e,o=0;o<t.length-1;o++)for(var n=0;n<t.length-1-o;n++)t[n].weight<t[n+1].weight&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t},t.addLogData=function(t,e){if(window.aliyun_log_field)for(var o=0;o<window.aliyun_log_field.length;o++){var n=window.aliyun_log_field[o],i=e[window.aliyun_log_field[o]];t[n]=i}return t},t.adlTag=function(){},t.sendPath=function(t){var e={xsl_app:n.default.z_App,xsl_openid:n.default.z_Openid,xsl_uuid:n.default.z_Uuid,xsl_channel:n.default.z_Channel,xsl_parent:n.default.z_Parent_Channel,xsl_from:n.default.z_fromAppid};if(null!=t)for(var o in t)e[o]=t[o];this.ajax("sendPath","https://r.d1fm.com/r.gif",e,function(){},function(){})},t.ajax=function(t,e,o,n){console.log("zzsdk req url: ",e);var i=o,r=new XMLHttpRequest;if(!r)return console.warn("Giving up :( Cannot create an XMLHTTP instance"),!1;r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE&&"sendPath"!=t)if(200===r.status){console.log("ajax success");var e=r.responseText;try{e=JSON.parse(e)}catch(o){e=r.responseText}n(e)}else console.log("There was a problem with the request.")},r.open("GET",e),r.send(i)},t.getTypeAdData=function(t){for(var e=null,o=0;o<window.ad_Data.length;o++)1==window.ad_Data[o].status&&window.ad_Data[o].type==t&&(e=window.ad_Data[o]);return e},t.AccordingWeight=function(t,e){if(t){var o,n="iPhone";CC_WECHATGAME&&(n=wx.getSystemInfoSync().model),o=-1!=n.indexOf("iPhone")?"ios":"android";for(var i=[],r=0;r<t.length;r++)t[r].device!=o&&"all"!=t[r].device||i.push(t[r]);if(e=e>i.length?i.length:e,0!=i.length){var a=[],c=[];for(r=0;r<i.length;r++){c.push({id:r,weight:i[r].weight});var s=[];for(var l in c)for(var u=0;u<c[l].weight;u++)s.push(c[l].id)}for(;a.length<e;){for(var p=s[Math.floor(Math.random()*s.length)],f=0;f<a.length&&a[f]!=p;f++);f==a.length&&a.push(p)}return{index:a,arr:i}}return null}},t.luanxu=function(t){for(var e=[];e.length<t.length;){for(var o=t[Math.floor(Math.random()*t.length)],n=0;n<e.length&&e[n].appname!=o.appname;n++);n==e.length&&e.push(o)}return e},t.curModel="unknown",t.sysModel="unknown",t.inited=!1,t}();o.default=a,cc._RF.pop()},{"../../../framework/plugin_boosts/utils/EventManager":"EventManager","./md5":"md5","./zzsdkConfig":"zzsdkConfig"}]},{},["LoadingScene","PersistNode","ServerConfig","UserInfo","forbid_func_adpater","ClickToStart","Bird","BirdFront","BirdManager","Block","CheckPoint","Egg","EggFront","Hud","InfiniteMap","Land","MoveBehavior","PowerBuff","PowerSlider","RemoveIfInvisible","Rest","SBulletWithBody","Tag","Unity","Skins","checkIns","chuanshuoSkins","nomalSkins","shisiSkins","xySkins","LocalUser","PlayerInfo","Util","Main","CheckInfo","LevelInfo","PerformanceInfo","SegmentInfo","SkinInfo","model_manager","CheckInItem","MainView","UIBirdTip","UICheck","UIChoseLevel","UIGuide","UILevelItem","UILose","UINewSkin","UIOpenID","UIRank","UISkinItem","UISkinShop","UIWelfare","UIWin","AdItem_drawer","AdItem_inter","AdItem_inter_full","AdItem_inter_over","AdItem_youlike","AdItem_youlike_roll","CDrawerAd","CFloatAd","CInterAd","CInterAd_over","CInter_full","CYouLikeAd","CYouLikeAd_roll","md5","zzsdk","zzsdkConfig","zzsdkui","Platform","StatHelper","BuffBase","BuffManager","ClickAudio","ClickAudioManager","DoubleClick","DrawCallOptimizer","DrawCallReorder","DynamicMap","FSM","FrameSwitch","InputSystem","JoyStick","LabelPlayer","LoadingSceneBase","NoobGuider","OpenID","ParallaxNode","PlayController","PsFx","PsFxPlayer","PsSpawner","TiledLayer2Objects","easing","BoostsAction","DataCenter","Device","LocalLifeSystem","LocalTimeSystem","Locker","Net","NumTrigger","PoolManager","RemoteTMXLoader","Signal","SpriteFrameCache","DCLabel","DCPandoraPoint","DCSprite","DCToggle","DCUI","LoadingManager","MessageBoxComponent","MessageBoxManager","MsgBox","PandoraPoint","ToastComponent","ToastManager","UIFunctions","View","ViewManager","LevelSelector","mvc_View","Common","EventManager","Intersection","SElegantFollow","SFollowCamera","SMoveBase","SMoveEntity","SAutoRotate","SBullet","SBullet2","SEnemy","SEquipSystem","SExplode","SFireAgent","SGameEntity","SItem","STargetEnemies","STargetPlayer","SWeapon","ShootManager","BKTool","SoundHelper","WeakNetConf","WeakNetGame","AddToMyFav","GameConfigs","MoreGameComponent","MoreGameDialog","MoreGameItem","MoreGameManager","MoreGameStyle","WxFeedbackButton","WxRankDialog","WxgetInfoButton","sdk","NativeConfig","NativeConstants","NativeMgr","TTNativeAds"]);