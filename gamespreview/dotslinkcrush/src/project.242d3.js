window.__require=function e(t,s,n){function i(a,r){if(!s[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var h=s[a]={exports:{}};t[a][0].call(h.exports,function(e){return i(t[a][1][e]||e)},h,h.exports,e,t,s,n)}return s[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({ActionMore:[function(e,t,s){"use strict";cc._RF.push(t,"ac439I2qLBGRJ0B0eykDw/e","ActionMore"),cc.CircleBy=cc.Class({name:"cc.CircleBy",extends:cc.ActionInterval,ctor:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc.v2(0,0),n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._diffCenterPosition=cc.v2(0,0),this._previousPosition=cc.v2(0,0),this._centerPosition=cc.v2(0,0),this._fixRotation=!1,this._radian=0,this._angle=0,this._originRotation=0,this._firstStart=!0,void 0!==t&&this.initWithDuration(e,t,s,n)},initWithDuration:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cc.v2(0,0),n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!cc.ActionInterval.prototype.initWithDuration.call(this,e)&&(this._fixRotation=n,this._centerPosition=s,this._angle=t,this._radian=cc.misc.degreesToRadians(t),this._fixRotation=n,!0)},clone:function(){var e=new cc.CircleBy;return this._cloneDecoration(e),e.initWithDuration(this._duration,this._angle,this._positionDelta,this._fixRotation),e},startWithTarget:function(e){if(cc.ActionInterval.prototype.startWithTarget.call(this,e),this._originRotation=e.getRotation(),this._firstStart){var t=e.x,s=e.y;this._previousPosition.x=t,this._previousPosition.y=s,this._diffCenterPosition.x=t-this._centerPosition.x,this._diffCenterPosition.y=s-this._centerPosition.y,this._firstStart=!1}},step:function(e){cc.ActionInterval.prototype.step.call(this,e),this._helixRatio&&e>0&&(this._helixTime+=e)},update:function(e){if(e=this._computeEaseTime(e),this.target){if(cc.macro.ENABLE_STACKABLE_ACTIONS){var t=this.target.getPosition()-this._previousPosition;this._centerPosition.add(t)}var s=this._diffCenterPosition;this._helixRatio&&(s=this._diffCenterPosition.mult((1+this._helixTime)*this._helixRatio));s.add(this._centerPosition);s.rotate(e*this._radian,this._previousPosition),this._previousPosition=this._previousPosition.add(this._centerPosition),this.target.setPosition(this._previousPosition),this._fixRotation&&this.target.setRotation(this._originRotation-e*this._angle)}},setHelixRatio:function(e){this._helixRatio=e,this._helixTime=0},reverse:function(){var e=new cc.MoveBy(this._duration,-this._angle,this._centerPosition,this._fixRotation);return this._cloneDecoration(e),this._reverseEaseList(e),e}}),cc.circleBy=function(e,t,s,n){return new cc.CircleBy(e,t,s,n)},cc._RF.pop()},{}],AdmobAndroid:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"19ab3x0/+JHlaXnJaJhA4db","AdmobAndroid");var a=e("AndroidConstant"),r=function(){function e(){n(this,e)}return o(e,[{key:"init",value:function(e){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"initAds","(Ljava/lang/String;)V",JSON.stringify(e))}},{key:"showBanner",value:function(){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"showBanner","()V")}},{key:"hideBanner",value:function(){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"hideBanner","()V")}},{key:"showRewardVideo",value:function(e){hf.onRewardVideoResult=e,jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"showRewardVideo","()V")}},{key:"isRewardVideoLoaded",value:function(){return jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"isRewardVideoLoaded","()Z")}},{key:"showInterstitialAd",value:function(){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"showInterstitialAd","()V")}}]),e}();t.exports=new r,cc._RF.pop()},{AndroidConstant:"AndroidConstant"}],AdmobIOS:[function(e,t,s){"use strict";cc._RF.push(t,"f35f3vS+u9EoJMK9FQZn0P3","AdmobIOS"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],AdsMgr:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"72256/8IqVJPq76Z650/FqN","AdsMgr");var a={LOAD_AD_FAIL:1,NOT_SUPPORTED:2,QUIT_MIDWAY:3,SUCCESS:4},r=function(){function e(){var t=this;n(this,e),this.REWARD_RESULT=a,hf.platformMgr.config.ads&&(this.m_rewardId=hf.platformMgr.config.ads.rewardId,this.m_interstitialId=hf.platformMgr.config.ads.interstitialId,this.m_portalId=hf.platformMgr.config.ads.portalId,this.m_bannerId=hf.platformMgr.config.ads.bannerId),cc.sys.platform===cc.sys.WECHAT_GAME?(this.m_instance=hf.platformMgr.wxMgr,this.preloadAds()):cc.sys.platform===cc.sys.OPPO_GAME?(this.m_instance=hf.platformMgr.oppoMgr.oppoAds,this.m_rewardId="",this.m_interstitialId="",qg.initAdService({appId:"30074725",isDebug:!1,success:function(e){console.log("init ad success"),t.preloadAds()},fail:function(e){console.log("fail:"+e.code+e.msg)},complete:function(e){console.log("complete")}})):cc.sys.platform===cc.sys.ANDROID?(this.m_instance=hf.platformMgr.androidMgr.admobAndroid,this.m_instance.init(hf.platformMgr.config.ads)):this.m_instance=void 0}return o(e,[{key:"preloadAds",value:function(){this.loadInterstitial(),this.loadRewardVideo(),this.loadPortalAd()}},{key:"loadRewardVideo",value:function(){this.m_rewardId&&this.m_instance.loadRewardVideo(this.m_rewardId)}},{key:"loadInterstitial",value:function(){this.m_interstitialId&&this.m_instance.loadInterstitial(this.m_interstitialId)}},{key:"loadPortalAd",value:function(){this.m_portalId&&this.m_instance.createPortalAd(this.m_portalId)}},{key:"hasBanner",value:function(){return this.m_bannerId}},{key:"hasVideo",value:function(){return this.m_rewardId}},{key:"hasInterstitial",value:function(){return this.m_interstitialId}},{key:"hasPortalAd",value:function(){return this.m_portalId}},{key:"showBanner",value:function(){this.m_bannerId&&this.m_instance.showBanner()}},{key:"hideBanner",value:function(){this.m_bannerId&&this.m_instance.hideBanner()}},{key:"showRewardVideo",value:function(e){var t=e;this.m_rewardId?(cc.log("AdsHelper showRewardVideo"),this.m_instance.showRewardVideo(function(e){cc.log("AdsHelper showRewardVideo result",e),e===a.SUCCESS?t(!0,!0):e===a.QUIT_MIDWAY?t(!0,!1):t(!1)})):cc.sys.isBrowser?t(!0,!0):t(!1)}},{key:"isRewardVideoLoaded",value:function(){return!!this.m_rewardId&&this.m_instance.isRewardVideoLoaded()}},{key:"showInterstitialAd",value:function(){this.m_interstitialId&&this.m_instance.showInterstitialAd()}},{key:"getRealBannerHeight",value:function(){if(this.m_bannerId&&this.m_instance.getRealBannerHeight)return this.m_instance.getRealBannerHeight()}},{key:"showPortalAd",value:function(e){this.m_hasPortalAd&&this.m_instance.showPortalAd(e)}}]),e}();t.exports=new r,cc._RF.pop()},{}],AnalysisConstant:[function(e,t,s){"use strict";cc._RF.push(t,"a9620tQWoZF2oqG1q4di3ZO","AnalysisConstant");var n={EVENT_TYPE:{ADD_PAYMENT_INFO:"add_payment_info",ADD_TO_CART:"add_to_cart",ADD_TO_WISHLIST:"add_to_wishlist",APP_OPEN:"app_open",BEGIN_CHECKOUT:"begin_checkout",CAMPAIGN_DETAILS:"campaign_details",ECOMMERCE_PURCHASE:"ecommerce_purchase",GENERATE_LEAD:"generate_lead",JOIN_GROUP:"join_group",LEVEL_END:"level_end",LEVEL_START:"level_start",LEVEL_UP:"level_up",LOGIN:"login",POST_SCORE:"post_score",PRESENT_OFFER:"present_offer",PURCHASE_REFUND:"purchase_refund",SEARCH:"search",SELECT_CONTENT:"select_content",SHARE:"share",SIGN_UP:"sign_up",SPEND_VIRTUAL_CURRENCY:"spend_virtual_currency",TUTORIAL_BEGIN:"tutorial_begin",TUTORIAL_COMPLETE:"tutorial_complete",UNLOCK_ACHIEVEMENT:"unlock_achievement",VIEW_ITEM:"view_item",VIEW_ITEM_LIST:"view_item_list",VIEW_SEARCH_RESULTS:"view_search_results",EARN_VIRTUAL_CURRENCY:"earn_virtual_currency",REMOVE_FROM_CART:"remove_from_cart",CHECKOUT_PROGRESS:"checkout_progress",SET_CHECKOUT_OPTION:"set_checkout_option",JS_ERROR_REPORT:"js_error_report",LEVEL_FAIL:"level_fail",SQUARE_CRUSH:"square_crush"},PARAM_TYPE:{ACHIEVEMENT_ID:"achievement_id",CHARACTER:"character",TRAVEL_CLASS:"travel_class",CONTENT_TYPE:"content_type",CURRENCY:"currency",COUPON:"coupon",START_DATE:"start_date",END_DATE:"end_date",EXTEND_SESSION:"extend_session",FLIGHT_NUMBER:"flight_number",GROUP_ID:"group_id",ITEM_CATEGORY:"item_category",ITEM_ID:"item_id",ITEM_LOCATION_ID:"item_location_id",ITEM_NAME:"item_name",LOCATION:"location",LEVEL:"level",LEVEL_NAME:"level_name",SIGN_UP_METHOD:"sign_up_method",METHOD:"method",NUMBER_OF_NIGHTS:"number_of_nights",NUMBER_OF_PASSENGERS:"number_of_passengers",NUMBER_OF_ROOMS:"number_of_rooms",DESTINATION:"destination",ORIGIN:"origin",PRICE:"price",QUANTITY:"quantity",SCORE:"score",SHIPPING:"shipping",TRANSACTION_ID:"transaction_id",SEARCH_TERM:"search_term",SUCCESS:"success",TAX:"tax",VALUE:"value",VIRTUAL_CURRENCY_NAME:"virtual_currency_name",CAMPAIGN:"campaign",SOURCE:"source",MEDIUM:"medium",TERM:"term",CONTENT:"content",ACLID:"aclid",CP1:"cp1",ITEM_BRAND:"item_brand",ITEM_VARIANT:"item_variant",ITEM_LIST:"item_list",CHECKOUT_STEP:"checkout_step",CHECKOUT_OPTION:"checkout_option",CREATIVE_NAME:"creative_name",CREATIVE_SLOT:"creative_slot",AFFILIATION:"affiliation",INDEX:"index",USED_MOVES:"used_moves"}};t.exports=n,cc._RF.pop()},{}],AnalysisMgr:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"cdd88BLM8FDXI0vmx++jWrc","AnalysisMgr");var a=e("AnalysisConstant"),r=function(){function e(){for(var t in n(this,e),a)this[t]=a[t]}return o(e,[{key:"logEvent",value:function(e,t){cc.log("AnalysisMgr logEvent",e,t),cc.sys.platform===cc.sys.ANDROID&&hf.platformMgr.androidMgr.firebaseLogEvent(e,t)}},{key:"logCrash",value:function(e){cc.log("AnalysisMgr logCrash",e),cc.assert("string"==typeof e,"AnalysisMgr logCrash"),cc.sys.platform===cc.sys.ANDROID&&hf.platformMgr.androidMgr.firebaseLogCrash(e)}},{key:"setCustomKey",value:function(e,t){cc.log("AnalysisMgr setCustomKey",e,t),cc.assert("string"==typeof e&&"string"==typeof t,"AnalysisMgr setCustomKey"),cc.sys.platform===cc.sys.ANDROID&&hf.platformMgr.androidMgr.firebaseSetCustomKey(e,t)}}]),e}();t.exports=new r,cc._RF.pop()},{AnalysisConstant:"AnalysisConstant"}],AndroidConstant:[function(e,t,s){"use strict";cc._RF.push(t,"62df9N1Mm5AbLAAfxuz41US","AndroidConstant");t.exports={GAME_JNI_PATH:"org/cocos2dx/javascript/GameJni"},cc._RF.pop()},{}],AndroidMgr:[function(e,t,s){"use strict";cc._RF.push(t,"1eae9RmmxJPG7s5a5JcEA51","AndroidMgr");var n=e("AndroidConstant"),i={};i.admobAndroid=e("AdmobAndroid"),i.googleIAP=e("GoogleIAP"),i.getPackageName=function(){return jsb.reflection.callStaticMethod(n.GAME_JNI_PATH,"getPackageName","()Ljava/lang/String;")},i.isPackageInstall=function(e){return jsb.reflection.callStaticMethod(n.GAME_JNI_PATH,"isPackageInstall","(Ljava/lang/String;)Z",e)},i.firebaseLogEvent=function(e,t){jsb.reflection.callStaticMethod(n.GAME_JNI_PATH,"firebaseLogEvent","(Ljava/lang/String;)V",JSON.stringify({event:e,params:t}))},i.firebaseLogCrash=function(e){jsb.reflection.callStaticMethod(n.GAME_JNI_PATH,"firebaseLogCrash","(Ljava/lang/String;)V",e)},i.firebaseSetCustomKey=function(e,t){jsb.reflection.callStaticMethod(n.GAME_JNI_PATH,"firebaseSetCustomKey","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},i.vibrate=function(e){jsb.reflection.callStaticMethod(n.GAME_JNI_PATH,"vibrate","(I)V",e)},t.exports=i,cc._RF.pop()},{AdmobAndroid:"AdmobAndroid",AndroidConstant:"AndroidConstant",GoogleIAP:"GoogleIAP"}],CPCheck:[function(e,t,s){"use strict";cc._RF.push(t,"507f3lTJjVOV7lNx6CIqJyg","CPCheck"),cc.Class({extends:cc.Component,properties:{buttonArr:[cc.Node],cpNode:cc.Node,cpTxt:cc.Label},onLoad:function(){for(var e=this,t=function(t){e.buttonArr[t].on("touchstart",function(s){e.onButtonClick(s,t+1)}),e.buttonArr[t]._touchListener.setSwallowTouches(!1)},s=0;s<this.buttonArr.length;s++)t(s);this.buttonClickCnt=0;for(var n=[232,38439,27969,24234,33689,38764,30160,27662,31353,25384,26545,38648,21012,21664,29424,26603,25320,26545],i=[],o=0;o<n.length;o++)i.push(String.fromCharCode(n[o]-168));this.cpTxt.string=i.join(""),this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.node.x=cc.winSize.width/2,this.node.y=cc.winSize.height/2},start:function(){cc.sys.platform===cc.sys.ANDROID&&"cn.herofight.dotslinkcrush.gp"!==hf.platformMgr.androidMgr.getPackageName()&&(this.cpNode.active=!0)},onButtonClick:function(e,t){1==t&&0===this.buttonClickCnt?this.buttonClickCnt++:2==t&&this.buttonClickCnt>0&&this.buttonClickCnt<3?this.buttonClickCnt++:3==t&&this.buttonClickCnt>2&&this.buttonClickCnt<6?this.buttonClickCnt++:4==t&&this.buttonClickCnt>5&&this.buttonClickCnt<10?(this.buttonClickCnt++,10===this.buttonClickCnt&&(this.cpNode.active=!0)):this.buttonClickCnt=0}}),cc._RF.pop()},{}],GoogleIAP:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"40d0cOWA2xMb5ZGrh+FbC2N","GoogleIAP");var a=e("AndroidConstant"),r=function(){function e(){n(this,e)}return o(e,[{key:"init",value:function(e){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"initBillings","(Ljava/lang/String;)V",JSON.stringify(e))}},{key:"purchase",value:function(e){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"purchase","(Ljava/lang/String;)V",e)}},{key:"subscript",value:function(e){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"subscript","(Ljava/lang/String;)V",JSON.stringify(e))}},{key:"consume",value:function(e){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"consume","(Ljava/lang/String;)V",e)}},{key:"isItemPurchased",value:function(e){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"isItemPurchased","(Ljava/lang/String;)V",e)}},{key:"isSubscriptionAutoRenewEnabled",value:function(e){jsb.reflection.callStaticMethod(a.GAME_JNI_PATH,"isSubscriptionAutoRenewEnabled","(Ljava/lang/String;)V",e)}}]),e}();t.exports=new r,cc._RF.pop()},{AndroidConstant:"AndroidConstant"}],InitAll:[function(e,t,s){"use strict";cc._RF.push(t,"0a42aHAz41FkIjq1w5jWxWs","InitAll"),hf.i18n=e("i18n"),hf.globalEvent=new cc.EventTarget,hf.platformMgr=e("PlatformMgr"),hf.utilsMgr=e("UtilsMgr"),hf.adsMgr=e("AdsMgr"),hf.remoteDataMgr=e("RemoteDataMgr"),hf.analysisMgr=e("AnalysisMgr"),hf.playedTimes=0;var n=!1;"undefined"!=typeof jsb&&(window.__errorHandler=function(e,t,s,i){if(!n&&cc.director.getScene()){var o="File ---\x3e \n"+e+"\nLine ---\x3e \n"+t+"\nMsg ---\x3e \n"+s+"\nError ---\x3e \n"+i;hf.analysisMgr.logCrash("js_error_report ###### "+o),hf.analysisMgr.logEvent(hf.analysisMgr.EVENT_TYPE.JS_ERROR_REPORT,{scene:cc.director.getScene().name})}}),cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseMusic(),cc.audioEngine.pauseAllEffects()}),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeMusic(),cc.audioEngine.resumeAllEffects()}),cc._RF.pop()},{AdsMgr:"AdsMgr",AnalysisMgr:"AnalysisMgr",PlatformMgr:"PlatformMgr",RemoteDataMgr:"RemoteDataMgr",UtilsMgr:"UtilsMgr",i18n:"i18n"}],LabelLocalized:[function(e,t,s){"use strict";cc._RF.push(t,"e4f88adp3hERoJ48DZ2PSAl","LabelLocalized"),cc.Class({extends:cc.Label,properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this.string=this.localizedString}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return hf.i18n.t(this.textKey)},set:function(e){0}}},onLoad:function(){var e=this;this._super(),this.localizedString&&(this.string=this.localizedString),this.m_langeChangeListener=function(){e.localizedString&&(e.string=e.localizedString)},hf.i18n.registerLangChangeListener(this.m_langeChangeListener)},onDestroy:function(){hf.i18n.removeLangChangeListener(this.m_langeChangeListener)}}),cc._RF.pop()},{}],MathHelper:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"65b16pFysVMGKmtfy099GbQ","MathHelper");var a=function(){function e(){n(this,e)}return o(e,[{key:"shuffleArr",value:function(e){for(var t=e.length;t>0;t--){var s=Math.floor(Math.random()*t),n=e[s];e[s]=e[t-1],e[t-1]=n}return e}}]),e}();t.exports=a,cc._RF.pop()},{}],OPPOAds:[function(e,t,s){"use strict";cc._RF.push(t,"89c85kU1QRFT4QwNQjm5E+K","OPPOAds");var n={REWARD_RESULT:{LOAD_AD_FAIL:1,NOT_SUPPORTED:2,QUIT_MIDWAY:3,SUCCESS:4},showBanner:function(e){if(cc.log("OPPOAds showBanner bId",e),!this.m_bannerAd||this.hide){var t=e;t&&function(){var e=this;this.m_bannerAd=qg.createBannerAd({posId:t}),this.m_bannerAd.show(),this.m_bannerAd.onShow(function(t){cc.log("banner onShow"),e.hide=!1}),this.m_bannerAd.onError(function(e){cc.log("banner onError",e.code)}),this.m_bannerAd.onHide(function(t){cc.log("banner onhide",t),e.hide=!0})}.bind(this)()}},hideBanner:function(){},loadRewardVideo:function(e){var t=this;this.m_rewardAd=qg.createRewardedVideoAd({posId:e}),this.m_isRewardAdLoaded=!1,this.m_rewardAd.onLoad(function(){cc.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.m_isRewardAdLoaded=!0,t.m_rewardAd.show()}),this.m_rewardAd.onError(function(){cc.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"),t.m_isRewardAdLoaded=!1,t.sendRewardAdsResult(n.REWARD_RESULT.LOAD_AD_FAIL)}),this.m_rewardAd.onClose(function(e){e&&e.isEnded?t.sendRewardAdsResult(n.REWARD_RESULT.SUCCESS):t.sendRewardAdsResult(n.REWARD_RESULT.QUIT_MIDWAY)}),this.m_fullAd=qg.createInsertAd({posId:58105}),this.m_fullAd.onLoad(function(){cc.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.m_fullAd.show()}),this.m_fullAd.onError(function(){cc.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")})},showRewardVideo:function(e){this.m_callBackFunc=e,this.m_rewardAd.load()},isRewardVideoLoaded:function(){return this.m_isRewardAdLoaded},sendRewardAdsResult:function(e){this.m_callBackFunc&&(this.m_callBackFunc(e),this.m_callBackFunc=null),this.m_isRewardAdLoaded=!1},showFullAd:function(){this.m_fullAd.load()},showInterstitialAd:function(){this.showFullAd()}};t.exports=n,cc._RF.pop()},{}],OPPOMgr:[function(e,t,s){"use strict";cc._RF.push(t,"a4f61efv19AHo1Nuon7DQn1","OPPOMgr");var n={};n.oppoAds=e("OPPOAds"),t.exports=n,cc._RF.pop()},{OPPOAds:"OPPOAds"}],PlatformConfig:[function(e,t,s){"use strict";cc._RF.push(t,"77f2982lv1CoqFSURKPJw1M","PlatformConfig");var n={};cc.sys.platform===cc.sys.WECHAT_GAME?n={}:cc.sys.platform===cc.sys.OPPO_GAME||cc.sys.platform===cc.sys.ANDROID&&(n={ads:{bannerId:"ca-app-pub-5571113908507676/4348177383",rewardId:"ca-app-pub-5571113908507676/3726179098",interstitialId:"ca-app-pub-5571113908507676/7197346788"},iap:{}}),t.exports=n,cc._RF.pop()},{}],PlatformMgr:[function(e,t,s){"use strict";cc._RF.push(t,"3cf466Vs5tH24+39v0N6S8T","PlatformMgr");var n={};n.config=e("PlatformConfig"),n.wxMgr=e("WXMgr"),n.oppoMgr=e("OPPOMgr"),n.androidMgr=e("AndroidMgr"),n.vibrate=function(e){cc.sys.platform===cc.sys.ANDROID&&hf.platformMgr.androidMgr.vibrate(e)},t.exports=n,cc._RF.pop()},{AndroidMgr:"AndroidMgr",OPPOMgr:"OPPOMgr",PlatformConfig:"PlatformConfig",WXMgr:"WXMgr"}],RemoteDataMgr:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}cc._RF.push(t,"2ddc4vGaFVJC7yLyEjczXw8","RemoteDataMgr");t.exports=new function e(){n(this,e)},cc._RF.pop()},{}],SPCommonTips:[function(e,t,s){"use strict";cc._RF.push(t,"8efc82tEyJH3bWuAjvd1yA5","SPCommonTips"),cc.Class({extends:cc.Component,properties:{txt:e("LabelLocalized"),anim:cc.Animation},init:function(e,t){this.txt.textKey=e,this.m_animFinishCallBack=t},onLoad:function(){var e=this;this.anim.play().on("stop",function(){e.m_animFinishCallBack&&e.m_animFinishCallBack(),e.node.destroy()})},start:function(){}}),cc._RF.pop()},{LabelLocalized:"LabelLocalized"}],SPConstant:[function(e,t,s){"use strict";var n,i,o,a;function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}cc._RF.push(t,"e7700vSodJJDaLjAvLfEsD7","SPConstant");var c={GAME_NAME:"DotsLinkCrush",KERNEL:{GRID_SIZE:100,MAX_WIDTH:8,MAX_HEIGHT:9,LINK_CRUSH_DELAY:[.1,.07,.04],DROP_INTERVAL:[.06,.04,.02],GRID_CRUSH_TIME:.5,PAC_MAN_EAT_TIME:.3,DOT_SELECT_AREA:{MIN:15,MAX:85},SEED_SETTLE_TIME:.3,KERNEL_BG_EDGE_DISTANCE:50,SHIFT_ONE_GRID_TIME:.35}};c.PROP_TYPE={SHOVEL_ROW:0,SHOVEL_COL:1,SHOVEL_ROW_COL:2,BOMB:3,SAME_CLEAR:4},c.ELEMENT_TYPE={DOT_BOX:0,DOT_BLUE:1,DOT_YELLOW:2,DOT_PURPLE:3,DOT_RED:4,DOT_GREEN:5,DOT_RANDOM:6,DOT_CONNECT:7,DOT_SLUSH:8,DOT_GUARD:9,DOT_PAC_MAN:10,DOT_FOOT_BALL:11,DOT_ICE:12},c.GAME_STATUS={WAIT_OPERATE:0,DOT_LINKING:1,LINK_CRUSH:2,PROP_SETTLE:3,PROP_CRUSH:4,GAME_OVER:5,GAME_START:6,DOT_RESORT:7,SHIFT_ACTION:8,BUY_MOVES:9},c.UI_STYLE={BLUE:"blue",YELLOW:"yellow",RANDOM:"random"};var l=c.ELEMENT_TYPE;c.DOT_COLOR=(r(o={},c.UI_STYLE.BLUE,(r(n={},l.DOT_BLUE,cc.color(138,187,199,255)),r(n,l.DOT_YELLOW,cc.color(246,206,123,255)),r(n,l.DOT_PURPLE,cc.color(135,64,120,255)),r(n,l.DOT_RED,cc.color(214,88,99,255)),r(n,l.DOT_GREEN,cc.color(86,169,121,255)),n)),r(o,c.UI_STYLE.YELLOW,(r(i={},l.DOT_BLUE,cc.color(228,166,75,255)),r(i,l.DOT_YELLOW,cc.color(228,91,83,255)),r(i,l.DOT_PURPLE,cc.color(146,60,104,255)),r(i,l.DOT_RED,cc.color(42,69,98,255)),r(i,l.DOT_GREEN,cc.color(64,134,101,255)),i)),o),c.DOT_COLOR_ARR=[c.DOT_COLOR[l.DOT_BLUE],c.DOT_COLOR[l.DOT_YELLOW],c.DOT_COLOR[l.DOT_PURPLE],c.DOT_COLOR[l.DOT_RED],c.DOT_COLOR[l.DOT_GREEN]],c.DOT_ZINDEX={BOTTOM:1,CENTER:2,LINK:2,TOP:3},c.GEN_ROW_COL_CNT={FIRST:6,STEP:4},c.ROW_COL_TYPE={NONE:0,ROW:1,COL:2,BOTH:3},c.LEVEL_MAP_COLOR={YELLOW:cc.color(255,254,143),GREEN:cc.color(36,120,88,255),PURPLE:cc.color(88,49,160,255),RED:cc.color(168,0,16,255)},c.GAME_SPEED={LOW:0,MEDIUM:1,HIGH:2},c.DYNAMIC_RES_PATH={UI_STYLE_ATLAS:"splash/uistyle/{0}/{1}",UI_STYLE_DIR:"splash/uistyle/{0}"},c.MAP_SCROLL_SPEED=.5,c.PROP_PRICE=(r(a={},c.PROP_TYPE.SHOVEL_ROW,[{num:1,price:5},{num:3,price:15},{num:10,price:50}]),r(a,c.PROP_TYPE.SHOVEL_COL,[{num:1,price:5},{num:3,price:15},{num:10,price:50}]),r(a,c.PROP_TYPE.SHOVEL_ROW_COL,[{num:1,price:10},{num:3,price:30},{num:10,price:100}]),r(a,c.PROP_TYPE.BOMB,[{num:1,price:10},{num:3,price:30},{num:10,price:100}]),r(a,c.PROP_TYPE.SAME_CLEAR,[{num:1,price:10},{num:3,price:30},{num:10,price:100}]),a),c.GOLDS_COST={THREE_STEPS:10},c.SHOP_CONFIG=[{type:"video",goldsCnt:10}],c.EVENTS={ON_COLOR_BLIND_SETTINGS:0,GOLDS_CHANGE:1,GAME_SPEED_CHANGE:2},c.URL={PRIVACY:"https://www.herofight.cn/DotsLinkCrushPrivacy",RATE:"https://play.google.com/store/apps/details?id=cn.herofight.dotslinkcrush.gp"},t.exports=c,cc._RF.pop()},{}],SPDataMgr:[function(e,t,s){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,s){return t&&o(e.prototype,t),s&&o(e,s),e}cc._RF.push(t,"ca358X8M+pKErk7kOzyBiQv","SPDataMgr");var r=function(){function e(){i(this,e),this.loadData(),hf.i18n.init(this.m_data.lang)}return a(e,[{key:"loadData",value:function(){var e;this.m_launchCnt++,this.m_data={musicOn:!0,soundOn:!0,vibOn:!0,colorBlind:!1,theme:splash.SPConstant.UI_STYLE.BLUE,gameSpeed:splash.SPConstant.GAME_SPEED.LOW,launchCnt:0,goldsCnt:26,curLevel:1,lang:hf.i18n.getDefaultLang(),propsNum:(e={},n(e,splash.SPConstant.PROP_TYPE.SHOVEL_ROW,3),n(e,splash.SPConstant.PROP_TYPE.SHOVEL_COL,3),n(e,splash.SPConstant.PROP_TYPE.SHOVEL_ROW_COL,3),n(e,splash.SPConstant.PROP_TYPE.BOMB,3),n(e,splash.SPConstant.PROP_TYPE.SAME_CLEAR,3),e),timeFlag:0};var t,s=cc.sys.localStorage.getItem("splash");if(s){try{t=JSON.parse(s)}catch(e){t={}}for(var i in t){var o=t[i];this.m_data[i]=o}}this.m_playLevel=this.m_data.curLevel}},{key:"setLang",value:function(e){this.m_data.lang=e,hf.i18n.init(e),this.saveData()}},{key:"isMusicOn",value:function(){return this.m_data.musicOn}},{key:"isSoundOn",value:function(){return this.m_data.soundOn}},{key:"setMusicOn",value:function(e){this.m_data.musicOn=!!e,this.saveData()}},{key:"setSoundOn",value:function(e){this.m_data.soundOn=!!e,this.saveData()}},{key:"isVibOn",value:function(){return this.m_data.vibOn}},{key:"setVibOn",value:function(e){this.m_data.vibOn=!!e,this.saveData()}},{key:"isColorBlind",value:function(){return this.m_data.colorBlind}},{key:"setColorBlind",value:function(e){this.m_data.colorBlind=e,this.saveData()}},{key:"setTheme",value:function(e){this.m_data.theme=e,this.saveData()}},{key:"getTheme",value:function(){return this.m_data.theme}},{key:"setGameSpeed",value:function(e){this.m_data.gameSpeed=e,hf.globalEvent.emit(splash.SPConstant.EVENTS.GAME_SPEED_CHANGE),this.saveData()}},{key:"getGameSpeed",value:function(){return this.m_data.gameSpeed}},{key:"saveData",value:function(){this.m_data.timeFlag=(new Date).getTime(),cc.sys.localStorage.setItem("splash",JSON.stringify(this.m_data))}},{key:"setPlayLevel",value:function(e){this.m_playLevel=e}},{key:"getPlayLevel",value:function(){return this.m_playLevel}},{key:"getCurLevel",value:function(){return this.m_data.curLevel}},{key:"onLevelPass",value:function(){var e=this.m_playLevel;e<=splash.globalVar.maxLevel&&(e>=this.m_data.curLevel?(this.m_data.curLevel++,this.m_playLevel=this.m_data.curLevel):this.m_playLevel++),this.saveData()}},{key:"getPropNum",value:function(e){return this.m_data.propsNum[e]}},{key:"useProp",value:function(e){return--this.m_data.propsNum[e]}},{key:"addProp",value:function(e,t){return this.m_data.propsNum[e]+=t,this.m_data.propsNum[e]}},{key:"getGoldsNum",value:function(){return this.m_data.goldsCnt}},{key:"costGolds",value:function(e){this.m_data.goldsCnt<e?this.m_data.goldsCnt=0:this.m_data.goldsCnt-=e,this.saveData(),this.notifyGoldsChange()}},{key:"addGolds",value:function(e){this.m_data.goldsCnt+=e,this.saveData(),this.notifyGoldsChange()}},{key:"notifyGoldsChange",value:function(){hf.globalEvent.emit(splash.SPConstant.EVENTS.GOLDS_CHANGE)}},{key:"getLaunchCnt",value:function(){return this.m_data.launchCnt}}]),e}();t.exports=new r,cc._RF.pop()},{}],SPElementsGenerator:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"72725Ae1OxEMoOHoWrQDggH","SPElementsGenerator");var a=function(){function e(){n(this,e),splash.lvlInfo.m_extralInfo.specialElements&&(this.m_specialElementsInfo=splash.lvlInfo.m_extralInfo.specialElements,this.m_curPoint=0,Array.isArray(this.m_specialElementsInfo)?this.updateInfoByPoint():this.updateStepsInfo())}return o(e,[{key:"updateInfoByPoint",value:function(){if(this.m_curInfo=this.m_specialElementsInfo[this.m_curPoint],this.m_curInfo){for(var e=[],t=0;t<this.m_curInfo.elements.length;t++)for(var s=this.m_curInfo.elements[t],n=0;n<s.count;n++)e.push(s.elmType);hf.utilsMgr.mathHelper.shuffleArr(e),this.m_elmArr=e}else this.m_specialElementsInfo=void 0,this.m_hasLeftElms=void 0,this.m_elmArr=void 0}},{key:"updateStepsInfo",value:function(){for(var e=[],t=0;t<this.m_specialElementsInfo.elements.length;t++)for(var s=this.m_specialElementsInfo.elements[t],n=0;n<s.count;n++)e.push(s.elmType);hf.utilsMgr.mathHelper.shuffleArr(e),this.m_elmArr=e;var i=this.m_specialElementsInfo.steps;cc.assert(this.m_elmArr.length<=i[1]-i[0]+1,"Should have more steps to generate elments");var o=[];for(t=i[0];t<=i[1];t++)o.push(t);hf.utilsMgr.mathHelper.shuffleArr(o),(o=o.slice(0,this.m_elmArr.length)).sort(function(e,t){return e-t}),this.m_stepArr=o}},{key:"getNewElmType",value:function(){return splash.lvlInfo.getRandDotType()}},{key:"getSpecialElments",value:function(e){if(e<=0)return[];if(this.m_curInfo){if(this.m_hasLeftElms)return this.popElms(e);if(this.meetConditions())return this.popElms(e)}else if(this.m_stepArr&&this.m_curPoint<this.m_elmArr.length&&splash.game.getUsedMoves()>=this.m_stepArr[this.m_curPoint])return[this.m_elmArr[this.m_curPoint++]];return[]}},{key:"popElms",value:function(e){if(e>=this.m_elmArr.length)return this.m_hasLeftElms=!1,this.m_curPoint++,t=this.m_elmArr,this.updateInfoByPoint(),t;var t=this.m_elmArr.slice(0,e);return this.m_elmArr=this.m_elmArr.slice(e),this.m_hasLeftElms=!0,t}},{key:"meetConditions",value:function(){for(var e=this.m_curInfo.conditions,t=splash.game.kernel.gridMgr.calculateAll().rowInfo,s=0;s<e.length;s++){var n=e[s],i=n.rangeY,o=n.elmType;switch(n.type){case"clear":for(var a=0,r=i[0];r<=i[1];r++){a+=t[r-1][o]||0}if(a>0)return!1}}return!0}}]),e}();t.exports=a,cc._RF.pop()},{}],SPFootBallDot:[function(e,t,s){"use strict";cc._RF.push(t,"5c88b0+rjhGUb0BPsGDnNYG","SPFootBallDot"),cc.Class({extends:cc.Component,properties:{},start:function(){},onCrush:function(){var e=this;this.node.runAction(cc.sequence(cc.blink(.5,2),cc.callFunc(function(){e.node.destroy()})))}}),cc._RF.pop()},{}],SPGameEndMgr:[function(e,t,s){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}cc._RF.push(t,"f38b3r/lWtKZqmBGB7QTpWg","SPGameEndMgr"),cc.Class({extends:cc.Component,properties:{gameFinishTipsPref:cc.Prefab,gameSuccessPref:cc.Prefab,gameFailedPref:cc.Prefab},start:function(){},showAddStepsTips:function(){var e=this;splash.soundMgr.playNoMoves();var t=splash.SPConstant.GOLDS_COST.THREE_STEPS;splash.uiHelper.showMessageBox({msg:hf.i18n.t("addstepstips"),btn1Name:hf.i18n.t("costgolds").format(t),btn1CallBack:function(){if(splash.dataMgr.getGoldsNum()>=t)return splash.dataMgr.costGolds(t),splash.uiHelper.showCommonTips("successBuyTips",function(){splash.game.addStepsAndContinue(3)}),!0;splash.uiHelper.showShop()},closeCallBack:function(){e.showGameFailed()}})},showGameSuccess:function(){var e=this;splash.soundMgr.playWin();var t=cc.instantiate(this.gameFinishTipsPref);t.parent=this.node,t.getComponent("SPGameFinishTips").setAnimFinishCallBack(function(){cc.instantiate(e.gameSuccessPref).parent=e.node})},showGameFailed:function(){splash.soundMgr.playFail(),cc.instantiate(this.gameFailedPref).parent=this.node,hf.analysisMgr.logEvent(hf.analysisMgr.EVENT_TYPE.LEVEL_FAIL,n({},hf.analysisMgr.PARAM_TYPE.LEVEL,splash.dataMgr.getPlayLevel()))},showNoAnswerNoResort:function(){var e=this;splash.uiHelper.showMessageBox({msg:hf.i18n.t("noanwsernoresort"),btn1Name:hf.i18n.t("sure"),btn1CallBack:function(){return e.showGameFailed(),!0}})}}),cc._RF.pop()},{}],SPGameFailed:[function(e,t,s){"use strict";cc._RF.push(t,"5324eg7L0BEl7IJkuVWxTUQ","SPGameFailed"),cc.Class({extends:cc.Component,properties:{anim:cc.Animation},onLoad:function(){this.anim.play()},start:function(){},onRetry:function(){splash.soundMgr.playBtnClick(),splash.game.retryLevel()},onMap:function(){splash.soundMgr.playBtnClick(),splash.game.exitToMap()}}),cc._RF.pop()},{}],SPGameFinishTips:[function(e,t,s){"use strict";cc._RF.push(t,"28241Tub/JDvKAE3naDiz2d","SPGameFinishTips"),cc.Class({extends:cc.Component,properties:{txt:e("LabelLocalized"),anim:cc.Animation},onLoad:function(){var e=this;Math.random()>.5?this.txt.textKey="verygood":this.txt.textKey="great",this.anim.play().on("stop",function(){e.m_animFinishCallBack(),e.node.destroy()})},setAnimFinishCallBack:function(e){this.m_animFinishCallBack=e},start:function(){}}),cc._RF.pop()},{LabelLocalized:"LabelLocalized"}],SPGameGoalTips:[function(e,t,s){"use strict";cc._RF.push(t,"385a5vpvTFJyJ5DUH+G4PcI","SPGameGoalTips"),cc.Class({extends:cc.Component,properties:{goalMgr:e("SPGoalMgr")},onLoad:function(){this.node.scaleX=0},init:function(e){this.m_callBack=e,this.goalMgr.init(splash.lvlInfo.getGoal()),this.node.runAction(cc.sequence(cc.scaleTo(.2,1.2,1),cc.scaleTo(.1,.9,1),cc.scaleTo(.1,1,1),cc.delayTime(.4),cc.callFunc(this.dotsAction.bind(this))))},dotsAction:function(){for(var e=this,t=this.goalMgr.getGoalNodeArr(),s=splash.game.goal.node.convertToWorldSpaceAR(cc.v2(0,0)),n=this.goalMgr.node.convertToWorldSpaceAR(cc.v2(0,0)),i=s.sub(n),o=function(s){var n=t[s],o=n.scale;n.runAction(cc.sequence(cc.delayTime(.2*s),cc.moveBy(.1,i),cc.scaleTo(.1,1.2*o),cc.scaleTo(.1,o),cc.callFunc(function(){if(s===t.length-1){for(var n=0;n<t.length;n++){t[n].active=!1}e.m_callBack(),e.node.runAction(cc.sequence(cc.scaleTo(.2,1.2,1),cc.scaleTo(.1,0,1),cc.callFunc(function(){e.node.destroy()})))}})))},a=0;a<t.length;a++)o(a)},start:function(){}}),cc._RF.pop()},{SPGoalMgr:"SPGoalMgr"}],SPGameScene:[function(e,t,s){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}cc._RF.push(t,"d68974J9E9KwrqwR/Y0i5eq","SPGameScene");var i=e("SPLevelParser");cc.Class({extends:cc.Component,properties:{goal:e("SPGoalMgr"),prop:e("SPPropMgr"),kernel:e("SPKernel"),gameEnd:e("SPGameEndMgr"),levelNum:cc.Label,stepNum:cc.Label,gameBg:cc.Sprite,stepBg:cc.Sprite,goalBg:cc.Sprite,levelBg:cc.Sprite,gameGoalTipsPref:cc.Prefab,topLayerCameraNode:cc.Node},onLoad:function(){splash.game=this,cc.winSize.width<900&&(this.kernel.node.scale=cc.winSize.width/900),this.m_gameStatus=splash.SPConstant.GAME_STATUS.GAME_START,this.initLevel(),this.updateAllByStyle(splash.globalVar.gameUIStyleSpfArr),splash.globalVar.gameUIStyleSpfArr=void 0},start:function(){splash.soundMgr.playBgMusic()},initLevel:function(){var e=this;if(splash.lvlInfo)this.kernel.init(),this.initLevelMoves();else{splash.dataMgr.setPlayLevel(62),new i(62,function(t){splash.lvlInfo=t,e.kernel.init(),e.initLevelMoves()})}},initLevelMoves:function(){var e=splash.lvlInfo.getLevelNum(),t=splash.lvlInfo.getMoves();this.levelNum.string=e,this.stepNum.string=t,this.m_usedMoves=0,this.m_curMoves=t,hf.analysisMgr.setCustomKey("level_start",e+"")},showGameGoalTips:function(e){var t=cc.instantiate(this.gameGoalTipsPref);t.parent=this.node,t.getComponent("SPGameGoalTips").init(e)},showGoal:function(){this.goal.init(splash.lvlInfo.getGoal())},setGameStatus:function(e){this.m_gameStatus=e},getUsedMoves:function(){return this.m_usedMoves},getGameStatus:function(){return this.m_gameStatus},updateMovesDisplay:function(){this.stepNum.string=this.m_curMoves},useOneMove:function(){this.m_curMoves--,this.m_usedMoves++,this.updateMovesDisplay()},oneStepOverCheck:function(){var e=this;splash.game.goal.isGoalFinished()?(this.setGameStatus(splash.SPConstant.GAME_STATUS.GAME_OVER),this.gameEnd.showGameSuccess(),hf.analysisMgr.logEvent(hf.analysisMgr.EVENT_TYPE.LEVEL_UP,n({},hf.analysisMgr.PARAM_TYPE.LEVEL,splash.dataMgr.getPlayLevel())),splash.dataMgr.onLevelPass()):0===this.m_curMoves?(this.gameEnd.showAddStepsTips(),this.setGameStatus(splash.SPConstant.GAME_STATUS.BUY_MOVES)):this.kernel.gridMgr.checkShift()?(this.setGameStatus(splash.SPConstant.GAME_STATUS.SHIFT_ACTION),this.kernel.gridMgr.doOneStepShiftAction(function(){e.continueGame()})):this.continueGame()},addStepsAndContinue:function(e){this.m_curMoves+=e,this.updateMovesDisplay(),this.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE)},continueGame:function(){var e=this,t=this.kernel.gridMgr.getTips();this.m_curTips=t,null==t?(this.setGameStatus(splash.SPConstant.GAME_STATUS.GAME_OVER),this.gameEnd.showNoAnswerNoResort()):"resort"===t.type?(splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.DOT_RESORT),splash.uiHelper.showCommonTips("noanswersort",function(){e.kernel.gridMgr.doResort(t.info,function(){var t=e.kernel.gridMgr.getTips();e.m_curTips=t,splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE)})})):splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE)},exitToMap:function(){splash.lvlInfo=void 0,splash.sceneToLoad="SPMainScene",cc.director.loadScene("SPSplashScene")},loadNextLevel:function(){var e=splash.lvlInfo.getLevelNum()+1;e<=splash.globalVar.maxLevel?new i(e,function(e){splash.lvlInfo=e,splash.sceneToLoad="SPGameScene",cc.director.loadScene("SPSplashScene"),++hf.playedTimes%3==0&&hf.adsMgr.showInterstitialAd()}):this.exitToMap()},retryLevel:function(){splash.sceneToLoad="SPGameScene",cc.director.loadScene("SPSplashScene")},onClickGameBg:function(){this.getGameStatus()===splash.SPConstant.GAME_STATUS.PROP_SETTLE&&(this.prop.cancelPropSelect(),splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE))},updateAllByStyle:function(e){for(var t={},s=0;s<e.length;s++)t[e[s].name]=e[s];this.kernel.updateStyle(t),this.updateStyle(t),this.prop.updateStyle(t)},updateStyle:function(e){this.gameBg.spriteFrame=e.gameBg,this.stepBg.spriteFrame=e.stepBg,this.levelBg.spriteFrame=e.stepBg,this.goalBg.spriteFrame=e.goalBg},onDestroy:function(){var e=splash.globalVar.curTheme,t=splash.SPConstant.DYNAMIC_RES_PATH.UI_STYLE_ATLAS.format(e,e),s=cc.loader.getDependsRecursively(t);cc.loader.release(s)},getTopLayerCamera:function(){return this.topLayerCameraNode}}),cc._RF.pop()},{SPGameEndMgr:"SPGameEndMgr",SPGoalMgr:"SPGoalMgr",SPKernel:"SPKernel",SPLevelParser:"SPLevelParser",SPPropMgr:"SPPropMgr"}],SPGameSuccess:[function(e,t,s){"use strict";cc._RF.push(t,"55d7dJRr6FKyK6zO/vhyeql","SPGameSuccess"),cc.Class({extends:cc.Component,properties:{txt:e("LabelLocalized"),posNodeArr:[cc.Node],star:cc.Node,star2:cc.Node,doubleRewardNode:cc.Node,anim:cc.Animation},onLoad:function(){this.starAction()},start:function(){var e=this;Math.random()>.5?this.txt.textKey="perfect":this.txt.textKey="excellent",this.anim.play().on("stop",function(){e.checkRate()})},checkRate:function(){var e=splash.dataMgr.getPlayLevel();6!==e&&12!==e&&24!==e||this.inviteRate()},inviteRate:function(e){splash.uiHelper.showMessageBox({msg:hf.i18n.t("rateTips"),btn1Name:hf.i18n.t("rate"),btn1CallBack:function(){return cc.sys.openURL(splash.SPConstant.URL.RATE),!0},closeCallBack:function(){}})},starAction:function(){for(var e=this,t=[],s=function(s){t.push(cc.delayTime(.3)),t.push(cc.callFunc(function(){e.star.opacity=0,e.star.setPosition(e.posNodeArr[s].getPosition()),e.star.runAction(cc.fadeIn(.15))}))},n=0;n<this.posNodeArr.length;n++)s(n);var i=cc.repeatForever(cc.sequence(t));this.star.runAction(i),t=[],this.star2.opacity=0;for(var o=function(s){t.push(cc.delayTime(.3)),t.push(cc.callFunc(function(){e.star2.opacity=0,e.star2.setPosition(e.posNodeArr[s].getPosition()),e.star2.runAction(cc.fadeIn(.15))}))},a=0;a<this.posNodeArr.length;a++)o(a);i=cc.repeatForever(cc.sequence(t));this.scheduleOnce(function(){e.star2.runAction(i)},.9)},onNext:function(){splash.soundMgr.playBtnClick(),splash.game.loadNextLevel()},onMap:function(){splash.soundMgr.playBtnClick(),splash.game.exitToMap()},onDouble:function(){}}),cc._RF.pop()},{LabelLocalized:"LabelLocalized"}],SPGoalDot:[function(e,t,s){"use strict";cc._RF.push(t,"632932opvNNg4WROn+hViRI","SPGoalDot"),cc.Class({extends:cc.Component,properties:{linkDotSpf:cc.SpriteFrame,slushSpf:cc.SpriteFrame,guardSpf:cc.SpriteFrame,pacManSpf:cc.SpriteFrame,footBallSpf:cc.SpriteFrame,iceSpf:cc.SpriteFrame,goalNumLb:cc.Label,goalSp:cc.Sprite,okFlag:cc.Node,colorBlindNum:cc.Label},onLoad:function(){hf.globalEvent.on(splash.SPConstant.EVENTS.ON_COLOR_BLIND_SETTINGS,this.colorBlindApply,this)},onDestroy:function(){hf.globalEvent.off(splash.SPConstant.EVENTS.ON_COLOR_BLIND_SETTINGS,this.colorBlindApply,this)},start:function(){},init:function(e,t){switch(this.m_goalNum=t,this.m_elmType=e,e){case splash.SPConstant.ELEMENT_TYPE.DOT_BLUE:case splash.SPConstant.ELEMENT_TYPE.DOT_YELLOW:case splash.SPConstant.ELEMENT_TYPE.DOT_PURPLE:case splash.SPConstant.ELEMENT_TYPE.DOT_RED:case splash.SPConstant.ELEMENT_TYPE.DOT_GREEN:case splash.SPConstant.ELEMENT_TYPE.DOT_CONNECT:this.goalSp.spriteFrame=this.linkDotSpf,this.goalSp.node.color=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][e];break;case splash.SPConstant.ELEMENT_TYPE.DOT_SLUSH:this.goalSp.spriteFrame=this.slushSpf;break;case splash.SPConstant.ELEMENT_TYPE.DOT_GUARD:this.goalSp.spriteFrame=this.guardSpf;break;case splash.SPConstant.ELEMENT_TYPE.DOT_ICE:this.goalSp.spriteFrame=this.iceSpf;break;case splash.SPConstant.ELEMENT_TYPE.DOT_FOOT_BALL:this.goalSp.spriteFrame=this.footBallSpf;break;case splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN:this.goalSp.spriteFrame=this.pacManSpf}this.updateNum(0),this.colorBlindApply()},colorBlindApply:function(){this.m_elmType>=splash.SPConstant.ELEMENT_TYPE.DOT_BLUE&&this.m_elmType<=splash.SPConstant.ELEMENT_TYPE.DOT_GREEN&&splash.dataMgr.isColorBlind()?(this.colorBlindNum.node.active=!0,this.colorBlindNum.string=String.fromCharCode(this.m_elmType-splash.SPConstant.ELEMENT_TYPE.DOT_BLUE+65)):this.colorBlindNum.node.active=!1},updateNum:function(e){var t=this;this.m_curNum=e,this.goalNumLb.string=e+"/"+this.m_goalNum,e>=this.m_goalNum&&!this.m_goalFinished&&(this.m_goalFinished=!0,this.goalNumLb.node.active=!1,this.okFlag.active=!0,splash.soundMgr.playGoalFinish()),!this.m_goalFinished&&e>0&&!this.m_isAction&&(this.m_isAction=!0,this.goalNumLb.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){t.m_isAction=!1}))))},reset:function(){this.updateNum(0)},isGoalFinished:function(){return this.m_goalFinished}}),cc._RF.pop()},{}],SPGoalMgr:[function(e,t,s){"use strict";cc._RF.push(t,"64fee0xMZ9KoaepslAhwcJa","SPGoalMgr");var n={1:1,2:.95,3:.9,4:.85,5:.8};cc.Class({extends:cc.Component,properties:{goalPref:cc.Prefab},onLoad:function(){},start:function(){},init:function(e){var t=e.length,s=n[t],i=80*s;this.m_elmTypeMapGoal={},this.m_goalNodeArr=[];for(var o=0;o<t;o++){var a=e[o],r=cc.instantiate(this.goalPref);r.parent=this.node,r.scale=s,r.x=(o-(t-1)/2)*i;var c=r.getComponent("SPGoalDot");c.init(a.elmType,a.goalNum),this.m_elmTypeMapGoal[a.elmType]=c,this.m_goalNodeArr.push(r)}this.m_elmCollectNum={},this.m_oneStepElmCollectNum={}},getGoalNodeArr:function(){return this.m_goalNodeArr},oneStepReset:function(){this.m_oneStepElmCollectNum={}},onElmCollect:function(e){for(var t=0;t<e.length;t++){var s=e[t];this.m_elmCollectNum[s]||(this.m_elmCollectNum[s]=0),this.m_elmCollectNum[s]++,this.m_oneStepElmCollectNum[s]||(this.m_oneStepElmCollectNum[s]=0),this.m_oneStepElmCollectNum[s]++,this.m_elmTypeMapGoal[s]&&this.m_elmTypeMapGoal[s].updateNum(this.m_elmCollectNum[s])}},isGoalFinished:function(){for(var e in this.m_elmTypeMapGoal)if(!this.m_elmTypeMapGoal[e].isGoalFinished())return!1;return!0},hasPacmanCrushedInThisStep:function(){return this.m_oneStepElmCollectNum[splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN]}}),cc._RF.pop()},{}],SPGoldNumSync:[function(e,t,s){"use strict";cc._RF.push(t,"1a3bfVsgp1E07kA27+djIak","SPGoldNumSync"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;this.m_goldLabel=this.node.getComponent(cc.Label),this.m_goldLabel.string=splash.dataMgr.getGoldsNum(),this.m_goldsChangeListener=function(){e.m_goldLabel.string=splash.dataMgr.getGoldsNum()},hf.globalEvent.on(splash.SPConstant.EVENTS.GOLDS_CHANGE,this.m_goldsChangeListener)},onDestroy:function(){hf.globalEvent.off(splash.SPConstant.EVENTS.GOLDS_CHANGE,this.m_goldsChangeListener)},start:function(){}}),cc._RF.pop()},{}],SPGoldShop:[function(e,t,s){"use strict";cc._RF.push(t,"26379Phy/pA87GCSKh8bilJ","SPGoldShop"),cc.Class({extends:cc.Component,properties:{shopItemPref:cc.Prefab,goldNumLb:cc.Label,adsTips:e("LabelLocalized")},start:function(){for(var e=this,t=splash.SPConstant.SHOP_CONFIG,s=function(s){var n=t[s];(i=cc.instantiate(e.shopItemPref)).parent=e.node,i.y=250-100*s,i.getComponent("SPShopItem").init(s,n,function(){e.onBuy(n)})},n=0;n<t.length;n++){var i;s(n)}this.adsTips.textKey="goldshopadstips"},onClose:function(){splash.soundMgr.playBtnClick(),this.node.destroy()},onBuy:function(e){var t=this;cc.log("SPGoldShop onBuy "),splash.soundMgr.playBtnClick(),"video"===e.type?hf.adsMgr.showRewardVideo(function(s,n){s&&n&&t.onGetItemSuccess(e)}):e.type},onGetItemSuccess:function(e){splash.dataMgr.addGolds(e.goldsCnt),splash.uiHelper.showCommonTips("successBuyTips")}}),cc._RF.pop()},{LabelLocalized:"LabelLocalized"}],SPGrid:[function(e,t,s){"use strict";cc._RF.push(t,"b374ahAtihNnYXowyQ/D/fG","SPGrid"),cc.Class({extends:cc.Component,properties:{linkDotPref:cc.Prefab,slushPref:cc.Prefab,guardPref:cc.Prefab,pacManPref:cc.Prefab,footBallPref:cc.Prefab,icePref:cc.Prefab,rowColSelectBg:cc.Node,solidShadow:cc.Node,emptyBg:cc.Node,shadowLineLeft:cc.Node,shadowLineUp:cc.Node,shadowLineRight:cc.Node,shadowLineDown:cc.Node,shadowCorner:cc.Node},onLoad:function(){this.m_leftRightOrder=0,splash.globalVar.curTheme===splash.SPConstant.UI_STYLE.YELLOW&&(this.rowColSelectBg.color=cc.Color.BLACK,this.rowColSelectBg.opacity=66),this.m_normalParent=this.node.parent},setGuideParent:function(e){this.m_guideParent=e},setGuideDisplay:function(e){this.node.removeFromParent(!1),this.node.parent=e?this.m_guideParent:this.m_normalParent},start:function(){},showStartEffect:function(){this.node.runAction(cc.scaleTo(.26,1))},showLinkEffect:function(){var e=this.m_dotsInfo.link?this.m_dotsInfo.link.node:null;e&&e.getComponent("SPLinkDots").showLinkEffect()},init:function(e,t,s){e.length<=0&&(this.emptyBg.active=!0,this.m_isSolid=!0,this.solidShadow.active=!0),this.m_hIndex=t,this.m_wIndex=s,this.m_dotsInfo={},this.m_rowColType=splash.SPConstant.ROW_COL_TYPE.NONE;for(var n=0;n<e.length;n++){var i=e[n];i===splash.SPConstant.ELEMENT_TYPE.DOT_RANDOM&&(i=splash.lvlInfo.getRandDotType()),i!==splash.SPConstant.ELEMENT_TYPE.DOT_BOX&&this.addElementNode(i)}this.updateStatus()},updateSolidShadows:function(e){this.shadowLineLeft.active=!e.leftSolid,this.shadowLineRight.active=!e.rightSolid,this.shadowLineUp.active=!e.upSolid,this.shadowLineDown.active=!e.downSolid,this.shadowCorner.active=e.upSolid&&e.leftSolid&&!e.topLeftSolid},setDisplayedHWIndex:function(e,t){this.m_displayedHIndex=e,this.m_displayedWIndex=t},addElementNode:function(e){var t;switch(e){case splash.SPConstant.ELEMENT_TYPE.DOT_BLUE:case splash.SPConstant.ELEMENT_TYPE.DOT_YELLOW:case splash.SPConstant.ELEMENT_TYPE.DOT_PURPLE:case splash.SPConstant.ELEMENT_TYPE.DOT_RED:case splash.SPConstant.ELEMENT_TYPE.DOT_GREEN:case splash.SPConstant.ELEMENT_TYPE.DOT_CONNECT:(t=cc.instantiate(this.linkDotPref)).getComponent("SPLinkDots").init(e),t.zIndex=splash.SPConstant.DOT_ZINDEX.CENTER,cc.assert(!this.m_dotsInfo.link,"SPGRID addElementNode - dot already exist",e),this.m_dotsInfo.link={type:e,node:t};break;case splash.SPConstant.ELEMENT_TYPE.DOT_SLUSH:(t=cc.instantiate(this.slushPref)).zIndex=splash.SPConstant.DOT_ZINDEX.BOTTOM,cc.assert(!this.m_dotsInfo.bottom,"SPGRID addElementNode - dot already exist",e),this.m_dotsInfo.bottom={type:e,node:t};break;case splash.SPConstant.ELEMENT_TYPE.DOT_GUARD:(t=cc.instantiate(this.guardPref)).zIndex=splash.SPConstant.DOT_ZINDEX.CENTER,cc.assert(!this.m_dotsInfo.center,"SPGRID addElementNode - dot already exist",e),this.m_dotsInfo.center={type:e,node:t};break;case splash.SPConstant.ELEMENT_TYPE.DOT_ICE:(t=cc.instantiate(this.icePref)).zIndex=splash.SPConstant.DOT_ZINDEX.TOP,cc.assert(!this.m_dotsInfo.top,"SPGRID addElementNode - dot already exist",e),this.m_dotsInfo.top={type:e,node:t};break;case splash.SPConstant.ELEMENT_TYPE.DOT_FOOT_BALL:(t=cc.instantiate(this.footBallPref)).zIndex=splash.SPConstant.DOT_ZINDEX.CENTER,cc.assert(!this.m_dotsInfo.center,"SPGRID addElementNode - dot already exist",e),this.m_dotsInfo.center={type:e,node:t};break;case splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN:(t=cc.instantiate(this.pacManPref)).zIndex=splash.SPConstant.DOT_ZINDEX.CENTER,cc.assert(!this.m_dotsInfo.center,"SPGRID addElementNode - dot already exist",e),this.m_dotsInfo.center={type:e,node:t}}return t.parent=this.node,t},isLinked:function(){return this.m_isLinked},setLinked:function(e){this.m_isLinked=e,e&&this.showLinkEffect()},setRowColSelected:function(e){this.m_isSolid||(this.rowColSelectBg.active=e)},updateStatus:function(){this.updateLinkType(),this.updateDropInfo(),this.updateContainInfo(),this.updateDropPriority()},getDropPriority:function(){return this.m_dropPriority},updateDropPriority:function(){this.m_hasDropDots&&this.m_dotsInfo.center&&this.m_dotsInfo.center.type===splash.SPConstant.ELEMENT_TYPE.DOT_FOOT_BALL?this.m_dropPriority=1:this.m_dropPriority=0},updateLinkType:function(){this.m_dotsInfo.top&&this.m_dotsInfo.top.type===splash.SPConstant.ELEMENT_TYPE.DOT_ICE?this.m_linkType=null:this.m_dotsInfo.link?this.m_linkType=this.m_dotsInfo.link.type:this.m_linkType=null},getLinkNode:function(){return this.m_dotsInfo.link?this.m_dotsInfo.link.node:null},getLinkType:function(){return this.m_linkType},getDotsInfo:function(){return this.m_dotsInfo},getWIndex:function(){return this.m_wIndex},getHIndex:function(){return this.m_hIndex},getDisplayedHIndex:function(){return this.m_displayedHIndex},getDisplayedWIndex:function(){return this.m_displayedWIndex},isReplaceable:function(){return null!=this.m_linkType},isContainAble:function(){return this.m_containAble},updateContainInfo:function(){this.m_isSolid||this.m_dotsInfo.top||this.m_dotsInfo.link||this.m_dotsInfo.center?this.m_containAble=!1:this.m_containAble=!0},updateDropInfo:function(){var e=this.m_dotsInfo.top,t=this.m_dotsInfo.center;e&&e.type===splash.SPConstant.ELEMENT_TYPE.DOT_ICE?this.m_hasDropDots=!1:this.m_dotsInfo.link?this.m_hasDropDots=!0:t&&t.type===splash.SPConstant.ELEMENT_TYPE.DOT_FOOT_BALL?this.m_hasDropDots=!0:this.m_hasDropDots=!1},hasDropDots:function(){return this.m_hasDropDots},putOutLinkDot:function(){var e=this.m_dotsInfo;e.link.node.removeFromParent(!1);var t=e.link;return delete e.link,this.m_rowColType=splash.SPConstant.ROW_COL_TYPE.NONE,this.updateStatus(),{link:t,rowColType:this.m_rowColType}},putInLinkDot:function(e){cc.assert(!this.m_dotsInfo.link,"SPGRID putInLinkDot - dot already exist"),this.m_dotsInfo.link=e.link,e.link.node.parent=this.node,this.m_rowColType=e.rowColType,this.updateStatus()},putOutDropDots:function(){var e=this.m_dotsInfo,t={};if(e.link&&(e.link.node.removeFromParent(!1),t.link=e.link,delete e.link),e.center)switch(e.center.type){case splash.SPConstant.ELEMENT_TYPE.DOT_FOOT_BALL:t.center=e.center,t.center.node.removeFromParent(!1),delete e.center}var s={dropDots:t,rowColType:this.m_rowColType};return this.m_rowColType=splash.SPConstant.ROW_COL_TYPE.NONE,this.updateStatus(),s},putInDropDots:function(e){var t=e.dropDots,s=[];for(var n in t){var i=t[n];cc.assert(!this.m_dotsInfo[n],"SPGRID putInDropDots - dot already exist",i.type),this.m_dotsInfo[n]=i,i.node.parent=this.node,s.push(i.node)}return this.m_rowColType=e.rowColType,this.updateStatus(),s},putInNewDot:function(e){var t=this.addElementNode(e);return this.updateStatus(),t},isSolid:function(){return this.m_isSolid},isPassible:function(){return!this.m_isSolid&&!(this.m_dotsInfo.top||this.m_dotsInfo.center||this.m_dotsInfo.link)},dotCrush:function(){var e=this.m_dotsInfo,t=[];if(e.top){var s=e.top.node;switch(e.top.type){case splash.SPConstant.ELEMENT_TYPE.DOT_ICE:return s.getComponent("SPIceDot").onCrush(),delete e.top,this.updateStatus(),[splash.SPConstant.ELEMENT_TYPE.DOT_ICE]}}if(e.center){s=e.center.node;switch(e.center.type){case splash.SPConstant.ELEMENT_TYPE.DOT_GUARD:s.getComponent("SPGuardDot").onCrush(),t.push(splash.SPConstant.ELEMENT_TYPE.DOT_GUARD),delete e.center;break;case splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN:t.push(splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN),s.getComponent("SPPacmanDot").onCrush(),delete e.center}}else if(e.link){t.push(e.link.type),(s=e.link.node).getComponent("SPLinkDots").onCrush(),delete e.link}if(e.bottom){s=e.bottom.node;switch(e.bottom.type){case splash.SPConstant.ELEMENT_TYPE.DOT_SLUSH:t.push(splash.SPConstant.ELEMENT_TYPE.DOT_SLUSH),s.getComponent("SPSlushDot").onCrush(),delete e.bottom}}return this.m_rowColType=splash.SPConstant.ROW_COL_TYPE.NONE,this.updateStatus(),t},linkCrush:function(){return this.dotCrush()},rowColCrush:function(){return this.dotCrush()},squareCrush:function(){return this.dotCrush()},surroundCrush:function(){var e=this.m_dotsInfo,t=[];if(e.top){var s=e.top.node;switch(e.top.type){case splash.SPConstant.ELEMENT_TYPE.DOT_ICE:return s.getComponent("SPIceDot").onCrush(),delete e.top,this.updateStatus(),[splash.SPConstant.ELEMENT_TYPE.DOT_ICE]}}if(e.center){s=e.center.node;switch(e.center.type){case splash.SPConstant.ELEMENT_TYPE.DOT_GUARD:s.getComponent("SPGuardDot").onCrush(),delete e.center,t.push(splash.SPConstant.ELEMENT_TYPE.DOT_GUARD);break;case splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN:s.getComponent("SPPacmanDot").onCrush(),delete e.center,t.push(splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN)}}return this.updateStatus(),t},getLeftRightOrder:function(){return this.m_leftRightOrder},incLeftRightOrder:function(){this.m_leftRightOrder++},setRowColSeed:function(e){this.m_isRowColSeed=e},isRowColSeed:function(){return this.m_isRowColSeed},setRowColType:function(e){this.m_rowColType=e,this.showRowColEff(e)},showRowColEff:function(e){e=void 0===e?this.m_rowColType:e,this.m_dotsInfo.link&&this.m_dotsInfo.link.node.getComponent("SPLinkDots").showRowColEff(e)},getRowColType:function(){return this.m_rowColType},avaliableForRowColType:function(){if(this.m_linkType&&this.m_rowColType===splash.SPConstant.ROW_COL_TYPE.NONE)return!0},doDropAnimation:function(){this.m_dotsInfo.link&&this.m_dotsInfo.link.node.getComponent("SPLinkDots").doDropAnimation()},doBottomRowCrush:function(){return this.m_dotsInfo.center&&this.m_dotsInfo.center.type===splash.SPConstant.ELEMENT_TYPE.DOT_FOOT_BALL?(this.m_dotsInfo.center.node.getComponent("SPFootBallDot").onCrush(),delete this.m_dotsInfo.center,this.updateStatus(),splash.soundMgr.playFootball(),[splash.SPConstant.ELEMENT_TYPE.DOT_FOOT_BALL]):[]},hasPacman:function(){return!(!this.m_dotsInfo.center||this.m_dotsInfo.center.type!==splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN)},canEatByPacman:function(){return!(!this.m_dotsInfo.link||this.m_dotsInfo.top)},eatByPacman:function(e){var t=this,s=this.addElementNode(splash.SPConstant.ELEMENT_TYPE.DOT_PAC_MAN);return s.setPosition(e.x*splash.SPConstant.KERNEL.GRID_SIZE,e.y*splash.SPConstant.KERNEL.GRID_SIZE),s.scale=.66,s.angle=e.x>0?180:0+-90*e.y,s.runAction(cc.sequence(cc.moveTo(splash.SPConstant.KERNEL.PAC_MAN_EAT_TIME,cc.v2(0,0)),cc.callFunc(function(){t.m_dotsInfo.link.node.getComponent("SPLinkDots").onCrush(),delete t.m_dotsInfo.link,s.getComponent(cc.Animation).play(),s.runAction(cc.sequence(cc.scaleTo(.3,1),cc.rotateTo(.2,0))),t.updateStatus()}))),splash.SPConstant.KERNEL.PAC_MAN_EAT_TIME}}),cc._RF.pop()},{}],SPGuardDot:[function(e,t,s){"use strict";cc._RF.push(t,"e26c61HYT1CcYqDxmD76/K8","SPGuardDot"),cc.Class({extends:cc.Component,properties:{guardParticle:cc.Node},onLoad:function(){},onCrush:function(){var e=this;this.node.getChildByName("guard").active=!1,this.guardParticle.active=!0,this.scheduleOnce(function(){e.node.destroy()},.5),splash.soundMgr.playGuardCrush()},start:function(){}}),cc._RF.pop()},{}],SPIceDot:[function(e,t,s){"use strict";cc._RF.push(t,"fc61ehh331DQohj5vZtSA5H","SPIceDot"),cc.Class({extends:cc.Component,properties:{},start:function(){},onCrush:function(){var e=this;splash.soundMgr.playIce(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.node.destroy()})))}}),cc._RF.pop()},{}],SPInitAll:[function(e,t,s){"use strict";cc._RF.push(t,"41705ZJMgRLXbfuz0sFSVe9","SPInitAll"),splash.SPConstant=e("SPConstant"),splash.globalVar={},splash.dataMgr=e("SPDataMgr"),splash.uiHelper=e("SPUIHelper"),splash.sceneToLoad="SPStartScene",splash.globalVar.maxLevel=100,splash.globalVar.curTheme=splash.SPConstant.UI_STYLE.BLUE,cc._RF.pop()},{SPConstant:"SPConstant",SPDataMgr:"SPDataMgr",SPUIHelper:"SPUIHelper"}],SPKernelActionMgr:[function(e,t,s){"use strict";function n(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}cc._RF.push(t,"bcf79F/DfNFGqq4EEJ/GbY0","SPKernelActionMgr"),cc.Class({extends:cc.Component,properties:{motionNode:cc.Prefab},onLoad:function(){hf.globalEvent.on(splash.SPConstant.EVENTS.GAME_SPEED_CHANGE,this.onGameSpeedChange,this)},onDestroy:function(){hf.globalEvent.off(splash.SPConstant.EVENTS.GAME_SPEED_CHANGE,this.onGameSpeedChange,this)},onGameSpeedChange:function(){this.m_dropInterval=splash.SPConstant.KERNEL.DROP_INTERVAL[splash.dataMgr.getGameSpeed()],this.m_linkCrushInterval=splash.SPConstant.KERNEL.LINK_CRUSH_DELAY[splash.dataMgr.getGameSpeed()]},start:function(){},actionInit:function(e){this.m_crushOverCb=e,this.m_alreadyLinkRowColCrush={},this.m_alreadySurroundCrush={},this.onGameSpeedChange()},startLinkAction:function(e){this.actionInit(e),this.checkSquareCrush(),this.doLinkCrush()},startPropAction:function(e,t){this.actionInit(t);var s=e.getDisplayedHIndex(),n=e.getDisplayedWIndex(),i=splash.game.prop.getSelectedPropType();switch(i){case splash.SPConstant.PROP_TYPE.SHOVEL_COL:case splash.SPConstant.PROP_TYPE.SHOVEL_ROW:case splash.SPConstant.PROP_TYPE.SHOVEL_ROW_COL:splash.soundMgr.playRowCol();var o={},a={},r={},c={};i!==splash.SPConstant.PROP_TYPE.SHOVEL_ROW&&(o[n]=s,c[n]=cc.Color.WHITE),i!==splash.SPConstant.PROP_TYPE.SHOVEL_COL&&(a[s]=n,r[s]=cc.Color.WHITE);var l={selectedColInfo:o,selectedRowInfo:a,selectedRowColor:r,selectedColColor:c};this.doRowColCrush(l);break;case splash.SPConstant.PROP_TYPE.SAME_CLEAR:splash.soundMgr.playSameColor(),this.scheduleOnce(this.dropCheck.bind(this),this.sameColorCrush(e.getLinkType()));break;case splash.SPConstant.PROP_TYPE.BOMB:splash.soundMgr.playBomb();var h=e.getDisplayedWIndex(),p=e.getDisplayedHIndex();this.scheduleOnce(this.dropCheck.bind(this),this.sodukuCrush(p,h))}},checkSquareCrush:function(){if(splash.game.kernel.operateMgr.isSquareLinked()){var e=splash.game.kernel.operateMgr.getCurLinkType();return this.sameColorCrush(e)}},sameColorCrush:function(e){for(var t=splash.game.kernel.gridMgr,s=t.getDisplayedH()-1;s>=0;s--)for(var n=0;n<t.getDisplayedW();n++){var i=t.getDisplayedGridByPos(s,n);if(i.getLinkType()===e&&!i.isLinked()){var o=i.dotCrush();splash.game.goal.onElmCollect(o),this.m_alreadyLinkRowColCrush[i.uuid]=!0}}return splash.SPConstant.KERNEL.GRID_CRUSH_TIME},sodukuCrush:function(e,t){for(var s=splash.game.kernel.gridMgr,n=-1;n<=1;n++)for(var i=-1;i<=1;i++){var o=t+n,a=e+i,r=s.getDisplayedGridByPos(a,o);if(r){var c=r.dotCrush();splash.game.goal.onElmCollect(c),this.m_alreadyLinkRowColCrush[r.uuid]=!0}}return splash.SPConstant.KERNEL.GRID_CRUSH_TIME},doLinkCrush:function(){for(var e=this,t=splash.game.kernel.operateMgr.getLinkedGridArr(),s=t.length,n=function(n){var i=t[n];e.scheduleOnce(function(){if(!e.m_alreadyLinkRowColCrush[i.uuid]){splash.soundMgr.playDotsCrush();var t=i.linkCrush();splash.game.goal.onElmCollect(t),e.m_alreadyLinkRowColCrush[i.uuid]=!0}e.doSurroundCrush(i),n===s-1&&e.doRowColCrush(splash.game.kernel.operateMgr.getRowColSelectedInfo())},e.m_linkCrushInterval*n)},i=0;i<t.length;i++)n(i)},doSurroundCrush:function(e){for(var t=e.getDisplayedWIndex(),s=e.getDisplayedHIndex(),n=splash.game.kernel.gridMgr,i=[[-1,0],[0,1],[1,0],[0,-1]],o=0;o<i.length;o++){var a=i[o][0]+t,r=i[o][1]+s;if((e=n.getDisplayedGridByPos(r,a))&&!this.m_alreadySurroundCrush[e.uuid]){var c=e.surroundCrush();splash.game.goal.onElmCollect(c),this.m_alreadySurroundCrush[e.uuid]=!0}}},showBullet:function(e,t,s){var n=splash.game.kernel.gridMgr.getDisplayedGridByPos(t.row,t.col),i=splash.game.kernel.gridMgr.getCenterPos(),o=cc.instantiate(this.motionNode);o.setPosition(n.node.x-i.x,n.node.y-i.y),o.parent=this.node,o.getComponent("SPRowColBullet").showBullet(e,s)},doRowColCrush:function(e){var t=this,s=e.selectedRowInfo,n=e.selectedColInfo,i=e.selectedRowColor,o=e.selectedColColor,a=0,r=splash.game.kernel.gridMgr,c=r.getDisplayedW(),l=r.getDisplayedH();for(var h in s){var p=s[h];a=a>(g=p>c?p:c)?a:g;for(var d=function(){var e=r.getDisplayedGridByPos(h,u);_=Math.abs(u-p)*t.m_linkCrushInterval,t.scheduleOnce(function(){if(!t.m_alreadyLinkRowColCrush[e.uuid]){var s=e.rowColCrush();splash.game.goal.onElmCollect(s),t.m_alreadyLinkRowColCrush[e.uuid]=!0}},_)},u=0;u<c;u++){d()}this.showBullet({left:p,right:c-p-1},{row:h,col:p},i[h])}for(var u in n){var g,m=n[u];a=a>(g=m>c?m:c)?a:g;var f=function(){var e=r.getDisplayedGridByPos(h,u);_=Math.abs(h-m)*t.m_linkCrushInterval,t.scheduleOnce(function(){var t=e.rowColCrush();splash.game.goal.onElmCollect(t)},_)};for(h=0;h<l;h++){var _;f()}this.showBullet({up:m,down:l-m-1},{row:m,col:u},o[u])}a>0&&splash.soundMgr.playRowCol(),this.dropCheck(this.m_linkCrushInterval*a+.5)},dropCheck:function(e){var t=this;this.scheduleOnce(function(){t.scheduleOnce(function(){(function e(){var s=t.checkBottomRowCrush();s>0?t.scheduleOnce(function(){t.scheduleOnce(function(){e()},t.startDrop())},s):splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.LINK_CRUSH?t.scheduleOnce(t.m_crushOverCb,t.checkElementsInteract()):t.m_crushOverCb()})()},t.startDrop(!0))},e)},startDrop:function(e){var t=(new Date).getTime(),s=splash.game.kernel.gridMgr,n=s.getCurDisplayedStartH()+s.getDisplayedH();this.m_colNewDotsCnt=[];for(var i=0;i<s.getDisplayedW();i++)this.m_colNewDotsCnt.push(0);for(var o=0,a=[],r=n-1;r>=0;r--)for(var c=0;c<s.getDisplayedW();c++){var l=s.getGridByPos(r,c);if(l.isContainAble()){var h=this.getDropPath(l);if(h){var p=h[h.length-1];if(p.hIndex<0)cc.assert(null==p.newDotsOrder),p.newDotsOrder=this.m_colNewDotsCnt[p.wIndex]++,a.push({grid:l,dropPath:h});else{var d=s.getGridByPos(p.hIndex,p.wIndex);cc.assert(d.hasDropDots()),(m=this.dropDotsToGrid(l,h))>o&&(o=m)}}}}hf.utilsMgr.mathHelper.shuffleArr(a),a.sort(function(e,t){return e.grid.getDisplayedHIndex()<t.grid.getDisplayedHIndex()?-1:1});var u=[];e&&(u=splash.game.kernel.elmGenerator.getSpecialElments(a.length));for(var g=0;g<a.length;g++){var m,f=a[g];(m=this.dropDotsToGrid(f.grid,f.dropPath,u[g]))>o&&(o=m)}return this.m_colNewDotsCnt=void 0,cc.log("SPKernelActionMgr startDrop t - ",(new Date).getTime()-t),o},getDropPath:function(e){var t=this,s=splash.game.kernel.gridMgr,i=e.getWIndex(),o=e.getHIndex(),a=function(e){if(e){if(e.hasDropDots())return[{hIndex:e.getHIndex(),wIndex:e.getWIndex()}];if(e.isPassible()){var s=t.getDropPath(e);if(s){var i=[{hIndex:e.getHIndex(),wIndex:e.getWIndex()}];return i.push.apply(i,n(s)),i}}}};if(o<=0)return[{hIndex:o-1,wIndex:i}];var r,c=s.getGridByPos(o-1,i),l=e.getLeftRightOrder()%2==0?1:-1,h=s.getGridByPos(o-1,i-l),p=s.getGridByPos(o-1,i+l),d=c.getDropPriority(),u=h?h.getDropPriority():0,g=p?p.getDropPriority():0;if(r=[c,h,p],d!==u||u!==g||d!==g){r.sort(function(e,t){var n=-1,i=-1;if(e&&e.hasDropDots()){var o=s.getGridByPos(e.getHIndex()+1,e.getWIndex());(e===c||o.isSolid())&&(n=e.getDropPriority())}if(t&&t.hasDropDots()){var a=s.getGridByPos(t.getHIndex()+1,t.getDisplayedWIndex());(t===c||a.isSolid())&&(i=t.getDropPriority())}return n===i?0:n>i?-1:1})}else if(!c.hasDropDots()&&!c.isPassible()){e.incLeftRightOrder();var m=a(h),f=a(p);if(m&&f){var _=m[m.length-1].wIndex,S=f[f.length-1].wIndex,C=m.length+(this.m_colNewDotsCnt[_]||0);return f.length+(this.m_colNewDotsCnt[S]||0)<C?(e.incLeftRightOrder(),f):m}return m||f}for(var P=0;P<r.length;P++){var E=a(r[P]);if(E)return E}},dropDotsToGrid:function(e,t,s){var n=splash.game.kernel.gridMgr,i=0;if(t.length>0){var o=t[t.length-1],a=[],r=0;if(o.hIndex<0)r=this.m_dropInterval*o.newDotsOrder,null==s&&(s=splash.game.kernel.elmGenerator.getNewElmType()),a.push(e.putInNewDot(s));else{var c=n.getGridByPos(o.hIndex,o.wIndex).putOutDropDots();a=e.putInDropDots(c)}for(var l=e.getHIndex(),h=e.getWIndex(),p=(o.wIndex-h)*splash.SPConstant.KERNEL.GRID_SIZE,d=(l-o.hIndex)*splash.SPConstant.KERNEL.GRID_SIZE,u=0;u<a.length;u++)a[u].setPosition(p,d);var g=[];g.push(cc.delayTime(r)),i+=r;for(var m=t.length-2;m>=0;m--){var f=t[m];p=(f.wIndex-h)*splash.SPConstant.KERNEL.GRID_SIZE,d=(l-f.hIndex)*splash.SPConstant.KERNEL.GRID_SIZE;g.push(cc.moveTo(this.m_dropInterval,cc.v2(p,d)))}g.push(cc.moveTo(this.m_dropInterval,cc.v2(0,0))),i+=this.m_dropInterval*t.length,g.push(cc.callFunc(function(){e.doDropAnimation()})),i+=.1;var _=cc.sequence(g);for(u=0;u<a.length;u++){a[u].runAction(_.clone())}}return i},checkBottomRowCrush:function(){for(var e=splash.game.kernel.gridMgr,t=splash.lvlInfo.getHeight()-1,s=0,n=0;n<splash.game.kernel.gridMgr.getDisplayedW();n++){var i=e.getGridByPos(t,n).doBottomRowCrush();i.length>0&&(splash.game.goal.onElmCollect(i),s=splash.SPConstant.KERNEL.GRID_CRUSH_TIME)}return s},checkElementsInteract:function(){var e=splash.game.kernel.gridMgr,t=e.getDisplayedH(),s=0;this.m_gridEatByPacman={};for(var n=Math.floor(Math.random()*t),i=Math.floor(Math.random()*e.getDisplayedW()),o=0;o<t;o++){for(var a=(o+n)%t,r=0;r<e.getDisplayedW();r++){var c=(r+i)%e.getDisplayedW(),l=e.getDisplayedGridByPos(a,c);if((s=l?this.doGridInteract(l):0)>0)break}if(s>0)break}return s+.1},doGridInteract:function(e){var t=0;if(!splash.game.goal.hasPacmanCrushedInThisStep()&&e.hasPacman()&&!this.m_gridEatByPacman[e.uuid])for(var s=splash.game.kernel.gridMgr,n=e.getDisplayedWIndex(),i=e.getDisplayedHIndex(),o=[[-1,0],[0,1],[1,0],[0,-1]],a=Math.floor(4*Math.random()),r=0;r<o.length;r++){var c=(r+a)%4,l=o[c][0]+n,h=o[c][1]+i,p=s.getDisplayedGridByPos(h,l);if(p&&!this.m_gridEatByPacman[p.uuid]&&p.canEatByPacman())return t=p.eatByPacman({x:-o[c][0],y:o[c][1]}),this.m_gridEatByPacman[p.uuid]=!0,splash.soundMgr.playPacmanEat(),t}return t}}),cc._RF.pop()},{}],SPKernelGridMgr:[function(e,t,s){"use strict";cc._RF.push(t,"798acIrEy5L272iBfVHwRUW","SPKernelGridMgr"),cc.Class({extends:cc.Component,properties:{gridPref:cc.Prefab,guideGridContainer:cc.Node},onLoad:function(){},start:function(){},init:function(e){var t=this;this.m_initCallBack=e;var s=splash.lvlInfo,n=s.getGridArr(),i=s.getWidth(),o=s.getHeight();this.m_displayH=s.getDisplayedHeight(),this.m_displayW=s.getDisplayedWidth();for(var a=splash.SPConstant.KERNEL.GRID_SIZE,r=(-this.m_displayW/2+.5)*a,c=(this.m_displayH/2-.5)*a,l=[],h=[],p=0;p<o;p++){h[p]=[];for(var d=function(e){(g=cc.instantiate(t.gridPref)).x=r+e*a,g.y=c-p*a,g.parent=t.node;var s=g.getComponent("SPGrid");s.init(n[p][e],p,e),s.setDisplayedHWIndex(p,e),s.setGuideParent(t.guideGridContainer),h[p][e]=s,s.isSolid()?l.push(s):p<t.m_displayH&&e<t.m_displayW&&(g.scale=0,t.scheduleOnce(function(){s.showStartEffect()},.5+.026*(p+e)))},u=0;u<i;u++){var g;d(u)}}this.m_gridCompArr=h,this.m_displayGridCompArr=h,this.updateSolidShadows(l),this.m_shiftConditions=s.getShiftConditions(),this.m_curDisplayedGridStartW=0,this.m_curDisplayedGridStartH=0;var m=.05*(this.m_displayH+this.m_displayW)+.5;this.m_shiftConditions?(this.m_curHShiftStep=0,this.scheduleOnce(function(){t.doStartShiftAction(t.m_initCallBack)},m)):this.scheduleOnce(this.m_initCallBack,m),this.updateCenterPos()},updateCenterPos:function(){var e=splash.SPConstant.KERNEL.GRID_SIZE;this.m_centerPos=new cc.Vec2,this.m_centerPos.x=this.m_curDisplayedGridStartW*e,this.m_centerPos.y=-this.m_curDisplayedGridStartH*e},getCenterPos:function(){return this.m_centerPos},getDisplayedW:function(){return this.m_displayW},getDisplayedH:function(){return this.m_displayH},getCurDisplayedStartH:function(){return this.m_curDisplayedGridStartH},updateDisplayedGridsMap:function(){this.m_displayGridCompArr=[];for(var e=0;e<this.m_displayH;e++){this.m_displayGridCompArr[e]=[];for(var t=0;t<this.m_displayW;t++){var s=this.m_gridCompArr[e+this.m_curDisplayedGridStartH][t+this.m_curDisplayedGridStartW];this.m_displayGridCompArr[e][t]=s,s.setDisplayedHWIndex(e,t)}}this.updateCenterPos()},doStartShiftAction:function(e){for(var t=[],s=splash.SPConstant.KERNEL.SHIFT_ONE_GRID_TIME,n=splash.SPConstant.KERNEL.GRID_SIZE,i=0;i<this.m_shiftConditions.length;i++){var o=this.m_shiftConditions[i],a=s*o.shiftDistance;"shiftY"===o.type?t.push(cc.moveBy(a,cc.v2(0,n*o.shiftDistance))):"shiftX"===o.type&&t.push(cc.moveBy(a,cc.v2(n*o.shiftDistance,0)))}t.push(cc.delayTime(0));var r=cc.sequence(t),c=r.reverse();this.node.runAction(cc.sequence(r,cc.delayTime(.5),c,cc.callFunc(e)))},calculateAll:function(){for(var e={},t={},s=[],n=0;n<this.m_displayH;n++){s[n]={};for(var i=0;i<this.m_displayW;i++){var o=this.m_displayGridCompArr[n][i].getDotsInfo();for(var a in o){var r=o[a].type;t[r]?t[r]++:t[r]=1,s[n][r]?s[n][r]++:s[n][r]=1}}}return e.rowInfo=s,e.elementCountInfo=t,e},checkShift:function(){if(this.m_shiftConditions&&this.m_curHShiftStep<this.m_shiftConditions.length){for(var e=this.m_shiftConditions[this.m_curHShiftStep],t=e.rangeY,s=e.conditions,n=this.calculateAll().rowInfo,i=0;i<s.length;i++){var o=s[i],a=o.elmType;switch(o.type){case"clear":for(var r=0,c=t[0];c<=t[1];c++){r+=n[c-1][a]||0}if(r>0)return!1}}return cc.log("SPKernelGridMgr checkShift -------\x3e will shift"),!0}return!1},doOneStepShiftAction:function(e){var t=splash.SPConstant.KERNEL.SHIFT_ONE_GRID_TIME,s=splash.SPConstant.KERNEL.GRID_SIZE,n=this.m_shiftConditions[this.m_curHShiftStep];"shiftY"===n.type?(this.m_curDisplayedGridStartH+=n.shiftDistance,this.node.runAction(cc.sequence(cc.moveBy(t*n.shiftDistance,cc.v2(0,s*n.shiftDistance)),cc.callFunc(e)))):"shiftX"===n.type&&(this.m_curDisplayedGridStartW+=n.shiftDistance,this.node.runAction(cc.sequence(cc.moveBy(t*n.shiftDistance,cc.v2(s*n.shiftDistance,0)),cc.callFunc(e)))),this.m_curHShiftStep++,this.updateDisplayedGridsMap()},updateSolidShadows:function(e){for(var t=0;t<e.length;t++){var s=e[t],n=s.getWIndex(),i=s.getHIndex(),o=this.getGridByPos(i,n-1),a=this.getGridByPos(i-1,n),r=this.getGridByPos(i,n+1),c=this.getGridByPos(i+1,n),l=this.getGridByPos(i-1,n-1);s.updateSolidShadows({leftSolid:o&&o.isSolid(),upSolid:a&&a.isSolid(),rightSolid:r&&r.isSolid(),downSolid:c&&c.isSolid(),topLeftSolid:l&&l.isSolid()})}},getDisplayedGridByPos:function(e,t){return e<0||e>=this.m_displayH||t<0||t>=this.m_displayW?null:this.m_displayGridCompArr[e][t]},getGridByPos:function(e,t){return e<0||e>=splash.lvlInfo.getHeight()||t<0||t>=splash.lvlInfo.getWidth()?null:this.m_gridCompArr[e][t]},getTips:function(){for(var e=this.m_displayH,t=Math.floor(Math.random()*e),s=Math.floor(Math.random()*this.m_displayW),n=[],i={},o=[],a=[],r=0;r<e;r++)for(var c=(r+t)%e,l=0;l<this.m_displayW;l++){var h=(l+s)%this.m_displayW,p=this.getDisplayedGridByPos(c,h);if(null!=(v=p.getLinkType())){i[v]||(i[v]=[]),a.push(p),i[v].push(p);for(var d=[],u=[],g=[],m=0;m<9;m++){var f=m%3-1,_=Math.floor(m/3)-1,S=f+c,C=_+h,P=this.getDisplayedGridByPos(S,C);P&&P!==p&&(P.getLinkType()===v&&(d.push(P),_>=0&&f>=0&&g.push(P)),P.isReplaceable()&&u.push(P))}if(cc.assert(g.length<4),3===g.length)return g.push(p),{type:"four",info:g};if(d.length>=2&&o.length<=0){o.push(p);var E=d.length,T=Math.floor(Math.random()*E);o.push(d[T]),o.push(d[(T+1)%E])}u.length>=2&&(u.unshift(p),n.push(u.slice(0,3)))}}if(o.length<=0){if(n.length>0)for(var v in i){var y=i[v];if(y.length>=3){var A=n[Math.floor(Math.random()*n.length)];return cc.log("SPKernelGridMgr no answer, need resort",A),{type:"resort",info:{linkType:v,sameTypeGridArr:y.slice(0,3),linkAbleGridArr:a,randomLinkableGridArr:A}}}}return cc.log("SPKernelGridMgr no answer, no resort, game over"),null}return cc.log("SPKernelGridMgr Find Three link dots ---"),{type:"three",info:o}},doResort:function(e,t){cc.log("SPKernelGridMgr resort",e),splash.soundMgr.playResort(),splash.game.getTopLayerCamera().active=!0;for(var s=e.sameTypeGridArr,n=e.linkAbleGridArr,i=e.randomLinkableGridArr,o={},a={},r={},c=0;c<3;c++){var l=s[c].node.uuid,h=i[c].node.uuid;a[l]=!0,r[h]=!0,o[l]=!0,o[h]=!0}var p=[],d=[];for(c=0;c<3;c++)a[i[c].node.uuid]?(cc.log("SPKernelGridMgr resort --- has repeat grid"),this.gridSwapLinkableDot(i[c],null)):d.push(i[c]),r[s[c].node.uuid]||p.push(s[c]);for(c=0;c<p.length;c++)this.gridSwapLinkableDot(p[c],d[c]);var u=[];for(c=0;c<n.length;c++)o[n[c].node.uuid]||u.push(n[c]);hf.utilsMgr.mathHelper.shuffleArr(u);for(c=0;c<Math.ceil(u.length/2);c++)this.gridSwapLinkableDot(u[2*c],u[2*c+1]);this.scheduleOnce(function(){splash.game.getTopLayerCamera().active=!1,t()},1)},gridSwapLinkableDot:function(e,t){var s=.45;if(!t||e===t){cc.log("SPKernelGridMgr gridSwapLinkableDot !gridB || gridA === gridB");var n=e.getLinkNode();return n.group="toplayer",void n.runAction(cc.sequence(cc.moveTo(s,this.m_centerPos.sub(e.node.getPosition())),cc.moveTo(s,cc.v2(0,0)),cc.callFunc(function(){n.group="default"})))}cc.log("SPKernelGridMgr gridSwapLinkableDot",e.getDisplayedWIndex(),e.getDisplayedHIndex(),t.getDisplayedWIndex(),t.getDisplayedHIndex());var i=e.putOutLinkDot(),o=t.putOutLinkDot();e.putInLinkDot(o),t.putInLinkDot(i);var a=o.link.node,r=i.link.node;a.group="toplayer",r.group="toplayer";var c=cc.v2(e.node.x-t.node.x,e.node.y-t.node.y);a.setPosition(c.neg()),r.setPosition(c),a.runAction(cc.sequence(cc.moveTo(s,this.m_centerPos.sub(e.node.getPosition())),cc.moveTo(s,cc.v2(0,0)),cc.callFunc(function(){a.group="default"}))),r.runAction(cc.sequence(cc.moveTo(s,this.m_centerPos.sub(t.node.getPosition())),cc.moveTo(s,cc.v2(0,0)),cc.callFunc(function(){r.group="default"})))},showSquareLinkedEffect:function(e){for(var t=0;t<this.m_displayH;t++)for(var s=0;s<this.m_displayW;s++){var n=this.m_displayGridCompArr[t][s];n.isLinked()||n.getLinkType()!==e||n.showLinkEffect()}}}),cc._RF.pop()},{}],SPKernelOperateMgr:[function(e,t,s){"use strict";cc._RF.push(t,"88f80MVv6VC4KxGv9Pvh5NT","SPKernelOperateMgr"),cc.Class({extends:cc.Component,properties:{linkLinesContainer:cc.Node,lineGraphics:cc.Graphics,gridContainer:cc.Node,squareMask:cc.Node,guideMask:cc.Node,guideFinger:cc.Node,guideTips:cc.Label},onLoad:function(){this.hideGuide()},init:function(){this.linkLinesContainer.width=this.gridContainer.width+splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE,this.linkLinesContainer.height=this.gridContainer.height+splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE,this.squareMask.width=this.gridContainer.width+splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE/2,this.squareMask.height=this.gridContainer.height+splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE/2,this.guideMask.width=this.linkLinesContainer.width,this.guideMask.height=this.linkLinesContainer.height,this.guideMask.active=!1,this.addTouch()},addTouch:function(){this.linkLinesContainer.on("touchstart",this.onTouchStart,this),this.linkLinesContainer.on("touchmove",this.onTouchMove,this),this.linkLinesContainer.on("touchend",this.onTouchEnd,this),this.linkLinesContainer.on("touchcancel",this.onTouchEnd,this)},hasGuide:function(){return this.m_guideInfo},showGuide:function(){var e=this;this.hideGuide();var t=splash.lvlInfo.getGuideArr(),s=splash.game.kernel.gridMgr.getDisplayedW()/2,n=splash.game.kernel.gridMgr.getDisplayedH()/2,i=splash.SPConstant.KERNEL.GRID_SIZE,o=splash.game.kernel.gridMgr;if(t&&splash.game.getUsedMoves()<t.length){this.guideTips.node.y=splash.game.kernel.node.height*splash.game.kernel.node.scale/2+46;var a=t[splash.game.getUsedMoves()];this.guideFinger.active=!0,this.guideFinger.opacity=0,this.guideTips.node.active=!0,this.guideTips.string=a.lang[hf.i18n.getCurLang()],this.guideMask.active=!0;for(var r=[],c=a.posArr,l=function(){var t=c[h];0===h?(r.push(cc.callFunc(function(){e.guideFinger.setPosition(i*(t[1]-s+.5),i*(n-t[0]-.5))})),r.push(cc.fadeIn(.3))):r.push(cc.moveTo(.3,cc.v2(i*(t[1]-s+.5),i*(n-t[0]-.5))))},h=0;h<c.length;h++)l();r.push(cc.delayTime(.5)),r.push(cc.fadeOut(.2)),this.guideFinger.stopAllActions(),this.guideFinger.runAction(cc.repeatForever(cc.sequence(r))),this.m_guideInfo=a;for(h=0;h<c.length;h++){var p=c[h];o.getDisplayedGridByPos(p[0],p[1]).setGuideDisplay(!0)}}else this.m_guideInfo=void 0,this.hideGuide()},hideGuideFinger:function(){this.guideFinger.active=!1},hideGuide:function(){var e=splash.game.kernel.gridMgr;if(this.m_guideInfo)for(var t=this.m_guideInfo.posArr,s=0;s<t.length;s++){var n=t[s];e.getDisplayedGridByPos(n[0],n[1]).setGuideDisplay(!1)}this.guideFinger.stopAllActions(),this.guideFinger.active=!1,this.guideTips.node.active=!1,this.guideMask.active=!1,this.m_guideInfo=void 0},getTouchedGrid:function(e,t){var s,n,i,o=e.touch.getLocation(),a=(s=(s=this.linkLinesContainer.convertToNodeSpaceAR(o)).addSelf(cc.v2(this.gridContainer.width/2,this.gridContainer.height/2))).x%splash.SPConstant.KERNEL.GRID_SIZE,r=s.y%splash.SPConstant.KERNEL.GRID_SIZE,c=splash.game.kernel.gridMgr;if(t?(n=0,i=splash.SPConstant.KERNEL.GRID_SIZE):(n=splash.SPConstant.KERNEL.DOT_SELECT_AREA.MIN,i=splash.SPConstant.KERNEL.DOT_SELECT_AREA.MAX),a>n&&a<i&&r>n&&r<i){var l=Math.floor(s.x/splash.SPConstant.KERNEL.GRID_SIZE),h=Math.floor((this.gridContainer.height-s.y)/splash.SPConstant.KERNEL.GRID_SIZE),p=c.getDisplayedGridByPos(h,l);if(!this.m_guideInfo)return p;var d=this.m_linkedGridArr?this.m_linkedGridArr.length:0,u=this.m_guideInfo.posArr[d];if(u&&h===u[0]&&l===u[1])return p;if((u=this.m_guideInfo.posArr[d-2])&&h===u[0]&&l===u[1])return p}},updateLines:function(e,t){this.lineGraphics.clear(),this.updateLinkLines(e,t),this.updateSurroundLines(t)},updateLinkLines:function(e,t){this.lineGraphics.lineWidth=12,this.lineGraphics.lineCap=cc.Graphics.LineCap.ROUND;for(var s=splash.game.kernel.gridMgr.getCenterPos(),n=0;n<this.m_linkedGridArr.length;n++){var i=this.m_linkedGridArr[n];0===n?(this.lineGraphics.strokeColor=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][i.getLinkType()],this.lineGraphics.moveTo(i.node.x-s.x,i.node.y-s.y)):this.lineGraphics.lineTo(i.node.x-s.x,i.node.y-s.y)}!t&&e&&this.lineGraphics.lineTo(e.x,e.y),this.lineGraphics.stroke()},updateSurroundLines:function(e){this.lineGraphics.lineWidth=splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE/2,this.lineGraphics.lineCap=cc.Graphics.LineCap.SQUARE,this.lineGraphics.strokeColor.setA(168);var t=this.m_linkedGridArr.length,s=t/2,n=splash.game.kernel.gridMgr.getDisplayedW(),i=splash.game.kernel.gridMgr.getDisplayedH(),o=this.linkLinesContainer.width/2,a=this.linkLinesContainer.height/2,r=splash.SPConstant.KERNEL.GRID_SIZE;if(e||t>=n+i?(this.lineGraphics.moveTo(-o-0,-a-0),this.lineGraphics.lineTo(o+0,-a-0),this.lineGraphics.lineTo(o+0,a+0),this.lineGraphics.lineTo(-o-0,a+0),this.lineGraphics.close(),this.lineGraphics.stroke()):t>n?(this.lineGraphics.moveTo(-o-0,-(i-t+n)/2*r),this.lineGraphics.lineTo(-o-0,-a),this.lineGraphics.lineTo(o+0,-a),this.lineGraphics.lineTo(o+0,-(i-t+n)/2*r),this.lineGraphics.stroke(),this.lineGraphics.moveTo(-o-0,(i-t+n)/2*r),this.lineGraphics.lineTo(-o-0,a+0),this.lineGraphics.lineTo(o+0,a+0),this.lineGraphics.lineTo(o+0,(i-t+n)/2*r),this.lineGraphics.stroke()):(this.lineGraphics.moveTo(-s*r,a+0),this.lineGraphics.lineTo(s*r,a+0),this.lineGraphics.stroke(),this.lineGraphics.moveTo(-s*r,-a-0),this.lineGraphics.lineTo(s*r,-a-0),this.lineGraphics.stroke()),e){this.squareMask.stopAllActions(),this.squareMask.active=!0;var c=this.lineGraphics.strokeColor.clone();c.setA(255),this.squareMask.color=c,this.squareMask.opacity=88}else this.squareMask.active=!1},updateRowColSelected:function(){for(var e=splash.game.kernel.gridMgr,t=0;t<e.getDisplayedW();t++)for(var s=0;s<e.getDisplayedH();s++){(i=e.getDisplayedGridByPos(s,t))&&!i.isLinked()&&i.showRowColEff(),i.setRowColSelected(!1)}if(this.m_linkedGridArr&&!(this.m_linkedGridArr.length<=0)){var n=this.m_linkedGridArr.length,i=this.m_linkedGridArr[n-1],o=this.m_linkedRowColGridArr.length;o>=2?i.showRowColEff(splash.SPConstant.ROW_COL_TYPE.BOTH):o>=1&&i.showRowColEff(this.m_linkedRowColGridArr[o-1].getRowColType()),this.m_rowColSelectedInfo=this.doRowColSelect(i)}},doRowColSelect:function(e){var t=this,s=this.m_linkedRowColGridArr.length,n=e.getDisplayedHIndex(),i=e.getDisplayedWIndex(),o={},a={},r={},c={},l=splash.game.kernel.gridMgr,h=function(e,s){if(null==o[e]){o[e]=s;var n=l.getDisplayedGridByPos(e,s).getLinkType();null==n&&(n=t.m_curLinkType),r[e]=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][n];for(var i=0;i<l.getDisplayedW();i++){var c=l.getDisplayedGridByPos(e,i);c.setRowColSelected(!0),i===s||c.getRowColType()===splash.SPConstant.ROW_COL_TYPE.NONE||null!=a[i]||c.isLinked()||(p(i,e),c.showRowColEff(splash.SPConstant.ROW_COL_TYPE.COL))}}},p=function(e,s){if(null==a[e]){a[e]=s;var n=l.getDisplayedGridByPos(s,e).getLinkType();null==n&&(n=t.m_curLinkType),c[e]=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][n];for(var i=0;i<l.getDisplayedH();i++){var r=l.getDisplayedGridByPos(i,e);r.setRowColSelected(!0),i===s||r.getRowColType()===splash.SPConstant.ROW_COL_TYPE.NONE||null!=o[i]||r.isLinked()||(h(i,e),r.showRowColEff(splash.SPConstant.ROW_COL_TYPE.ROW))}}},d=0,u=-1,g=0,m=-1;if(s>=4)d=0,u=l.getDisplayedH()-1,g=0,m=l.getDisplayedW();else if(3===s)d=n-1,u=n+1,g=i-1,m=i+1;else if(2===s)d=n,u=n,g=i,m=i;else if(1===s){this.m_linkedRowColGridArr[0].getRowColType()===splash.SPConstant.ROW_COL_TYPE.ROW?(d=n,u=n):(g=i,m=i)}for(var f=d;f<=u;f++)f>=0&&f<l.getDisplayedH()&&h(f,i);for(var _=g;_<=m;_++)_>=0&&_<l.getDisplayedW()&&p(_,n);var S=l.getDisplayedH();if(this.m_squareLinked)for(var C=S-1;C>=0;C--)for(var P=0;P<l.getDisplayedW();P++){var E=l.getDisplayedGridByPos(C,P);E.getLinkType()!==this.m_curLinkType||E.isLinked()||(E.getRowColType()===splash.SPConstant.ROW_COL_TYPE.ROW?h(C,P):E.getRowColType()===splash.SPConstant.ROW_COL_TYPE.COL&&p(P,C))}return{selectedRowInfo:o,selectedColInfo:a,selectedRowColor:r,selectedColColor:c}},isSurroundGrid:function(e,t){var s=Math.abs(e.getDisplayedWIndex()-t.getDisplayedWIndex()),n=Math.abs(e.getDisplayedHIndex()-t.getDisplayedHIndex());return s+n===1||s*n==1},pushGrid:function(e){this.m_linkedGridArr.length>0&&this.m_linkedGridArr[this.m_linkedGridArr.length-1].showRowColEff(splash.SPConstant.ROW_COL_TYPE.NONE),this.m_linkedGridArr.push(e),e.setLinked(!0);var t=this.m_linkedGridArr.length-splash.SPConstant.GEN_ROW_COL_CNT.FIRST;t>=0&&t%splash.SPConstant.GEN_ROW_COL_CNT.STEP==0&&e.setRowColSeed(!0),e.getRowColType()!==splash.SPConstant.ROW_COL_TYPE.NONE&&(e===this.m_linkedGridArr[0]&&1!==this.m_linkedGridArr.length||(this.m_linkedRowColGridArr.push(e),this.m_lastLinkedRowColType=e.getRowColType(),splash.soundMgr.playRowColGridSelect())),this.m_squareLinked?splash.soundMgr.playSquare():splash.soundMgr.playDotsLink(),this.updateRowColSelected()},popGrid:function(){var e=this.m_linkedGridArr.length,t=this.m_linkedGridArr[e-1];t.setRowColSeed(!1),t.setLinked(!1),this.m_linkedGridArr.pop(),t.showRowColEff(),t.getRowColType()!==splash.SPConstant.ROW_COL_TYPE.NONE&&t!==this.m_linkedGridArr[0]&&this.m_linkedRowColGridArr.pop(),splash.soundMgr.playDotsLink(),this.updateRowColSelected()},onTouchStart:function(e){if(null==splash.singleTouchId){this.m_startLocation=e.touch.getLocation(),splash.singleTouchId=e.getID();var t=this.getTouchedGrid(e,!0);splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.WAIT_OPERATE?t&&null!=t.getLinkType()&&(this.m_linkedGridArr=[],this.m_linkedRowColGridArr=[],this.pushGrid(t),this.m_curLinkType=t.getLinkType(),splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.DOT_LINKING),this.hideGuideFinger()):splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.PROP_SETTLE&&t&&(this.m_propSettleGrid=t)}},onTouchMove:function(e){if(e.getID()===splash.singleTouchId&&splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.DOT_LINKING){if(e.touch.getLocation().sub(this.m_startLocation).mag()<7)return;this.m_startLocation=e.touch.getLocation();var t=this.getTouchedGrid(e);if(t&&(t.getLinkType()===this.m_curLinkType||this.m_curLinkType===splash.SPConstant.ELEMENT_TYPE.DOT_CONNECT)){var s=this.m_linkedGridArr.length;if(this.m_squareLinked)t===this.m_linkedGridArr[s-2]&&(this.onSquareCancel(),this.popGrid(),this.m_linkedGridArr[0].setLinked(!0));else if(t.isLinked())s>=2&&this.m_linkedGridArr[s-2]===t?this.popGrid():s%4==0&&this.m_linkedGridArr[0]===t&&this.isSquare()&&(this.onSquareLinked(),this.pushGrid(t));else{var n=this.m_linkedGridArr[s-1];this.isSurroundGrid(n,t)&&this.pushGrid(t)}}var i=e.touch.getLocation(),o=this.linkLinesContainer.convertToNodeSpaceAR(i);this.updateLines(o,this.m_squareLinked)}},onTouchEnd:function(e){if(e.getID()===splash.singleTouchId)if(this.m_startLocation=void 0,splash.singleTouchId=void 0,splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.DOT_LINKING){var t=!0;this.m_guideInfo&&this.m_guideInfo.posArr.length!==this.m_linkedGridArr.length&&(t=!1),this.m_linkedGridArr.length>=3&&t?(splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.LINK_CRUSH),splash.game.kernel.actionMgr.startLinkAction(this.onCrushOver.bind(this)),splash.game.kernel.seedMgr.flyRowColSeed(this.m_guideInfo),splash.game.useOneMove(),this.hideGuide()):(splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE),this.showGuide()),this.lineGraphics.clear(),this.squareMask.active=!1;for(var s=0;s<this.m_linkedGridArr.length;s++){(n=this.m_linkedGridArr[s]).setLinked(!1),n.setRowColSeed(!1),n.showRowColEff()}this.clearLinkedGridArr(),this.updateRowColSelected()}else if(splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.PROP_SETTLE){var n;if((n=this.getTouchedGrid(e,!0))&&this.m_propSettleGrid===n){if(splash.game.prop.getSelectedPropType()===splash.SPConstant.PROP_TYPE.SAME_CLEAR&&null==n.getLinkType())return;splash.game.kernel.setPropSettleStatus(null),splash.game.kernel.actionMgr.startPropAction(n,this.onCrushOver.bind(this)),splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.PROP_CRUSH),splash.game.prop.onPropSettle()}this.m_propSettleGrid=void 0}},isSquare:function(){for(var e=this.m_linkedGridArr.length,t=e/4,s=0,n=[],i=this.m_linkedGridArr[0],o=1;o<=e;o++){var a=this.m_linkedGridArr[o%e],r=cc.v2(a.getDisplayedWIndex()-i.getDisplayedWIndex(),a.getDisplayedHIndex()-i.getDisplayedHIndex());if(1!==r.mag())return!1;if(0===n.length)n.push(r),s++;else if(n[n.length-1].equals(r)){if(!(s<t))return!1;s++}else{if(!(s>=t||1===n.length))return!1;n.push(r),s=1}i=a}return(n.length>5||n.length<4)&&cc.error("Impossible ! must have logic error !"),!(!n[0].equals(n[2].neg())||!n[1].equals(n[3].neg()))&&(!(5===n.length&&!n[0].equals(n[4]))&&(cc.log("SPKernelOperateMgr isSquare is square"),!0))},onSquareLinked:function(){this.m_squareLinked=!0,splash.dataMgr.isVibOn()&&hf.platformMgr.vibrate(200),splash.game.kernel.gridMgr.showSquareLinkedEffect(this.m_curLinkType),3===splash.lvlInfo.getLevelNum()&&hf.analysisMgr.logEvent(hf.analysisMgr.EVENT_TYPE.SQUARE_CRUSH,{})},onSquareCancel:function(){this.m_squareLinked=!1},isSquareLinked:function(){return this.m_squareLinked},onCrushOver:function(){splash.game.kernel.seedMgr.settleRowColSeed(),splash.game.goal.oneStepReset(),this.m_squareLinked=!1,splash.game.oneStepOverCheck(),this.showGuide()},clearLinkedGridArr:function(){this.m_linkedGridArr=void 0,this.m_linkedRowColGridArr=void 0},getCurLinkType:function(){return this.m_curLinkType},getLinkedGridArr:function(){return this.m_linkedGridArr},getRowColSelectedInfo:function(){return this.m_rowColSelectedInfo}}),cc._RF.pop()},{}],SPKernel:[function(e,t,s){"use strict";cc._RF.push(t,"1ec31sbIfVMhbQLsGE1HTKo","SPKernel");var n=e("SPElementsGenerator");cc.Class({extends:cc.Component,properties:{gridMgr:e("SPKernelGridMgr"),actionMgr:e("SPKernelActionMgr"),operateMgr:e("SPKernelOperateMgr"),seedMgr:e("SPSeedMgr"),gridContainer:cc.Node,guideGridContainer:cc.Node,kernelBg:cc.Sprite,kernelMask:cc.Node},onLoad:function(){},start:function(){},init:function(){var e=this,t=splash.lvlInfo,s=splash.SPConstant.KERNEL.GRID_SIZE;t.getHeight();this.gridMgr.init(function(){splash.game.showGameGoalTips(function(){splash.game.showGoal(),splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE),e.operateMgr.showGuide()})}),this.gridContainer.width=this.gridMgr.getDisplayedW()*s,this.gridContainer.height=this.gridMgr.getDisplayedH()*s,this.guideGridContainer.width=this.gridContainer.width,this.guideGridContainer.height=this.gridContainer.height,this.kernelMask.width=this.gridContainer.width,this.kernelMask.height=this.gridContainer.height,this.node.width=this.gridContainer.width+2*splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE,this.node.height=this.gridContainer.height+2*splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE;var i=this.kernelBg.node;i.width=this.gridContainer.width+splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE,i.height=this.gridContainer.height+splash.SPConstant.KERNEL.KERNEL_BG_EDGE_DISTANCE,i.opacity=0,i.runAction(cc.fadeIn(.5)),this.operateMgr.init(),this.elmGenerator=new n},setPropSettleStatus:function(e){},updateStyle:function(e){this.kernelBg.spriteFrame=e.kernelGameBg}}),cc._RF.pop()},{SPElementsGenerator:"SPElementsGenerator",SPKernelActionMgr:"SPKernelActionMgr",SPKernelGridMgr:"SPKernelGridMgr",SPKernelOperateMgr:"SPKernelOperateMgr",SPSeedMgr:"SPSeedMgr"}],SPLevelMap:[function(e,t,s){"use strict";cc._RF.push(t,"afb99TRnDVFa6zbF/nswQwY","SPLevelMap"),cc.Class({extends:cc.Component,properties:{platePref:cc.Prefab,platePosNodeArr:[cc.Node],testDirectonalLight:cc.Light,testAmbientLight:cc.Light,panelMeshRender:cc.MeshRenderer},onLoad:function(){this.testDirectonalLight.node.active=!1,this.testAmbientLight.node.active=!1},start:function(){},init:function(e){for(var t=0;t<this.platePosNodeArr.length;t++){var s=cc.instantiate(this.platePref);s.parent=this.platePosNodeArr[t],s.getComponent("SPPlate").init(e+t),1===e&&0===t&&(s.z-=50)}},setPlaneColor:function(e){this.panelMeshRender.getMaterial(0).setProperty("diffuseColor",e)}}),cc._RF.pop()},{}],SPLevelMgr:[function(e,t,s){"use strict";cc._RF.push(t,"f8570+XQnpO94oitoCPUSaJ","SPLevelMgr");cc.Class({extends:cc.Component,properties:{levelMapsPrefArr:[cc.Prefab],camera3d:cc.Camera,ambientLight:cc.Light,scrollViewContent:cc.Node,scrollView:cc.ScrollView},onLoad:function(){splash.globalVar.maxLevel=10*(this.levelMapsPrefArr.length-1)},start:function(){this.node._hitTest=this.hitTest.bind(this),this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchmove",this.onTouchMove,this),this.node.on("touchend",this.onTouchEnd,this),this.node.on("touchcancel",this.onTouchEnd,this),this.m_initCameraNodeZ=this.camera3d.node.z;var e=splash.dataMgr.getPlayLevel();this.initMaps(e)},onScroll:function(){this.doMapScroll(-(this.scrollViewContent.y/cc.winSize.height+.5)*splash.SPConstant.MAP_SCROLL_SPEED)},onDestroy:function(){},initMaps:function(e){if(e<1||e>10*this.m_mapCnt)cc.error("SPLevelMgr level is not in the range");else{this.m_mapZLen=2e3,this.m_mapColorArr=[splash.SPConstant.LEVEL_MAP_COLOR.PURPLE,splash.SPConstant.LEVEL_MAP_COLOR.RED,splash.SPConstant.LEVEL_MAP_COLOR.GREEN],this.m_mapCnt=this.levelMapsPrefArr.length,this.scrollViewContent.y=-cc.winSize.height/2,this.scrollViewContent.height=((this.m_mapCnt-1)/splash.SPConstant.MAP_SCROLL_SPEED+1)*cc.winSize.height,this.m_mapNodeArr=[];for(var t=0;t<this.m_mapCnt;t++)this.m_mapNodeArr.push(null);var s=(e-5)/(10*(this.m_mapCnt-1));this.scrollView.scrollToPercentVertical(s),this.onScroll()}},hitTest:function(e,t){var s=this.camera3d.getRay(e),n=cc.geomUtils.intersect.raycast(cc.director.getScene(),s);this.m_lastTouchNode=void 0;for(var i=0;i<n.length;i++)"Cylinder001"===n[i].node._name&&(this.m_lastTouchNode=n[i].node.parent.parent);return!0},onTouchStart:function(e){this.m_startTouchNode=this.m_lastTouchNode},onTouchMove:function(e){e.touch.getLocation().sub(e.touch.getStartLocation()).mag()>10&&(this.m_startTouchNode=void 0)},onTouchEnd:function(e){if(this.m_lastTouchNode&&this.m_startTouchNode===this.m_lastTouchNode){var t=this.m_startTouchNode.getComponent("SPPlate").getLevel();cc.log("SPLevelMgr onClick level",t),t<=splash.dataMgr.getCurLevel()&&!splash.globalVar.levelTipsAlreadyShow&&(cc.find("Canvas").getComponent("SPMainScene").showLevelStartTips(t),splash.soundMgr.playBtnClick(),splash.globalVar.levelTipsAlreadyShow=!0)}},setMapZ:function(e){for(var t=0;t<2;t++){var s=this.m_mapNodeArr[this.m_curMapIndex+t];s&&(s.z=t*-this.m_mapZLen+e,s.active=!0)}},doMapScroll:function(e){if(e<0)cc.log("SPLevelMgr doMapScroll ratio < 0");else{var t=Math.floor(e);cc.assert(t<this.m_mapCnt);for(var s=0;s<5;s++){var n=t+s-2;if(n>=0&&n<this.m_mapCnt&&!this.m_mapNodeArr[n]){var i=this.levelMapsPrefArr[n],o=cc.instantiate(i);o.parent=this.node,o.getComponent("SPLevelMap").init(10*n+1),this.m_mapNodeArr[n]=o}}for(s=0;s<this.m_mapCnt;s++)this.m_mapNodeArr[s]&&(Math.abs(s-t)>3?(this.m_mapNodeArr[s].destroy(),this.m_mapNodeArr[s]=null):(s-t<0||s-t>1)&&(this.m_mapNodeArr[s].active=!1));this.m_curMapIndex=t,this.setMapZ((e-t)*this.m_mapZLen),this.updateColor()}},updateColor:function(){var e,t,s=this,n=function(e){s.ambientLight.color=e;for(var t=0;t<2;t++){var n=s.m_mapNodeArr[s.m_curMapIndex+t];n&&n.getComponent("SPLevelMap").setPlaneColor(e)}},i=Math.floor(this.m_curMapIndex/2),o=this.m_mapColorArr[i%3],a=this.m_mapColorArr[(i+1)%3],r=this.m_mapColorArr[(i+2)%3],c=this.m_mapNodeArr[this.m_curMapIndex].z;if(c>0){if(!(this.m_curMapIndex%2))return void n(o);var l=c/this.m_mapZLen;e=o,t=a}else{if(this.m_curMapIndex%2!=0)return void n(o);l=(this.m_mapZLen+c)/this.m_mapZLen;e=r,t=o}n(o=cc.color(e.getR()+l*(t.getR()-e.getR()),e.getG()+l*(t.getG()-e.getG()),e.getB()+l*(t.getB()-e.getB()),255))}}),cc._RF.pop()},{}],SPLevelParser:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"00c76E0NOtHnqI4MNNUyFCM","SPLevelParser");var a=function(){function e(t,s){var i=this;n(this,e),this.m_callBack=s,this.m_lvl=t,cc.loader.loadRes("splash/level/level"+t,function(e,t){i.parse(t.json),i.m_callBack(i)})}return o(e,[{key:"parse",value:function(e){this.m_width=e.width,this.m_height=e.height;for(var t=[],s=0;s<this.m_height;s++){for(var n=[],i=s*this.m_width,o=0;o<this.m_width;o++){n[o]=[];for(var a=0;a<e.layers.length;a++)e.layers[a].data[i+o]&&n[o].push(this.convertToElementType(e.layers[a].data[i+o]))}t[s]=n}this.m_gridArr=t,this.m_extralInfo=JSON.parse(e.properties[0].value),this.m_randDotTypes=this.m_extralInfo.randDotType,this.m_shiftConditions=this.m_extralInfo.shiftConditions,this.m_guideArr=this.m_extralInfo.guide}},{key:"getWidth",value:function(){return this.m_width}},{key:"getHeight",value:function(){return this.m_height}},{key:"getDisplayedWidth",value:function(){return this.m_extralInfo.displayedW||this.m_width}},{key:"getDisplayedHeight",value:function(){return this.m_extralInfo.displayedH||this.m_height}},{key:"getRandDotType",value:function(){return this.m_randDotTypes[Math.floor(Math.random()*this.m_randDotTypes.length)]}},{key:"getGoal",value:function(){return this.m_extralInfo.goal}},{key:"getMoves",value:function(){return this.m_extralInfo.moves}},{key:"getGridArr",value:function(){return this.m_gridArr}},{key:"convertToElementType",value:function(e){return e-1}},{key:"getLevelNum",value:function(){return this.m_lvl}},{key:"getShiftConditions",value:function(){return this.m_shiftConditions}},{key:"getGuideArr",value:function(){return this.m_guideArr}}]),e}();t.exports=a,cc._RF.pop()},{}],SPLevelStartTips:[function(e,t,s){"use strict";cc._RF.push(t,"da16dXfvwRD67PvrJnCBc9o","SPLevelStartTips"),cc.Class({extends:cc.Component,properties:{goal:e("SPGoalMgr"),levelLb:cc.Label,mask:cc.Node},onLoad:function(){this.mask.width=cc.winSize.width,this.mask.opacity=0,this.mask.runAction(cc.fadeTo(.3,168))},init:function(e){this.goal.init(e.getGoal()),this.m_lvlInfo=e},start:function(){this.levelLb.string+=this.m_lvlInfo.getLevelNum()},onClose:function(){var e=this;splash.soundMgr.playBtnClick(),this.mask.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),splash.globalVar.levelTipsAlreadyShow=!1},onStart:function(){var e=this;splash.soundMgr.playBtnClick(),this.mask.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){splash.lvlInfo=e.m_lvlInfo,splash.dataMgr.setPlayLevel(e.m_lvlInfo.getLevelNum()),splash.sceneToLoad="SPGameScene",cc.director.loadScene("SPSplashScene")}))),splash.globalVar.levelTipsAlreadyShow=!1}}),cc._RF.pop()},{SPGoalMgr:"SPGoalMgr"}],SPLinkDots:[function(e,t,s){"use strict";cc._RF.push(t,"c81a9OzFwhHp5zhLHmCZae9","SPLinkDots"),cc.Class({extends:cc.Component,properties:{whiteDotSp:cc.Sprite,connectDotSpf:cc.SpriteFrame,rowEffPref:cc.Prefab,colEffPref:cc.Prefab,linkEffectSpf:cc.SpriteFrame,crushParticle:cc.Prefab,colorBlindNum:cc.Label},onLoad:function(){hf.globalEvent.on(splash.SPConstant.EVENTS.ON_COLOR_BLIND_SETTINGS,this.colorBlindApply,this)},onDestroy:function(){hf.globalEvent.off(splash.SPConstant.EVENTS.ON_COLOR_BLIND_SETTINGS,this.colorBlindApply,this)},start:function(){this.m_displayRowColType=splash.SPConstant.ROW_COL_TYPE.NONE},init:function(e){e===splash.SPConstant.ELEMENT_TYPE.DOT_CONNECT?this.whiteDotSp.spriteFrame=this.connectDotSpf:this.whiteDotSp.node.color=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][e],this.m_elmType=e,this.colorBlindApply()},colorBlindApply:function(){splash.dataMgr.isColorBlind()?(this.colorBlindNum.node.active=!0,this.colorBlindNum.string=String.fromCharCode(this.m_elmType-splash.SPConstant.ELEMENT_TYPE.DOT_BLUE+65)):this.colorBlindNum.node.active=!1},showFadeEffect:function(e){this.node.stopAllActions(),this.node.opacity=255,e&&this.node.runAction(cc.fadeTo(.08,66))},showLinkEffect:function(){var e=this;this.m_linkEffectNode&&this.m_linkEffectNode.destroy();var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=this.linkEffectSpf,t.parent=this.node,t.zIndex=-1,t.color=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][this.m_elmType],t.scale=.5,t.runAction(cc.sequence(cc.delayTime(.5),cc.fadeOut(.3),cc.callFunc(function(){t.destroy(),e.m_linkEffectNode=void 0}))),t.runAction(cc.scaleTo(.8,1.6)),this.m_linkEffectNode=t},showRowColEff:function(e){var t=this;if(e!==this.m_displayRowColType){this.m_displayRowColType=e;var s=function(e){e.zIndex=-1,e.parent=t.whiteDotSp.node,e.color=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][t.m_elmType],e.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.8),cc.scaleTo(.5,1))))};switch(this.whiteDotSp.node.removeAllChildren(),e){case splash.SPConstant.ROW_COL_TYPE.NONE:return;case splash.SPConstant.ROW_COL_TYPE.ROW:s(cc.instantiate(this.rowEffPref));break;case splash.SPConstant.ROW_COL_TYPE.COL:s(cc.instantiate(this.colEffPref));break;case splash.SPConstant.ROW_COL_TYPE.BOTH:s(cc.instantiate(this.rowEffPref)),s(cc.instantiate(this.colEffPref))}}},onCrush:function(){var e=this;this.scheduleOnce(function(){var t=splash.SPConstant.DOT_COLOR[splash.globalVar.curTheme][e.m_elmType],s=cc.instantiate(e.crushParticle),n=s.getComponent(cc.ParticleSystem),i=t.clone();n.startColor=t,n.endColor=i,s.parent=e.node},.1),this.colorBlindNum.node.active=!1,this.whiteDotSp.node.runAction(cc.fadeOut(.1)),this.scheduleOnce(function(){e.node.destroy()},.5)},doDropAnimation:function(){this.whiteDotSp.node.stopAllActions();var e=[];e.push(cc.delayTime(.1)),e.push(cc.scaleTo(.15,1.2,.9)),e.push(cc.scaleTo(.15,1,1)),e.push(cc.scaleTo(.1,1.1,.95)),e.push(cc.scaleTo(.1,1,1)),this.whiteDotSp.node.runAction(cc.sequence(e))}}),cc._RF.pop()},{}],SPMainScene:[function(e,t,s){"use strict";function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}cc._RF.push(t,"ff66e276ZFDkYBv1eOtj/Qx","SPMainScene");var i=e("SPLevelParser");cc.Class({extends:cc.Component,properties:{tabToggleTaskBg:cc.Node,tabToggleMapBg:cc.Node,tabToggleMinigameBg:cc.Node,pagesNode:cc.Node,mapNode:cc.Node,taskNode:cc.Node,minigameNode:cc.Node,levelStartTipsPref:cc.Prefab,levelStartTipsPrefYellow:cc.Prefab,settingsNode:cc.Node},onLoad:function(){this.taskNode.width=cc.winSize.width,this.taskNode.x=-cc.winSize.width,this.minigameNode.width=cc.winSize.width,this.minigameNode.x=cc.winSize.width,this.tabToggleMapBg.parent.getComponent(cc.Toggle).isChecked=!0,this.onTabChange(this.tabToggleMapBg.parent.getComponent(cc.Toggle))},start:function(){},onAddCoin:function(){cc.log("SPMainScene onAddCoin"),splash.uiHelper.showShop(),splash.soundMgr.playBtnClick()},setTogglesEnabled:function(e){this.tabToggleMapBg.parent.getComponent(cc.Toggle).enabled=e,this.tabToggleTaskBg.parent.getComponent(cc.Toggle).enabled=e,this.tabToggleMinigameBg.parent.getComponent(cc.Toggle).enabled=e},onTabChange:function(e){var t,s,i=this;if(cc.log("SPMainScene onTabChange",e.node.name),!this.m_mapAction)switch(splash.soundMgr.playPageShift(),this.tabToggleMapBg.active=!0,this.tabToggleTaskBg.active=!0,this.tabToggleMinigameBg.active=!0,e.node.getChildByName("Background").active=!1,this.setTogglesEnabled(!1),e.node.name){case"map":this.settingsNode.active=!0,this.mapNode.active=!0,this.pagesNode.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,0)),cc.callFunc(function(){i.taskNode.active=!1,i.minigameNode.active=!1,i.m_mapPosUpdate=!1,i.setTogglesEnabled(!0)})));break;case"task":hf.analysisMgr.logEvent(hf.analysisMgr.EVENT_TYPE.SELECT_CONTENT,(n(t={},hf.analysisMgr.PARAM_TYPE.CONTENT_TYPE,"MainSceneTab"),n(t,hf.analysisMgr.PARAM_TYPE.ITEM_NAME,"task"),t)),this.settingsNode.active=!1,this.taskNode.active=!0,this.mapNode.active=!0,this.pagesNode.runAction(cc.sequence(cc.moveTo(.3,cc.v2(cc.winSize.width,0)),cc.callFunc(function(){i.mapNode.active=!1,i.minigameNode.active=!1,i.m_mapPosUpdate=!1,i.setTogglesEnabled(!0)})));break;case"minigame":hf.analysisMgr.logEvent(hf.analysisMgr.EVENT_TYPE.SELECT_CONTENT,(n(s={},hf.analysisMgr.PARAM_TYPE.CONTENT_TYPE,"MainSceneTab"),n(s,hf.analysisMgr.PARAM_TYPE.ITEM_NAME,"minigame"),s)),this.settingsNode.active=!1,this.minigameNode.active=!0,this.mapNode.active=!0,this.pagesNode.runAction(cc.sequence(cc.moveTo(.3,cc.v2(-cc.winSize.width,0)),cc.callFunc(function(){i.taskNode.active=!1,i.mapNode.active=!1,i.m_mapPosUpdate=!1,i.setTogglesEnabled(!0)})))}},showLevelStartTips:function(e){var t=this;new i(e,function(e){var s;if(splash.dataMgr.getTheme()===splash.SPConstant.UI_STYLE.RANDOM){var n=[splash.SPConstant.UI_STYLE.BLUE,splash.SPConstant.UI_STYLE.YELLOW];splash.globalVar.curTheme=n[Math.floor(Math.random()*n.length)]}else splash.globalVar.curTheme=splash.dataMgr.getTheme();(s=splash.globalVar.curTheme===splash.SPConstant.UI_STYLE.BLUE?cc.instantiate(t.levelStartTipsPref):cc.instantiate(t.levelStartTipsPrefYellow)).getComponent("SPLevelStartTips").init(e),s.parent=t.node})}}),cc._RF.pop()},{SPLevelParser:"SPLevelParser"}],SPMessageBox:[function(e,t,s){"use strict";cc._RF.push(t,"b1e2a/Ng5NK1a+A2BxF57j2","SPMessageBox"),cc.Class({extends:cc.Component,properties:{btnClose:cc.Node,btn1:cc.Node,btn2:cc.Node,btn1Label:cc.Label,btn2Label:cc.Label,contentLabel:cc.Label},onLoad:function(){},init:function(e){this.m_info=e,this.contentLabel.string=e.msg||"",this.btnClose.active=e.closeCallBack,this.btn1.active=e.btn1CallBack,this.btn2.active=e.btn2CallBack,this.btn1Label.string=e.btn1Name||"",this.btn2Label.string=e.btn2Name||"",e.btn2CallBack||(this.btn1.x=0)},start:function(){},onClose:function(){this.m_info.closeCallBack(),this.close()},onBtn1:function(){splash.soundMgr.playBtnClick(),this.m_info.btn1CallBack()&&this.close()},onBtn2:function(){splash.soundMgr.playBtnClick(),this.m_info.btn2CallBack()&&this.close()},close:function(){splash.soundMgr.playBtnClick(),this.node.destroy()}}),cc._RF.pop()},{}],SPPacmanDot:[function(e,t,s){"use strict";cc._RF.push(t,"5defdn3MBhHW5tpvH5tpm9C","SPPacmanDot"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},onCrush:function(){var e=this;this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.node.destroy()})))}}),cc._RF.pop()},{}],SPPlate:[function(e,t,s){"use strict";cc._RF.push(t,"65a62PwEtNGiryIZcBZbtxz","SPPlate"),cc.Class({extends:cc.Component,properties:{levelLb:cc.Label,torusPref:cc.Prefab},start:function(){},init:function(e){if(this.m_level=e,this.levelLb.string=e,e===splash.dataMgr.getCurLevel()){var t=cc.instantiate(this.torusPref);t.parent=this.node,t.scale=180}else e>splash.dataMgr.getCurLevel()&&(this.levelLb.string="")},onClick:function(){cc.log("SPPlate onClick")},getLevel:function(){return this.m_level}}),cc._RF.pop()},{}],SPPropBuy:[function(e,t,s){"use strict";cc._RF.push(t,"1236axwMLFH24OhXkJZ7EYP","SPPropBuy");e("i18n");cc.Class({extends:cc.Component,properties:{curPropNumLb:cc.Label,propSpfArr:[cc.SpriteFrame],propIconSpArr:[cc.Sprite],goldNumLbArr:[cc.Label],buyNumLbArr:[cc.Label],buySpecLbArr:[cc.Label]},init:function(e,t){var s="";switch(e){case splash.SPConstant.PROP_TYPE.SHOVEL_ROW:s="propshoprowtips";break;case splash.SPConstant.PROP_TYPE.SHOVEL_COL:s="propshopcoltips";break;case splash.SPConstant.PROP_TYPE.SHOVEL_ROW_COL:s="propshoprowcoltips";break;case splash.SPConstant.PROP_TYPE.BOMB:s="propshopbombtips";break;case splash.SPConstant.PROP_TYPE.SAME_CLEAR:s="propshopchangecolortips"}this.curPropNumLb.string=splash.dataMgr.getPropNum(e);for(var n=splash.SPConstant.PROP_PRICE[e],i=0;i<3;i++){var o=n[i];this.propIconSpArr[i].spriteFrame=this.propSpfArr[e],this.buyNumLbArr[i].string=o.num,this.goldNumLbArr[i].string=o.price,this.buySpecLbArr[i].string=hf.i18n.t(s).format(o.num)}this.propIconSpArr[3].spriteFrame=this.propSpfArr[e],this.m_closeCallback=t,this.m_propType=e},start:function(){},onClickBuy:function(e,t){splash.soundMgr.playBtnClick(),cc.log("SPPropBuy onClickBuy index - ",t);var s=this.m_propType,n=splash.SPConstant.PROP_PRICE[s][t];splash.dataMgr.getGoldsNum()>=n.price?(splash.dataMgr.costGolds(n.price),this.curPropNumLb.string=splash.dataMgr.addProp(s,n.num),splash.uiHelper.showCommonTips("successBuyTips")):splash.uiHelper.showShop()},onClickCoinAdd:function(){cc.log("SPPropBuy onClickCoinAdd"),splash.soundMgr.playBtnClick(),splash.uiHelper.showShop()},onClose:function(){splash.soundMgr.playBtnClick(),this.node.destroy(),this.m_closeCallback&&this.m_closeCallback()}}),cc._RF.pop()},{i18n:"i18n"}],SPPropMgr:[function(e,t,s){"use strict";cc._RF.push(t,"36f33P/0eRPFZpJq8f7PTJd","SPPropMgr");e("i18n");cc.Class({extends:cc.Component,properties:{propPref:cc.Prefab,propPanel:cc.Node,propPosNodeArr:[cc.Node],propBg:cc.Sprite,propCancelTipsNode:cc.Node,propOperateTipsLabel:cc.Label},onLoad:function(){var e=this;cc.winSize.width<720&&(this.propPanel.scale=(cc.winSize.width-72)/648);for(var t=function(t){(n=cc.instantiate(e.propPref)).parent=e.propPanel,n.setPosition(e.propPosNodeArr[t].getPosition());var s=n.getComponent("SPProp");s.init(t,splash.dataMgr.getPropNum(t),function(){e.onClick(s)})},s=0;s<5;s++){var n;t(s)}},start:function(){this.propOperateTipsLabel.node.y=splash.game.kernel.node.height*splash.game.kernel.node.scale/2+46},onClick:function(e){var t=this;splash.game.kernel.operateMgr.hasGuide()||splash.game.getGameStatus()!==splash.SPConstant.GAME_STATUS.WAIT_OPERATE&&splash.game.getGameStatus()!==splash.SPConstant.GAME_STATUS.PROP_SETTLE||(splash.dataMgr.getPropNum(e.getPropType())<=0?(this.m_curSelectedProp&&(this.cancelPropSelect(),splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE)),splash.uiHelper.showPropBuy(e.getPropType(),function(){var s=splash.dataMgr.getPropNum(e.getPropType());s>0&&(e.updatePropNum(s),t.doPropSelect(e))})):this.doPropSelect(e))},doPropSelect:function(e){splash.soundMgr.playPropClick(),splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.WAIT_OPERATE?(e.showSelectedStatus(),splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.PROP_SETTLE),splash.game.kernel.setPropSettleStatus(e.getPropType()),this.m_curSelectedProp=e,this.propCancelTipsNode.active=!0,this.propCancelTipsNode.opacity=0,this.propCancelTipsNode.runAction(cc.fadeIn(.3)),this.showPropOperateTips(e.getPropType())):splash.game.getGameStatus()===splash.SPConstant.GAME_STATUS.PROP_SETTLE&&(e===this.m_curSelectedProp?(this.cancelPropSelect(),splash.game.setGameStatus(splash.SPConstant.GAME_STATUS.WAIT_OPERATE)):(this.m_curSelectedProp.cancelSelectedStatus(),e.showSelectedStatus(),this.m_curSelectedProp=e,splash.game.kernel.setPropSettleStatus(e.getPropType()),this.showPropOperateTips(e.getPropType())))},getSelectedPropType:function(){return this.m_curSelectedProp.getPropType()},updateStyle:function(e){this.propBg.spriteFrame=e.propBg},showPropOperateTips:function(e){switch(this.propOperateTipsLabel.node.active=!0,this.propOperateTipsLabel.node.opacity=0,this.propOperateTipsLabel.node.runAction(cc.fadeIn(.3)),e){case splash.SPConstant.PROP_TYPE.SHOVEL_ROW:this.propOperateTipsLabel.textKey=hf.i18n.t("proprowtips");break;case splash.SPConstant.PROP_TYPE.SHOVEL_COL:this.propOperateTipsLabel.textKey=hf.i18n.t("propcoltips");break;case splash.SPConstant.PROP_TYPE.SHOVEL_ROW_COL:this.propOperateTipsLabel.textKey=hf.i18n.t("proprowcoltips");break;case splash.SPConstant.PROP_TYPE.BOMB:this.propOperateTipsLabel.textKey=hf.i18n.t("propbombtips");break;case splash.SPConstant.PROP_TYPE.SAME_CLEAR:this.propOperateTipsLabel.textKey=hf.i18n.t("propsamecolortips")}},cancelPropSelect:function(){var e=this.m_curSelectedProp;this.m_curSelectedProp=void 0,e.cancelSelectedStatus(),splash.game.kernel.setPropSettleStatus(null),this.propCancelTipsNode.stopAllActions(),this.propCancelTipsNode.active=!1,this.propOperateTipsLabel.node.stopAllActions(),this.propOperateTipsLabel.node.active=!1},onPropSettle:function(){var e=this.m_curSelectedProp;e.updatePropNum(splash.dataMgr.useProp(e.getPropType())),this.cancelPropSelect()}}),cc._RF.pop()},{i18n:"i18n"}],SPProp:[function(e,t,s){"use strict";cc._RF.push(t,"0c77aU7WDZOeZMcIOUpjPU2","SPProp"),cc.Class({extends:cc.Component,properties:{numLb:cc.Label,iconSp:cc.Sprite,propSpArr:[cc.SpriteFrame],propAddIcon:cc.Node},onLoad:function(){},init:function(e,t,s){this.m_propType=e,this.m_clickCb=s,this.iconSp.spriteFrame=this.propSpArr[e],this.updatePropNum(t)},start:function(){},onClick:function(){this.m_clickCb(this.m_propType)},updatePropNum:function(e){e>0?(this.numLb.string=e,this.propAddIcon.active=!1):(this.numLb.string="",this.propAddIcon.active=!0)},showSelectedStatus:function(){this.iconSp.node.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.1,45),cc.rotateTo(.2,-45),cc.rotateTo(.2,45),cc.rotateTo(.1,0),cc.delayTime(1))))},cancelSelectedStatus:function(){this.iconSp.node.stopAllActions(),this.iconSp.node.angle=0},getPropType:function(){return this.m_propType}}),cc._RF.pop()},{}],SPRains:[function(e,t,s){"use strict";cc._RF.push(t,"a7e51sul/1A8Jg6YnYSUBz5","SPRains"),cc.Class({extends:cc.Component,properties:{rainSpfArr:[cc.SpriteFrame]},start:function(){this.schedule(this.addRain.bind(this),1.68),this.m_rainIndex=0},addRain:function(){var e=new cc.Node,t=(Math.random()-.5)*cc.winSize.width*.95;e.setPosition(t,0),e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.RAW,e.getComponent(cc.Sprite).spriteFrame=this.rainSpfArr[this.m_rainIndex++%this.rainSpfArr.length],e.color=splash.SPConstant.DOT_COLOR_ARR[Math.floor(Math.random()*splash.SPConstant.DOT_COLOR_ARR.length)],e.opacity=100;var s=15+10*Math.random();e.runAction(cc.sequence(cc.moveTo(s,cc.v2(e.x,-1580)),cc.callFunc(function(){e.destroy()}))),e.runAction(cc.scaleTo(s,.6)),e.runAction(cc.repeatForever(cc.rotateBy(6+6*Math.random(),360*(Math.random()>.5?1:-1)))),e.parent=this.node}}),cc._RF.pop()},{}],SPRowColBullet:[function(e,t,s){"use strict";cc._RF.push(t,"c44beSHa59GOorEze/Db+Gs","SPRowColBullet");var n=[{key:"up",node:"bulletUp",mask:[0,1]},{key:"down",node:"bulletDown",mask:[0,-1]},{key:"left",node:"bulletLeft",mask:[-1,0]},{key:"right",node:"bulletRight",mask:[1,0]}];cc.Class({extends:cc.Component,properties:{bulletUp:cc.Node,bulletDown:cc.Node,bulletLeft:cc.Node,bulletRight:cc.Node},onLoad:function(){this.m_scaleDistance=splash.SPConstant.KERNEL.GRID_SIZE},start:function(){},showBullet:function(e,t){for(var s=this,i=0,o=splash.SPConstant.KERNEL.LINK_CRUSH_DELAY[splash.dataMgr.getGameSpeed()],a=function(){l=e[(c=n[r]).key];var a=s[c.node];a.active=!1,l&&(a.active=!0,h=splash.SPConstant.KERNEL.MAX_HEIGHT,a.runAction(cc.sequence(cc.delayTime(2*o),cc.moveBy(l*o,cc.v2(c.mask[0]*h*s.m_scaleDistance,c.mask[1]*h*s.m_scaleDistance)),cc.delayTime(.5),cc.callFunc(function(){a.active=!1}))),l>i&&(i=l)),a.getComponent(cc.MotionStreak).color=t},r=0;r<n.length;r++){var c,l,h;a()}this.scheduleOnce(function(){s.node.destroy()},i*o+2*o)}}),cc._RF.pop()},{}],SPSeedMgr:[function(e,t,s){"use strict";cc._RF.push(t,"edc9cJhX9tGPYDwywMGWSAR","SPSeedMgr"),cc.Class({extends:cc.Component,properties:{seedPref:cc.Prefab},onLoad:function(){this.m_seedArr=[]},start:function(){},flyRowColSeed:function(e){for(var t=[],s=splash.game.kernel.operateMgr.getLinkedGridArr(),n=0;n<s.length;n++){var i=s[n];if(i.isRowColSeed()){var o=this.createSeedOnGrid(i);t.push(o)}}this.m_seedArr=t,this.m_guideInfo=e},createSeedOnGrid:function(e){var t=cc.instantiate(this.seedPref);return t.x=e.node.x,t.y=e.node.y,t.parent=this.node,t.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,40)),cc.callFunc(function(){t.runAction(cc.repeatForever(cc.rotateBy(1,180)))}))),t},settleRowColSeed:function(){var e=this;if(!(this.m_seedArr.length<=0)){var t=this.m_guideInfo,s=t?t.rowcol:null,n=[],i=splash.game.kernel.gridMgr;if(s)for(var o=0;o<s.length;o++){var a=s[o],r=i.getDisplayedGridByPos(a.pos[0],a.pos[1]);n.push(r)}else for(var c=i.getDisplayedH(),l=0;l<c;l++)for(var h=0;h<i.getDisplayedW();h++){(r=i.getDisplayedGridByPos(l,h)).avaliableForRowColType()&&n.push(r)}var p=function(){var i,a,r=e.m_seedArr[o];(d=n.length)>0?(s?(i=n[o],a="row"===t.rowcol[o].type?splash.SPConstant.ROW_COL_TYPE.ROW:splash.SPConstant.ROW_COL_TYPE.COL):(u=Math.floor(Math.random()*d),i=n[u],n[u]=n[d-1],n.pop(),a=Math.random()>.5?splash.SPConstant.ROW_COL_TYPE.ROW:splash.SPConstant.ROW_COL_TYPE.COL),r.stopAllActions(),r.runAction(cc.sequence(cc.moveTo(splash.SPConstant.KERNEL.SEED_SETTLE_TIME,cc.v2(i.node.x,i.node.y)),cc.callFunc(function(){i.setRowColType(a),r.destroy()})))):r.destroy()};for(o=0;o<this.m_seedArr.length;o++){var d,u;p()}this.m_seedArr=[]}}}),cc._RF.pop()},{}],SPSettings:[function(e,t,s){"use strict";cc._RF.push(t,"98cbex11NNEd55ajUprgZV4","SPSettings"),cc.Class({extends:cc.Component,properties:{gameExitBtn:cc.Button,settingsMask:cc.Node,gameScenePanel:cc.Node,settingsBtnIcon:cc.Sprite,yellowSettingBtnSpf:cc.SpriteFrame,blueSettingBtnSpf:cc.SpriteFrame,enLangTg:cc.Toggle,zhLangTg:cc.Toggle,zhTraditionalLangTg:cc.Toggle,ptLangTg:cc.Toggle,esLangTg:cc.Toggle,blueThemeTg:cc.Toggle,yellowThemeTg:cc.Toggle,randomThemeTg:cc.Toggle,musicTg:cc.Toggle,soundTg:cc.Toggle,vibTg:cc.Toggle,colorBlindTg:cc.Toggle,skinToggles:cc.Node,gameSpeedToggleArr:[cc.Toggle],actionNode:cc.Node},onLoad:function(){switch(this.settingsMask.active=!1,"SPGameScene"===cc.director.getScene().name?(this.gameExitBtn.node.active=!0,this.m_inGame=!0,this.skinToggles.active=!1):(this.gameExitBtn.node.active=!1,this.skinToggles.active=!0),splash.settings=this,splash.globalVar.uiStyle){case splash.SPConstant.UI_STYLE.BLUE:this.settingsBtnIcon.spriteFrame=this.blueSettingBtnSpf;break;case splash.SPConstant.UI_STYLE.YELLOW:this.settingsBtnIcon.spriteFrame=this.yellowSettingBtnSpf}this[splash.dataMgr.getTheme()+"ThemeTg"].isChecked=!0,this[hf.i18n.getCurLang()+"LangTg"].isChecked=!0,this.musicTg.isChecked=splash.dataMgr.isMusicOn(),this.soundTg.isChecked=splash.dataMgr.isSoundOn(),this.vibTg.isChecked=splash.dataMgr.isVibOn(),this.colorBlindTg.isChecked=splash.dataMgr.isColorBlind(),this.gameSpeedToggleArr[splash.dataMgr.getGameSpeed()].isChecked=!0},onSettings:function(){var e=this;this.m_isMoving||(splash.soundMgr.playBtnClick(),this.actionNode.x>1?this.onClickMask():(this.settingsMask.active=!0,this.m_isMoving=!0,this.actionNode.runAction(cc.sequence(cc.moveBy(.3,cc.v2(this.node.width,0)),cc.moveBy(.1,cc.v2(-25,0)),cc.moveBy(.1,cc.v2(25,0)),cc.callFunc(function(){e.m_isMoving=!1})))))},onClickMask:function(){var e=this;this.m_isMoving||(splash.soundMgr.playBtnClick(),this.settingsMask.active=!1,this.m_isMoving=!0,this.actionNode.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,0)),cc.callFunc(function(){e.m_isMoving=!1}))))},onLangSelect:function(e){splash.soundMgr.playToggleClick(),splash.dataMgr.setLang(e.node.name)},onThemeSelect:function(e){splash.soundMgr.playToggleClick(),splash.dataMgr.setTheme(e.node.name)},onSpeedSelect:function(e){var t;switch(splash.soundMgr.playToggleClick(),e.node.name){case"low":t=splash.SPConstant.GAME_SPEED.LOW;break;case"medium":t=splash.SPConstant.GAME_SPEED.MEDIUM;break;case"high":t=splash.SPConstant.GAME_SPEED.HIGH}splash.dataMgr.setGameSpeed(t)},onMusic:function(){splash.soundMgr.playToggleClick(),splash.dataMgr.setMusicOn(this.musicTg.isChecked),this.m_inGame&&(this.musicTg.isChecked?splash.soundMgr.playBgMusic():splash.soundMgr.stopBgMusic())},onSound:function(){splash.soundMgr.playToggleClick(),splash.dataMgr.setSoundOn(this.soundTg.isChecked)},onVib:function(){splash.soundMgr.playToggleClick(),splash.dataMgr.setVibOn(this.vibTg.isChecked)},onColorBlind:function(){splash.soundMgr.playToggleClick(),splash.dataMgr.setColorBlind(this.colorBlindTg.isChecked),hf.globalEvent.emit(splash.SPConstant.EVENTS.ON_COLOR_BLIND_SETTINGS)},onExitGame:function(){this.onClickMask(),splash.uiHelper.showMessageBox({msg:hf.i18n.t("exitleveltips"),btn1Name:hf.i18n.t("sure"),btn1CallBack:function(){splash.game.exitToMap()},closeCallBack:function(){}})},onPrivacy:function(){splash.soundMgr.playBtnClick(),cc.sys.openURL(splash.SPConstant.URL.PRIVACY)},onDestroy:function(){}}),cc._RF.pop()},{}],SPShopItem:[function(e,t,s){"use strict";cc._RF.push(t,"8492b/CW4JFv6/hKx7Usfl4","SPShopItem"),cc.Class({extends:cc.Component,properties:{goldsSpfArr:[cc.SpriteFrame],goldIcon:cc.Sprite,specLb:cc.Label,priceLb:cc.Label,adsSpf:cc.SpriteFrame,btnSp:cc.Sprite},start:function(){},init:function(e,t,s){this.m_buyCallBack=s,this.goldIcon.spriteFrame=this.goldsSpfArr[e],"money"===t.type?(this.priceLb.node.active=!0,this.priceLb.string=t.price.en):(this.btnSp.spriteFrame=this.adsSpf,this.priceLb.node.active=!1),this.specLb.string=hf.i18n.t("goldshopgoldsspec").format(t.goldsCnt)},onClick:function(){this.m_buyCallBack()}}),cc._RF.pop()},{}],SPSlushDot:[function(e,t,s){"use strict";cc._RF.push(t,"b0d10M5e3xGWJIIVr/si1rM","SPSlushDot"),cc.Class({extends:cc.Component,properties:{},start:function(){},onCrush:function(){var e=this;splash.soundMgr.playSlush(),this.node.runAction(cc.sequence(cc.scaleTo(.5,0),cc.callFunc(function(){e.node.destroy()})))}}),cc._RF.pop()},{}],SPSoundMgr:[function(e,t,s){"use strict";function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"e02918YDERDaqe7hpnJhFI7","SPSoundMgr"),cc.Class({extends:cc.Component,properties:{bg1:{default:null,type:cc.AudioClip},bg2:{default:null,type:cc.AudioClip},bomb:{default:null,type:cc.AudioClip},fail:{default:null,type:cc.AudioClip},win:{default:null,type:cc.AudioClip},football:{default:null,type:cc.AudioClip},goalFinish:{default:null,type:cc.AudioClip},guardCrush:{default:null,type:cc.AudioClip},ice:{default:null,type:cc.AudioClip},rowCol:{default:null,type:cc.AudioClip},rowColGridSelect:{default:null,type:cc.AudioClip},sameColor:{default:null,type:cc.AudioClip},square:{default:null,type:cc.AudioClip},dotsLink:{default:null,type:cc.AudioClip},dotsCrush:{default:null,type:cc.AudioClip},noMoves:{default:null,type:cc.AudioClip},pacmanEat:{default:null,type:cc.AudioClip},resort:{default:null,type:cc.AudioClip},btnClick:{default:null,type:cc.AudioClip},pageShift:{default:null,type:cc.AudioClip},toggleClick:{default:null,type:cc.AudioClip},propClick:{default:null,type:cc.AudioClip},slush:{default:null,type:cc.AudioClip}},onLoad:function(){var e=this;splash.soundMgr=this;for(var t=["bomb","fail","win","football","goalFinish","guardCrush","ice","rowCol","rowColGridSelect","sameColor","square","noMoves","resort","dotsLink","dotsCrush","pacmanEat","btnClick","pageShift","toggleClick","propClick","slush"],s=function(){o=1;var s=t[i];"object"===n(s)&&(s=s[0],o=s[1]),a="play"+s.slice(0,1).toUpperCase()+s.slice(1),e[a]=function(){e.playSound(e[s],o)}},i=0;i<t.length;i++){var o,a;s()}},onDestroy:function(){splash.soundMgr=void 0},start:function(){this.m_ready=!0},playSound:function(e,t){splash.dataMgr.isSoundOn()&&this.m_ready&&cc.audioEngine.play(e,!1,void 0===t?1:t)},playBgMusic:function(){splash.dataMgr.isMusicOn()&&(this.m_bgMusicID=cc.audioEngine.play(this.bg1,!0,1))},pauseBgMusic:function(){null!=this.m_bgMusicID&&cc.audioEngine.pause(this.m_bgMusicID)},resumeBgMusic:function(){splash.dataMgr.isMusicOn()&&null!=this.m_bgMusicID&&cc.audioEngine.resume(this.m_bgMusicID)},stopBgMusic:function(){cc.audioEngine.stop(this.m_bgMusicID),this.m_bgMusicID=void 0}}),cc._RF.pop()},{}],SPSplashScene:[function(e,t,s){"use strict";cc._RF.push(t,"1ae4fKb/DNA0aoFUfxDbVv9","SPSplashScene"),cc.Class({extends:cc.Component,properties:{loadLabelNode:cc.Node,brandNode:cc.Node,gameNameNode:cc.Node,circle:cc.Node,circleZHPosNode:cc.Node,circleENPosNode:cc.Node},onLoad:function(){var e=this;this.scheduleOnce(function(){e.m_sceneLoaded?(e.m_oneSecondPassed=!0,e.checkSceneJump()):(e.loadLabelNode.active=!0,e.loadLabelNode.getComponent(cc.Animation).play(),e.scheduleOnce(function(){e.m_oneSecondPassed=!0,e.checkSceneJump()},1)),cc.director.preloadScene(splash.sceneToLoad,function(){e.m_sceneLoaded=!0,e.checkSceneJump()})},1),"SPGameScene"===splash.sceneToLoad&&(this.loadUIStyleRes(),this.m_loadUIStyleRes=!0,splash.globalVar.gameUIStyleSpfArr=void 0),"SPStartScene"!==splash.sceneToLoad&&(this.brandNode.active=!1,this.showGameName())},showGameName:function(){var e;switch(this.gameNameNode.active=!0,hf.i18n.getCurLang()){case"zh":case"zhTraditional":e=this.circleZHPosNode,this.circle.active=!1;break;case"en":default:e=this.circleENPosNode}this.circle.setPosition(e.getPosition()),this.circle.scale=e.scale},start:function(){},checkSceneJump:function(){this.m_sceneLoaded&&this.m_oneSecondPassed&&(!this.m_loadUIStyleRes||splash.globalVar.gameUIStyleSpfArr)&&(cc.director.loadScene(splash.sceneToLoad),splash.sceneToLoad=void 0)},loadUIStyleRes:function(){var e=this,t=splash.globalVar.curTheme,s=splash.SPConstant.DYNAMIC_RES_PATH.UI_STYLE_ATLAS.format(t,t);cc.loader.loadRes(s,function(t,s){!t&&cc.isValid(s,!0)&&(splash.globalVar.gameUIStyleSpfArr=s.getSpriteFrames(),e.checkSceneJump())})}}),cc._RF.pop()},{}],SPStartScene:[function(e,t,s){"use strict";cc._RF.push(t,"b10476yXJVLm4uQem+caFIj","SPStartScene"),cc.Class({extends:cc.Component,properties:{circle:cc.Node,circleZHPosNode:cc.Node,circleENPosNode:cc.Node,btnClickSfx:{default:null,type:cc.AudioClip}},onLoad:function(){var e;switch(hf.i18n.getCurLang()){case"zh":case"zhTraditional":e=this.circleZHPosNode,this.circle.active=!1;break;case"en":default:e=this.circleENPosNode}this.circle.setPosition(e.getPosition()),this.circle.scale=e.scale,cc.loader.setAutoRelease(this.btnClickSfx,!1)},start:function(){},onStartGame:function(){splash.dataMgr.isSoundOn()&&cc.audioEngine.play(this.btnClickSfx,!1,1),splash.sceneToLoad="SPMainScene",cc.director.loadScene("SPSplashScene")},onFacebookLogin:function(){hf.onFacebookLoginResult=function(e){cc.log("SPStartScene onFacebookLogin --- code",e)},hf.platformMgr.androidMgr.doFacebookLogin()}}),cc._RF.pop()},{}],SPTaskMgr:[function(e,t,s){"use strict";cc._RF.push(t,"ef1c16QCZBL6Lzk0n4KCq8K","SPTaskMgr"),cc._RF.pop()},{}],SPUIHelper:[function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}cc._RF.push(t,"75929EaYoRDGI+THejfQ4eN","SPUIHelper");var a=function(){function e(){n(this,e)}return o(e,[{key:"showShop",value:function(){var e=this;this.addInputBlock(),cc.loader.loadRes("splash/nodes/SPGoldShop",function(t,s){if(e.removeInputBlock(),!t){var n=cc.instantiate(s);n.parent=cc.director.getScene(),n.setPosition(cc.winSize.width/2,cc.winSize.height/2)}})}},{key:"showPropBuy",value:function(e,t){var s=this;this.addInputBlock(),cc.loader.loadRes("splash/nodes/SPPropBuy",function(n,i){if(s.removeInputBlock(),!n){var o=cc.instantiate(i);o.parent=cc.director.getScene(),o.setPosition(cc.winSize.width/2,cc.winSize.height/2),o.getComponent("SPPropBuy").init(e,t)}})}},{key:"showMessageBox",value:function(e){var t=this;this.addInputBlock(),cc.loader.loadRes("splash/nodes/SPMessageBox",function(s,n){if(t.removeInputBlock(),!s){var i=cc.instantiate(n);i.parent=cc.director.getScene(),i.setPosition(cc.winSize.width/2,cc.winSize.height/2),i.getComponent("SPMessageBox").init(e)}})}},{key:"showCommonTips",value:function(e,t){cc.loader.loadRes("splash/nodes/SPCommonTips",function(s,n){if(!s){var i=cc.instantiate(n);i.parent=cc.director.getScene(),i.setPosition(cc.winSize.width/2,cc.winSize.height/2),i.getComponent("SPCommonTips").init(e,t)}})}},{key:"addInputBlock",value:function(){if(this.m_globalBlockNode)this.m_blockCnt++;else{var e=new cc.Node;e.setContentSize(cc.winSize),e.parent=cc.director.getScene(),e.setPosition(cc.winSize.width/2,cc.winSize.height/2),e.addComponent(cc.BlockInputEvents),this.m_globalBlockNode=e,this.m_blockCnt=1}}},{key:"removeAllInputBlock",value:function(){this.m_globalBlockNode&&(this.m_blockCnt=0,this.m_globalBlockNode.destroy(),this.m_globalBlockNode=void 0)}},{key:"removeInputBlock",value:function(){this.m_globalBlockNode&&(this.m_blockCnt--,this.m_blockCnt<=0&&(this.m_globalBlockNode.destroy(),this.m_globalBlockNode=void 0,this.m_blockCnt=0))}}]),e}();t.exports=new a,cc._RF.pop()},{}],ShaderController:[function(e,t,s){"use strict";cc._RF.push(t,"3a42dDKarRPLrE9CDkITWUB","ShaderController"),Object.defineProperty(s,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,o=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=1,t.isLoop=!1,t.isSetUv=!1,t}return __extends(t,e),t.prototype.start=function(){this.time=0,this.IsAdd=!0,this.sprite=this.node.getComponent(cc.Sprite),this.material=this.sprite.getMaterial(0)},t.prototype.update=function(e){if(this.material.setProperty("u_time",this.time),this.isLoop&&!this.IsAdd?this.time-=e*this.speed:this.time+=e*this.speed,this.isSetUv){var t,s,n,i,o=this.sprite.spriteFrame;t=o.uv[0],i=o.uv[5],s=o.uv[6],n=o.uv[3];var a=new cc.Vec4(t,i,s,n),r=o.isRotated()?1:0;this.material.setProperty("u_UVoffset",a),this.material.setProperty("u_rotated",r)}cc.log(this.time),this.time>1.5?this.IsAdd=!1:this.time<-.5&&(this.IsAdd=!0)},__decorate([o({type:cc.Float,tooltip:"\u901f\u5ea6"})],t.prototype,"speed",void 0),__decorate([o({tooltip:"\u662f\u5426\u5faa\u73af"})],t.prototype,"isLoop",void 0),__decorate([o({tooltip:"\u662f\u5426\u8bbe\u7f6eUV\u5230effect(\u89e3\u51b3\u52a8\u6001\u5408\u56fe\u7684bug)"})],t.prototype,"isSetUv",void 0),t=__decorate([i],t)}(cc.Component);s.default=a,cc._RF.pop()},{}],SpriteLocalized:[function(e,t,s){"use strict";cc._RF.push(t,"33345qD3itOI5alG32Wr+Aw","SpriteLocalized"),cc.Class({extends:cc.Sprite,properties:{cnFrame:cc.SpriteFrame,enFrame:cc.SpriteFrame,height:70},onLoad:function(){this.sizeMode=cc.Sprite.SizeMode.RAW;var e=null;switch(hf.i18n.getCurLang()){case"zh":case"zhTraditional":this.spriteFrame=this.cnFrame,e=this.cnFrame;break;case"en":default:this.spriteFrame=this.enFrame,e=this.enFrame}if(this.height>0){var t=this.height/e.getOriginalSize().height;this.node.width=e.getOriginalSize().width*t,this.node.height=e.getOriginalSize().height*t}},start:function(){}}),cc._RF.pop()},{}],String:[function(e,t,s){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"ecd5fGbpiVH0Ybjq4ciSErm","String"),String.prototype.format=function(e){if(arguments.length>0){var t=this;if(1==arguments.length&&"object"==n(e))for(var s in e){var i=new RegExp("({"+s+"})","g");t=t.replace(i,e[s])}else for(var o=0;o<arguments.length;o++){if(void 0==arguments[o])return"";i=new RegExp("({["+o+"]})","g");t=t.replace(i,arguments[o])}return t}return this},cc._RF.pop()},{}],ToggleNoBackGround:[function(e,t,s){"use strict";cc._RF.push(t,"b4103NZUX9GGKsm9O+wr9Qw","ToggleNoBackGround"),cc.Class({extends:cc.Toggle,properties:{},onEnable:function(){this._super(),this._updateCheckMark()},_updateCheckMark:function(){this._super(),this.target.active=!this.isChecked}}),cc._RF.pop()},{}],UtilsMgr:[function(e,t,s){"use strict";cc._RF.push(t,"573fe2Hoz1GNIwGdAOfXdlC","UtilsMgr");var n=e("MathHelper"),i={};i.mathHelper=new n,t.exports=i,cc._RF.pop()},{MathHelper:"MathHelper"}],WXAds:[function(e,t,s){"use strict";cc._RF.push(t,"cd8b1IBK6lJYqmB/GzbpfsU","WXAds");var n=e("WXTools"),i={REWARD_RESULT:{LOAD_AD_FAIL:1,NOT_SUPPORTED:2,QUIT_MIDWAY:3,SUCCESS:4},config:function(e,t){this.m_bannerId=e,this.m_videoId=t},showBanner:function(e){cc.log("WXAds showBanner bId",e),n.isWXAdsSupported()&&(tt?this.showTTBanner(e):this.showWXBanner(e))},showWXBanner:function(e){var t=this;cc.log("WXAds showWXBanner xxxxxxxxxx"),this.m_bannerAd&&this.m_bannerAd.destroy();var s=e||this.m_bannerId;if(s){var n=wx.getSystemInfoSync();cc.log("bannerId",s),this.m_bannerAd=wx.createBannerAd({adUnitId:s,style:{left:0,top:.8*n.screenHeight,width:n.screenWidth,height:.2*n.screenHeight},adIntervals:60}),this.m_bannerRealHeight=.2*n.screenHeight,this.m_readHeight=parseInt(cc.winSize.height*this.m_bannerRealHeight/n.screenHeight),this.m_bannerAd.onLoad(function(e){cc.log("WXAds showBanner onLoad")}),this.m_bannerAd.onResize(function(e){t.m_bannerRealHeight=t.m_bannerAd.style.realHeight,t.m_bannerAd.style.left=(n.screenWidth-t.m_bannerAd.style.realWidth)/2,t.m_bannerAd.style.top=n.screenHeight-t.m_bannerRealHeight,cc.log("WXAds showBanner bannerRealHeight",t.m_bannerRealHeight),t.m_bannerRealHeight/n.screenHeight>.2&&(t.m_bannerAd.style.width=n.screenWidth*n.screenHeight*.198/t.m_bannerRealHeight);var s=parseInt(cc.winSize.height*t.m_bannerRealHeight/n.screenHeight);cc.director.emit("bannerResize",{height:s}),t.m_readHeight=s}),this.m_bannerAd.onError(function(e){cc.log("WXAds showBanner",e)}),this.m_bannerAd.show()}},showTTBanner:function(e){var t=this;this.m_bannerAd&&this.m_bannerAd.destroy();var s=e||this.m_bannerId;if(s){var n=wx.getSystemInfoSync();this.m_bannerRealHeight=.2*n.screenHeight;var i=16*this.m_bannerRealHeight/9;this.m_readHeight=parseInt(cc.winSize.height*this.m_bannerRealHeight/n.screenHeight),this.m_bannerAd=wx.createBannerAd({adUnitId:s,style:{left:(n.screenWidth-i)/2,top:n.screenHeight-this.m_bannerRealHeight,width:i}}),this.m_bannerAd.onLoad(function(e){cc.log("WXAds showBanner onLoad",i)}),this.m_bannerAd.onResize(function(e){cc.log("WXAds banner onResize",e.width,e.height),i>e.width&&(i=e.width,t.m_bannerRealHeight=e.height,t.m_bannerAd.style.top=n.screenHeight-e.width/16*9,t.m_bannerAd.style.left=(n.screenWidth-e.width)/2);var s=parseInt(cc.winSize.height*t.m_bannerRealHeight/n.screenHeight);t.m_readHeight=s,cc.director.emit("bannerResize",{height:s})}),this.m_bannerAd.onError(function(e){cc.log("WXAds showBanner",e)}),this.m_bannerAd.show()}},getRealBannerHeight:function(){return this.m_readHeight},hideBanner:function(){n.isWXAdsSupported()&&this.m_bannerAd&&(this.m_bannerAd.destroy(),this.m_bannerAd=void 0)},loadRewardVideo:function(e){var t=this;this.m_rewardAd=wx.createRewardedVideoAd({adUnitId:e}),this.m_isRewardAdLoaded=!1,this.m_rewardAd.onLoad(function(){cc.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.m_isRewardAdLoaded=!0}),this.m_rewardAd.onError(function(){cc.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"),t.m_isRewardAdLoaded=!1}),this.m_rewardAd.onClose(function(e){e&&e.isEnded||void 0===e?t.sendRewardAdsResult(i.REWARD_RESULT.SUCCESS):t.sendRewardAdsResult(i.REWARD_RESULT.QUIT_MIDWAY)})},showRewardVideo:function(e){var t=this;n.isWXAdsSupported()?(this.m_callBackFunc=e,this.m_rewardAd.load().then(function(){t.m_rewardAd.show()}).catch(function(e){t.sendRewardAdsResult(i.REWARD_RESULT.LOAD_AD_FAIL)})):e(i.REWARD_RESULT.NOT_SUPPORTED)},isRewardVideoLoaded:function(){return this.m_isRewardAdLoaded},sendRewardAdsResult:function(e){this.m_callBackFunc&&(this.m_callBackFunc(e),this.m_callBackFunc=null),this.m_isRewardAdLoaded=!1},loadInterstitialAd:function(e){this.m_interstitialAd=wx.createInterstitialAd({adUnitId:e}),this.m_interstitialAd.onLoad(function(){cc.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.m_interstitialAd.onError(function(){cc.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")}),this.m_interstitialAd.onClose(function(e){})},showInterstitialAd:function(){n.isWXAdsSupported()&&this.m_interstitialAd&&this.m_interstitialAd.show().catch(function(e){console.error("showInterstitialAd",e)})},createIconAd:function(e){var t;if(wx.createGameIcon){var s=wx.getSystemInfoSync();t=wx.createGameIcon({adUnitId:e,count:2,style:[{left:10,top:.225*s.screenHeight,size:50},{left:s.screenWidth-80,top:.225*s.screenHeight,size:50}]})}return t},showIconAd:function(e){e&&e.load().then(function(){e.show(),console.log("showIconAd success",e)}).catch(function(e){console.error("WXAds showIconAd",e)})},hideIconAd:function(e){e&&e.hide().then(function(){console.log("hideIconAd success",e)}).catch(function(e){console.error("WXAds hideIconAd",e)})},destroyIconAd:function(e){console.log("destroyIconAd",e),e&&e.destroy().then(function(){}).catch(function(e){console.error("WXAds destroyIconAd",e)})},createPortalAd:function(e){wx.createGamePortal&&(this.m_portalAd=wx.createGamePortal({adUnitId:e}))},showPortalAd:function(e){var t=this;this.m_portalAd&&this.m_portalAd.load().then(function(){t.m_portalAd.show(),e&&e(!0)}).catch(function(t){console.error(t),e&&e(!1)})}};t.exports=i,cc._RF.pop()},{WXTools:"WXTools"}],WXMgr:[function(e,t,s){"use strict";cc._RF.push(t,"3fdb43XlftFQK9HjW6KLmFE","WXMgr");var n={};n.wxRank=e("WXRank"),n.wxAds=e("WXAds"),n.wxTools=e("WXTools"),t.exports=n,cc._RF.pop()},{WXAds:"WXAds",WXRank:"WXRank",WXTools:"WXTools"}],WXRankConstants:[function(e,t,s){"use strict";cc._RF.push(t,"d0d9e95YI5NLqZGpond3XPU","WXRankConstants");var n={CMD_TYPE:{SHOW_FRIEND:0,SHOW_GROUP:1,SUBMIT_SCORE:2,SHOW_THREE_PLAYER:3,TOUCH_MOVE:4,NEXT_PAGE:5,LAST_PAGE:6,SHOW_FIRST:7,SET_MY_DATA:8}};t.exports=n,cc._RF.pop()},{}],WXRank:[function(e,t,s){"use strict";cc._RF.push(t,"47f102rvr5ASo19wXhGpX4T","WXRank");var n=e("WXRankConstants"),i=new Object;i.setMyData=function(e){wx.postMessage({cmd:n.CMD_TYPE.SET_MY_DATA,data:e})},i.showFriend=function(e,t){cc.log("WXRank.showFriend"),this.init(e),wx.postMessage({cmd:n.CMD_TYPE.SHOW_FRIEND,data:t})},i.showGroup=function(e,t){cc.log("WXRank.showGroup"),wx.postMessage({cmd:n.CMD_TYPE.SHOW_GROUP,data:{shareTicket:shareTicket,key:t}}),this.init(e)},i.showThreePlayer=function(e,t,s){this.init(e),wx.postMessage({cmd:n.CMD_TYPE.SHOW_THREE_PLAYER,data:{key:t,score:s}})},i.showFirstPlayer=function(e,t){cc.log("WXRank.showFirstPlayer"),this.init(e),t.avatarSize=t.avatarSize||e.node.width,wx.postMessage({cmd:n.CMD_TYPE.SHOW_FIRST,data:t})},i.submitScore=function(e,t,s,i){wx.postMessage({cmd:n.CMD_TYPE.SUBMIT_SCORE,data:{key:e,value:t,isMainRank:s,keepBigValue:i}})},i.nextPage=function(){wx.postMessage({cmd:n.CMD_TYPE.NEXT_PAGE})},i.lastPage=function(){wx.postMessage({cmd:n.CMD_TYPE.LAST_PAGE})},i.init=function(e){e.spriteFrame||(e.spriteFrame=new cc.SpriteFrame),this.m_tex=new cc.Texture2D,this.m_isShow=!0,this.m_spriteRank=e,this.m_spriteRank.node.active=!0,this.initSubDomain()},i.initSubDomain=function(){var e=wx.getOpenDataContext().canvas;e.width=this.m_spriteRank.node.width,e.height=this.m_spriteRank.node.height},i.hide=function(){this.m_isShow&&(this.m_tex=null,this.m_isShow=!1,this.m_spriteRank.node.active=!1)},i.isShow=function(){return this.m_isShow},i.update=function(){this.updateSubDomainCanvas()},i.updateSubDomainCanvas=function(){if(this.m_tex){var e=wx.getOpenDataContext().canvas;this.m_tex.initWithElement(e),this.m_tex.handleLoadedTexture(),this.m_spriteRank.spriteFrame=new cc.SpriteFrame(this.m_tex)}},t.exports=i,cc._RF.pop()},{WXRankConstants:"WXRankConstants"}],WXTools:[function(e,t,s){"use strict";cc._RF.push(t,"1ada1Av8nNM6YbN4JZ3ttgh","WXTools");var n={};function i(e,t){e=e.split("."),t=t.split(".");for(var s=Math.max(e.length,t.length);e.length<s;)e.push("0");for(;t.length<s;)t.push("0");for(var n=0;n<s;n++){var i=parseInt(e[n]),o=parseInt(t[n]);if(i>o)return 1;if(i<o)return-1}return 0}n.isWXRankSupported=function(){var e;return e=tt?"1.3.0":"1.9.92",-1!==i(wx.getSystemInfoSync().SDKVersion,e)},n.isWXAdsSupported=function(){var e;return e=tt?"1.11.0":"2.0.4",-1!==i(wx.getSystemInfoSync().SDKVersion,e)},n.isGameClubSupported=function(){return cc.sys.platform===cc.sys.WECHAT_GAME&&-1!==i(wx.getSystemInfoSync().SDKVersion,"2.0.3")},n.registerOnShow=function(e,t){var s=this;this.m_registerFuncArr||(this.m_registerFuncArr=[],wx.onShow(function(e){for(var t=0;t<s.m_registerFuncArr.length;t++)for(var n=s.m_registerFuncArr[t],i=0;i<n.m_wxOnShowRegTargetArr.length;i++){var o=n.m_wxOnShowRegTargetArr[i];n.apply(o,[e])}})),this.m_registerFuncArr.indexOf(e)>=0?e.m_wxOnShowRegTargetArr.push(t):e.m_wxOnShowRegTargetArr?cc.error('WXTools.registerOnShow Func already have a "m_wxOnShowRegTargetArr" name key, please change it'):(this.m_registerFuncArr.push(e),e.m_wxOnShowRegTargetArr=[],e.m_wxOnShowRegTargetArr.push(t))},n.unRegisterOnShow=function(e,t){var s=this.m_registerFuncArr.indexOf(e);if(s>=0){var n=this.m_registerFuncArr[s].m_wxOnShowRegTargetArr,i=n.indexOf(t);i>=0?(n.splice(i,1),n.length<=0&&this.m_registerFuncArr.splice(s,1)):cc.error("impossible !")}else cc.error("WXTools.unRegisterOnShow func not registered !")},n.saveImageToPhotosAlbum=function(e,t){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.authorize({scope:"scope.writePhotosAlbum",success:function(){wx.saveImageToPhotosAlbum({filePath:e,success:function(){t(0)},fail:function(){t(-1)}})},fail:function(){t(-2)}})},n.getNodeBoundBoxInCanvas=function(e){console.log("getNodeBoundBoxInCanvas",canvas.width,canvas.height);var t=e.getBoundingBoxToWorld(),s=t.width*canvas.width/cc.winSize.width,n=t.height*canvas.height/cc.winSize.height;return{x:t.xMin*canvas.width/cc.winSize.width,y:(cc.winSize.height-t.yMax)*canvas.height/cc.winSize.height,width:s,height:n}},n.wxCaptureNodeAreaSync=function(e,t,s){var n=this.getNodeBoundBoxInCanvas(e),i=1;return null!=t?i=n.height>t?t/n.height:1:null!=s&&(i=n.width>s?s/n.width:1),n.destWidth=parseInt(n.width*i),n.destHeight=parseInt(n.height*i),n.fileType="png",n.quality=.5,console.log("wxCaptureNodeAreaSync",n),canvas.toTempFilePathSync(n)},n.initGameClub=function(e){if(n.isGameClubSupported()){var t=e&&e.icon||"green",s=wx.getSystemInfoSync(),i=e&&e.style||{left:10,top:.5*s.screenHeight,width:40,height:40};this.m_gameClubButton?cc.error("WXTools iniGameClub already exist !"):this.m_gameClubButton=wx.createGameClubButton({type:"image",icon:t,style:i}),this.m_isGameClubVisible=!0}},n.showGameClub=function(){this.m_gameClubButton&&(this.m_gameClubButton.show(),this.m_isGameClubVisible=!0)},n.isGameClubExist=function(){return null!=this.m_gameClubButton},n.isGameClubVisible=function(){return this.m_isGameClubVisible},n.hideGameClub=function(){n.isGameClubSupported()&&this.m_gameClubButton&&(this.m_gameClubButton.hide(),this.m_isGameClubVisible=!1)},t.exports=n,cc._RF.pop()},{}],en:[function(e,t,s){"use strict";cc._RF.push(t,"920c5VLzJxKjYCAoIUwUHym","en"),t.exports={play:"Play",comesoon:"New Levels\nIs Coming Soon",comesoon2:"Coming Soon",loading:"Loading...",level:"Level",startgame:"Let's Go",startwith3step:"\u25b6+3 steps",privacypolicy:"Privacy Policy",music:"Music",sfx:"SFX",vibrate:"Vibrate",colorblind:"ColorBlind",exitlevel:"Exit To Map",replaylevel:"Restart",lv:"LV",moves:"MOVE",task:"Task",map:"Map",minigame:"MiniGames",costgolds:"{0}Golds",watchvideo:"Watch Ads",exitleveltips:"Are you sure to exit ?",replayleveltips:"Are you sure to restart ?",sure:"OK",addstepstips:"No more steps! Get extra 3 steps to continue ?",verygood:"Excellent",great:"Great",goon:"Keep Trying",retry:"Retry",perfect:"Perfect",excellent:"Excellent",next:"Next Level",doublegolds:"Golds X2",propcanceltips:"Tap the prop again or any empty space to deactivate",proprowtips:"Tap any grid to clear the row",propcoltips:"Tap any grid to clear the col",proprowcoltips:"Tap any grid to clear the row and col",propbombtips:"Tap any grid to clear the sudoku of nine",propsamecolortips:"Tap any base linkable dot to clear all with same color",noanwsernoresort:"No anwser, No resort",noanswersort:"No answer, Resort now",successBuyTips:"Success",propshoprowtips:"{0} Row Crush Prop",propshopcoltips:"{0} Col Crush Prop",propshoprowcoltips:"{0} Row And Col Crush Prop",propshopbombtips:"{0} Bomb Prop",propshopchangecolortips:"{0} Change Color Prop",goldshopgoldsspec:"{0} Golds",goldshopadstips:"Any Consume Can Remove The Ads Forever",blueskin:"Blue",yellowskin:"Yellow",randomskin:"Random",commonsettings:"Common",themesettings:"Theme",langsettings:"Language",speedsettings:"Game Speed",low:"Low",medium:"Medium",high:"High",goal:"Goal",rate:"Rate",rateTips:"Like this game? Can you take a few minutes to send us your valuable advice?"},cc._RF.pop()},{}],es:[function(e,t,s){"use strict";cc._RF.push(t,"64bc8uIoxZLALtn9EoyxRi0","es"),t.exports={play:"Inicio",comesoon:"Nuevos niveles \n Viene pronto",comesoon2:"Pr\xf3ximamente",loading:"Cargando...",level:"Nivel",startgame:"Let's Go",startwith3step:"\u25b6+3 pasos",privacypolicy:"Pol\xedtica de privacidad",music:"M\xfasica",sfx:"SFX",vibrate:"vibrar",colorblind:"ColorBlind",exitlevel:"Salir al mapa",replaylevel:"Reiniciar",lv:"LV",moves:"MOVER",task:"Tarea",map:"Mapa",minigame:"MiniGames",costgolds:"{0}Oros",watchvideo:"Ver anuncios",exitleveltips:"\xbfEst\xe1 seguro de salir?",replayleveltips:"\xbfEst\xe1 seguro de reiniciar?",sure:"Bueno",addstepstips:"\xa1No m\xe1s pasos! \xbfObtenga 3 pasos adicionales para continuar?",verygood:"Excelente",great:"Bien",goon:"Sigue intent\xe1ndolo",retry:"Reintentar",perfect:"Perfecto",excellent:"Excelente",next:"Siguiente nivel",doublegolds:"Golds X2",propcanceltips:"Toque la habilidad nuevamente o cualquier espacio vac\xedo para desactivar",proprowtips:"Toque cualquier cuadr\xedcula para borrar la fila",propcoltips:"Toque cualquier cuadr\xedcula para borrar la columna",proprowcoltips:"Toque cualquier cuadr\xedcula para borrar la fila y col",propbombtips:"Oca cualquier cuadr\xedcula para borrar el sudoku de nueve",propsamecolortips:"Toque cualquier punto enlazable base para borrar todo con el mismo color",noanwsernoresort:"Sin respuesta, Sin resort",noanswersort:"Sin respuesta, Resort ahora",successBuyTips:"\xc9xito",propshoprowtips:"{0} habilidad Row Crush",propshopcoltips:"{0} habilidad Col Crush",propshoprowcoltips:"{0} habilidad Row and Col Crush",propshopbombtips:"{0} Habilidad de bomba",propshopchangecolortips:"{0} Cambiar habilidad de colo",goldshopgoldsspec:"{0} Golds",goldshopadstips:"Ualquier consumo puede eliminar los anuncios",blueskin:"Azul",yellowskin:"Amarillo",randomskin:"Aleatorio",commonsettings:"Com\xfan",themesettings:"Tema",langsettings:"Idioma",speedsettings:"Velocidad de juego",low:"Bajo",medium:"Medio",high:"Alta",goal:"Goal",rate:"Rate",rateTips:"\xbfTe gusta este juego? \xbfPuedes tomar unos minutos para enviarnos tus valiosos consejos?"},cc._RF.pop()},{}],i18n:[function(e,t,s){"use strict";cc._RF.push(t,"93789C/shtIL6entYsZPjee","i18n");var n={en:!0,zh:!0,pt:!0,es:!0,zhTraditional:!0},i="",o=new(e("polyglot"))({phrases:{},allowMissing:!0}),a=[];t.exports={getDefaultLang:function(){if("zh"===cc.sys.language&&cc.sys.languageCode.indexOf("cn")<0){if(n.zhTraditional)return"zhTraditional";if(n.zh)return"zh"}return cc.sys.language&&n[cc.sys.language]?cc.sys.language:"en"},init:function(t){if(t&&n[t]&&t!==i){var s=e(t);o.replace(s);for(var r=0;r<a.length;r++)a[r]();i=t}},getCurLang:function(){return i},registerLangChangeListener:function(e){a.push(e)},removeLangChangeListener:function(e){for(var t=0;t<a.length;t++)if(a[t]===e){a.splice(t,1);break}},t:function(e,t){return o.t(e,t)}},cc._RF.pop()},{polyglot:"polyglot"}],polyglot:[function(e,t,s){(function(e){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"69decSgpRlE1rzEKp0RzG3V","polyglot"),function(e,i){"function"==typeof define&&define.amd?define([],function(){return i(e)}):"object"===(void 0===s?"undefined":n(s))?t.exports=i(e):e.Polyglot=i(e)}(void 0!==e?e:void 0,function(e){var t=String.prototype.replace;function s(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||f}s.VERSION="1.0.0",s.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},s.prototype.extend=function(e,t){var s;for(var i in e)e.hasOwnProperty(i)&&(s=e[i],t&&(i=t+"."+i),"object"===n(s)?this.extend(s,i):this.phrases[i]=s)},s.prototype.unset=function(e,t){var s;if("string"==typeof e)delete this.phrases[e];else for(var i in e)e.hasOwnProperty(i)&&(s=e[i],t&&(i=t+"."+i),"object"===n(s)?this.unset(s,i):delete this.phrases[i])},s.prototype.clear=function(){this.phrases={}},s.prototype.replace=function(e){this.clear(),this.extend(e)},s.prototype.t=function(e,t){var s,n;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?s=this.phrases[e]:"string"==typeof t._?s=t._:this.allowMissing?s=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof s&&(t=_(t),n=m(n=h(s,this.currentLocale,t.smart_count),t)),n},s.prototype.has=function(e){return e in this.phrases};var i="||||",o={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},a={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function r(e){var t,s,n,i={};for(t in e)if(e.hasOwnProperty(t))for(n in s=e[t])i[s[n]]=t;return i}var c=/^\s+|\s+$/g;function l(e){return t.call(e,c,"")}function h(e,t,s){var n;return null!=s&&e?l((n=e.split(i))[d(t,s)]||n[0]):e}function p(e){var t=r(a);return t[e]||t.en}function d(e,t){return o[p(e)](t)}var u=/\$/g,g="$$$$";function m(e,s){for(var n in s)if("_"!==n&&s.hasOwnProperty(n)){var i=s[n];"string"==typeof i&&(i=t.call(s[n],u,g)),e=t.call(e,new RegExp("%\\{"+n+"\\}","g"),i)}return e}function f(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function _(e){var t={};for(var s in e)t[s]=e[s];return t}return s}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],pt:[function(e,t,s){"use strict";cc._RF.push(t,"0c0aaUFZ+VGz4/3ieyUZ76q","pt"),t.exports={play:"Jogar",comesoon:"Novos n\xedveis \n Em breve",comesoon2:"Coming Soon",loading:"Carregando ...",level:"Level",startgame:"Vamos",startwith3step:"\u25b6+3 etapas",privacypolicy:"Pol\xedtica de Privacidade",music:"Music",sfx:"SFX",vibrate:"Vibrar",colorblind:"Dalt\xf4nico",exitlevel:"Sair para o mapa",replaylevel:"Reiniciar",lv:"LV",moves:"MOVE",task:"Task",map:"Map",minigame:"Mini-jogos",costgolds:"{0}Golds",watchvideo:"Assista a an\xfancios",exitleveltips:"Tem certeza de que deseja sair?",replayleveltips:"Tem certeza de que reiniciar?",sure:"OK",addstepstips:"Sem mais etapas! Obtenha mais tr\xeas etapas para continuar?",verygood:"Excelente",great:"Great",goon:"Continue tentando",retry:"Repetir",perfect:"Perfeito",excellent:"Excelente",next:"Next Level",doublegolds:"Golds X2",propcanceltips:"Toque na habilidade novamente ou em qualquer espa\xe7o vazio para desativar",proprowtips:"Toque em qualquer grade para limpar a linha",propcoltips:"Toque em qualquer grade para limpar a coluna",proprowcoltips:"Toque em qualquer grade para limpar a linha e a coluna",propbombtips:"Toque em qualquer grade para limpar o sudoku de nove",propsamecolortips:"Toque em qualquer ponto vincul\xe1vel de base para limpar todos da mesma cor",noanwsernoresort:"Sem resposta, Sem resort",noanswersort:"Sem resposta, Resort agora",successBuyTips:"Success",propshoprowtips:"{0} Habilidade de esmagamento de linha",propshopcoltips:"{0} Habilidade de esmagamento do colo",propshoprowcoltips:"{0} Habilidade de esmagamento de linha e coluna",propshopbombtips:"{0} Habilidade da bomba",propshopchangecolortips:"{0} Alterar habilidade de cor",goldshopgoldsspec:"{0} Golds",goldshopadstips:"Qualquer consumo pode remover os an\xfancios",blueskin:"Azul",yellowskin:"Amarelo",randomskin:"Aleat\xf3rio",commonsettings:"Common",themesettings:"Theme",langsettings:"Language",speedsettings:"Game Speed",low:"Baixo",medium:"Medium",high:"Alto",goal:"Objetivo",rate:"Rate",rateTips:"Gostou deste jogo? Voc\xea pode demorar alguns minutos para nos enviar seus conselhos valiosos?"},cc._RF.pop()},{}],zhTraditional:[function(e,t,s){"use strict";cc._RF.push(t,"a081flukbNM06Oel7bd0D9u","zhTraditional"),t.exports={play:"\u958b\u59cb",comesoon:"\u65b0\u95dc\u5361\u99ac\u4e0a\u5c31\u4f86",comesoon2:"\u99ac\u4e0a\u5c31\u4f86",loading:"\u52a0\u8f09\u4e2d...",level:"\u95dc\u5361",startgame:"\u958b\u59cb\u5427",startwith3step:"\u25b6+3\u6b65\u958b\u59cb",privacypolicy:"\u96b1\u79c1\u653f\u7b56",music:"\u97f3\u6a02",sfx:"\u97f3\u6548",vibrate:"\u632f\u52d5",colorblind:"\u8272\u76f2",exitlevel:"\u9000\u51fa\u672c\u95dc",replaylevel:"\u91cd\u73a9\u672c\u95dc",lv:"\u95dc\u5361",moves:"\u6b65\u6578",task:"\u4efb\u52d9",map:"\u5730\u5716",minigame:"\u5c0f\u904a\u6232",costgolds:"{0}\u91d1\u5e63",watchvideo:"\u89c0\u770b\u8996\u983b",exitleveltips:"\u78ba\u5b9a\u9000\u51fa\u904a\u6232\u55ce\uff1f",replayleveltips:"\u78ba\u5b9a\u91cd\u65b0\u958b\u59cb\uff1f",sure:"\u78ba\u5b9a",addstepstips:"\u60a8\u7684\u6b65\u6578\u5df2\u7d93\u7528\u5b8c\uff0c\u662f\u5426\u7372\u53d63\u6b65\u7e7c\u7e8c\u904a\u6232\uff1f",verygood:"\u975e\u5e38\u7d66\u529b",great:"\u592a\u68d2\u4e86",goon:"\u7e7c\u7e8c\u52aa\u529b",retry:"\u91cd\u8a66",perfect:"\u5b8c\u7f8e",excellent:"\u512a\u79c0",next:"\u4e0b\u4e00\u95dc",doublegolds:"\u96d9\u500d\u91d1\u5e63",propcanceltips:"\u518d\u6b21\u9ede\u64ca\u9053\u5177\u6216\u4efb\u610f\u7a7a\u767d\u5340\u57df\u53d6\u6d88",proprowtips:"\u9ede\u64ca\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u884c",propcoltips:"\u9ede\u64ca\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u5217",proprowcoltips:"\u9ede\u64ca\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u884c\u548c\u5217",propbombtips:"\u9ede\u64ca\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u4e5d\u5bae\u683c",propsamecolortips:"\u9ede\u64ca\u4efb\u610f\u57fa\u790e\u5713\u9ede\u6e05\u9664\u6240\u6709\u540c\u8272\u9ede\u9ede",noanwsernoresort:"\u7121\u89e3\uff0c\u7121\u91cd\u6392\u4e86",noanswersort:"\u7121\u89e3\u91cd\u6392",successBuyTips:"\u8cfc\u8cb7\u6210\u529f",propshoprowtips:"{0}\u500b\u6a6b\u6d88\u9053\u5177",propshopcoltips:"{0}\u500b\u8c4e\u6d88\u9053\u5177",propshoprowcoltips:"{0}\u500b\u6a6b\u8c4e\u6d88\u9053\u5177",propshopbombtips:"{0}\u500b\u70b8\u5f48\u9053\u5177",propshopchangecolortips:"{0}\u500b\u8b8a\u8272\u9053\u5177",goldshopgoldsspec:"{0}\u500b\u91d1\u5e63",goldshopadstips:"\u4efb\u610f\u6d88\u8cbb\u5373\u53ef\u79fb\u9664\u5ee3\u544a",blueskin:"\u85cd\u76ae\u819a",yellowskin:"\u9ec3\u76ae\u819a",randomskin:"\u96a8\u6a5f\u76ae\u819a",commonsettings:"\u901a\u7528",themesettings:"\u4e3b\u984c",langsettings:"\u8a9e\u8a00",speedsettings:"\u904a\u6232\u901f\u5ea6",low:"\u4f4e",medium:"\u4e2d",high:"\u9ad8",goal:"\u76ee\u6a19",rate:"\u8a55\u5206",rateTips:"\u559c\u6b61\u9019\u500b\u904a\u6232\u55ce\uff1f\u80fd\u5426\u82b1\u8cbb\u4e00\u5206\u937e\u7d66\u6211\u5011\u7559\u4e0b\u60a8\u7684\u5bf6\u8cb4\u610f\u898b\uff1f"},cc._RF.pop()},{}],zh:[function(e,t,s){"use strict";cc._RF.push(t,"87f1fs0gohHDIfNg4aePXbt","zh"),t.exports={play:"\u5f00\u59cb",comesoon:"\u65b0\u5173\u5361\u9a6c\u4e0a\u5c31\u6765",comesoon2:"\u9a6c\u4e0a\u5c31\u6765",loading:"\u52a0\u8f7d\u4e2d...",level:"\u5173\u5361",startgame:"\u5f00\u59cb\u5427",startwith3step:"\u25b6+3\u6b65\u5f00\u59cb",privacypolicy:"\u9690\u79c1\u653f\u7b56",music:"\u97f3\u4e50",sfx:"\u97f3\u6548",vibrate:"\u632f\u52a8",colorblind:"\u8272\u76f2",exitlevel:"\u9000\u51fa\u672c\u5173",replaylevel:"\u91cd\u73a9\u672c\u5173",lv:"\u5173\u5361",moves:"\u6b65\u6570",task:"\u4efb\u52a1",map:"\u5730\u56fe",minigame:"\u5c0f\u6e38\u620f",costgolds:"{0}\u91d1\u5e01",watchvideo:"\u89c2\u770b\u89c6\u9891",exitleveltips:"\u786e\u5b9a\u9000\u51fa\u6e38\u620f\u5417\uff1f",replayleveltips:"\u786e\u5b9a\u91cd\u65b0\u5f00\u59cb\uff1f",sure:"\u786e\u5b9a",addstepstips:"\u60a8\u7684\u6b65\u6570\u5df2\u7ecf\u7528\u5b8c\uff0c\u662f\u5426\u83b7\u53d63\u6b65\u7ee7\u7eed\u6e38\u620f\uff1f",verygood:"\u975e\u5e38\u7ed9\u529b",great:"\u592a\u68d2\u4e86",goon:"\u7ee7\u7eed\u52aa\u529b",retry:"\u91cd\u8bd5",perfect:"\u5b8c\u7f8e",excellent:"\u4f18\u79c0",next:"\u4e0b\u4e00\u5173",doublegolds:"\u53cc\u500d\u91d1\u5e01",propcanceltips:"\u518d\u6b21\u70b9\u51fb\u9053\u5177\u6216\u4efb\u610f\u7a7a\u767d\u533a\u57df\u53d6\u6d88",proprowtips:"\u70b9\u51fb\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u884c",propcoltips:"\u70b9\u51fb\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u5217",proprowcoltips:"\u70b9\u51fb\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u884c\u548c\u5217",propbombtips:"\u70b9\u51fb\u4efb\u610f\u683c\u5b50\u6e05\u9664\u683c\u5b50\u6240\u5728\u7684\u4e5d\u5bab\u683c",propsamecolortips:"\u70b9\u51fb\u4efb\u610f\u57fa\u7840\u5706\u70b9\u6e05\u9664\u6240\u6709\u540c\u8272\u70b9\u70b9",noanwsernoresort:"\u65e0\u89e3\uff0c\u65e0\u91cd\u6392\u4e86",noanswersort:"\u65e0\u89e3\u91cd\u6392",successBuyTips:"\u8d2d\u4e70\u6210\u529f",propshoprowtips:"{0}\u4e2a\u6a2a\u6d88\u9053\u5177",propshopcoltips:"{0}\u4e2a\u7ad6\u6d88\u9053\u5177",propshoprowcoltips:"{0}\u4e2a\u6a2a\u7ad6\u6d88\u9053\u5177",propshopbombtips:"{0}\u4e2a\u70b8\u5f39\u9053\u5177",propshopchangecolortips:"{0}\u4e2a\u53d8\u8272\u9053\u5177",goldshopgoldsspec:"{0}\u4e2a\u91d1\u5e01",goldshopadstips:"\u4efb\u610f\u6d88\u8d39\u5373\u53ef\u79fb\u9664\u5e7f\u544a",blueskin:"\u84dd\u76ae\u80a4",yellowskin:"\u9ec4\u76ae\u80a4",randomskin:"\u968f\u673a\u76ae\u80a4",commonsettings:"\u901a\u7528",themesettings:"\u4e3b\u9898",langsettings:"\u8bed\u8a00",speedsettings:"\u6e38\u620f\u901f\u5ea6",low:"\u4f4e",medium:"\u4e2d",high:"\u9ad8",goal:"\u76ee\u6807",rate:"\u8bc4\u5206",rateTips:"\u559c\u6b22\u8fd9\u4e2a\u6e38\u620f\u5417\uff1f\u80fd\u5426\u82b1\u8d39\u4e00\u5206\u949f\u7ed9\u6211\u4eec\u7559\u4e0b\u60a8\u7684\u5b9d\u8d35\u610f\u89c1\uff1f"},cc._RF.pop()},{}]},{},["ActionMore","ShaderController","SpriteLocalized","String","ToggleNoBackGround","LabelLocalized","en","es","pt","zh","zhTraditional","i18n","polyglot","SPCommonTips","SPGoldShop","SPMessageBox","SPPropBuy","SPShopItem","InitAll","AdsMgr","CPCheck","AnalysisConstant","AnalysisMgr","RemoteDataMgr","PlatformConfig","PlatformMgr","AdmobAndroid","AndroidConstant","AndroidMgr","GoogleIAP","AdmobIOS","OPPOAds","OPPOMgr","WXAds","WXMgr","WXRank","WXRankConstants","WXTools","MathHelper","UtilsMgr","SPInitAll","SPDataMgr","SPGoldNumSync","SPTaskMgr","SPUIHelper","SPGameFailed","SPGameFinishTips","SPGameGoalTips","SPGameSuccess","SPGoalDot","SPGrid","SPLevelMap","SPLevelStartTips","SPPlate","SPProp","SPRains","SPRowColBullet","SPSettings","SPSoundMgr","SPFootBallDot","SPGuardDot","SPIceDot","SPLinkDots","SPPacmanDot","SPSlushDot","SPConstant","SPElementsGenerator","SPGameEndMgr","SPGameScene","SPGoalMgr","SPKernel","SPKernelActionMgr","SPKernelGridMgr","SPKernelOperateMgr","SPLevelMgr","SPLevelParser","SPMainScene","SPPropMgr","SPSeedMgr","SPSplashScene","SPStartScene"]);